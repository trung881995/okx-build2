/*! For license information please see okx-wallet.bundle.js.LICENSE.txt */
var OKXWallet;(()=>{var e={9571:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_METHOD_BATCH_FETCHMSG=t.CONNECT_METHOD_FETCHMSG=t.CONNECT_METHOD_RECEIVE=t.CONNECT_METHOD_UNSUB=t.CONNECT_METHOD_SUB=t.CONNECT_METHOD_PUBLISH=t.CONNECT_METHOD_LOGIN=t.CONNECT_METHOD_PUSH=void 0,t.CONNECT_METHOD_PUSH="push",t.CONNECT_METHOD_LOGIN="login",t.CONNECT_METHOD_PUBLISH="publish",t.CONNECT_METHOD_SUB="subscribe",t.CONNECT_METHOD_UNSUB="unsubscribe",t.CONNECT_METHOD_RECEIVE="receive",t.CONNECT_METHOD_FETCHMSG="fetchMessages",t.CONNECT_METHOD_BATCH_FETCHMSG="batchFetchMessages"},3859:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXWalletConnector=void 0;const c=n(3404),l=n(1459),d=n(6456),u=n(3750),h=n(1031),f=n(228),g=s(n(3628)),p=n(5113),m=n(3138),y=(0,h.resolveWebSocketImplementation)();t.OKXWalletConnector=class{constructor(e){if(this.events=new f.EventEmitter,this.state=c.ConnectorState.InitState,this.selectedUrlIndex=0,this.retryCount=0,this.timeOutLimit=8e3,!(0,h.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);this.url=e,this.heartbeatTimer=null,this.connectionTimeoutTimer=null,this.connectURLStorage=new d.Storage(l.OKXCONNECTOR_CACHE_KEY+l.OKXCONNECTOR_CACHE_KEY)}get connecting(){return this.state==c.ConnectorState.Connecting}onPayload(e){if(void 0!==e.data){if(g.logDebug("get received data"),g.logDebug(e),"string"==typeof e.data&&"pong"===e.data)return void g.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);this.events.emit("payload",e.data)}}onClose(e){var t;g.logDebug("socket get closed: ",null===(t=this.socket)||void 0===t?void 0:t.url,e.code),this.socket=void 0,this.events.emit("close",e)}onError(e,t){const n={id:e,msg:t.toString()};this.events.emit("payload",n)}onopen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.state=c.ConnectorState.Connected,this.events.emit("open")}emitError(e){this.events.emit("fail",e)}heartbeat(){return a(this,void 0,void 0,(function*(){if(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.state==c.ConnectorState.Connected||this.state==c.ConnectorState.OnError){if(this.socket){if(this.socket.readyState===WebSocket.OPEN)g.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`),this.socket.send("ping"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3);else if(g.logDebug("socket not ready"),this.state==c.ConnectorState.Connected||this.state==c.ConnectorState.OnError){g.logDebug("socket reconnect by heartbeat with state",this.state,this.socket.readyState);try{yield this.tryRegistOpen()}catch(e){g.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}}else if(g.logDebug("socket not exist"),this.state==c.ConnectorState.Connected||this.state==c.ConnectorState.OnError){g.logDebug("socket reconnect by heartbeat");try{yield this.tryRegistOpen()}catch(e){g.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}}else g.logDebug("heart beat close")}))}registOpen(e=this.url,t=!1){if(!(0,h.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);return this.url=e,t||g.logDebug("Connection connect:",this.url,(new Date).toUTCString()),this.state=c.ConnectorState.Connecting,new URLSearchParams(e).get("origin"),new Promise(((t,n)=>{const r=new y(e,[]);g.logDebug("Connection connect Begin:",this.url,(new Date).toUTCString()),this.startTimeOutTimer(r),(0,h.hasBuiltInWebSocket)()?(g.logDebug("Add socket error handler"),r.onerror=()=>{n(new Error("socket error")),r.close()}):(g.logDebug("Add socket error handler"),r.on("error",(()=>{n(new Error("socket error")),r.close()}))),r.onopen=()=>{g.logDebug("socket opened"),this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED),this.onopen(r),this.heartbeat(),t(r)}}))}checkMaxRetry(){return g.logDebug("current retry count:",this.retryCount,"of",c.OKXCONNECTOR_WS_URL_LIST.length),this.retryCount>3*c.OKXCONNECTOR_WS_URL_LIST.length}connectionTryNext(){return a(this,void 0,void 0,(function*(){if(!this.checkMaxRetry()){this.retryCount+=1;let e=this.getNextSelectUrl();return g.logDebug("Connection retry:",e,(new Date).toUTCString()),this.registOpen(e,!0)}g.logDebug("Max Connection retry ",this.retryCount,(new Date).toUTCString())}))}startTimeOutTimer(e){this.connectionTimeoutTimer&&this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED),this.pendingSocket=e,this.connectionTimeoutTimer=setTimeout((()=>{this.pendingSocket&&this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)}),this.timeOutLimit)}resetTimeOutTimer(e){var t;if(e==c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)throw clearTimeout(this.connectionTimeoutTimer),null===(t=this.pendingSocket)||void 0===t||t.close(),this.pendingSocket=void 0,g.reportEvent(m.OKXReportType.LOG,"timeout",this.retryCount.toString()),new Error("socket timeout");this.pendingSocket=void 0,clearTimeout(this.connectionTimeoutTimer)}cacheSuccessUrlSelect(){this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(),l.OKXCONNECTOR_CACHE_KEY)}getNextSelectUrl(){return this.selectedUrlIndex+=1,this.selectedUrlIndex=this.selectedUrlIndex%c.OKXCONNECTOR_WS_URL_LIST.length,c.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex]}onVisibleChanged(){return a(this,void 0,void 0,(function*(){if("visible"!==document.visibilityState||(g.logDebug(`get changed ${this.state}, ${this.socket}`),this.state!=c.ConnectorState.Connected||void 0!==this.socket));else{g.logDebug("CONNECTION need reopen");try{yield this.tryRegistOpen()}catch(e){g.logError("regist open failed")}}}))}tryRegistOpen(){return a(this,arguments,void 0,(function*(e=this.url){if(this.connecting)return g.logDebug("tryRegistOpen => connecting state"),new Promise(((e,t)=>{this.events.once("fail",(e=>(g.logDebug("tryRegistOpen => connecting fail listener",e),t(e)))),this.events.once("open",(()=>void 0===this.socket?t(new Error("Connect lost")):e(this.socket)))}));g.logDebug("tryRegistOpen => try registOpen until retry limit is hit");let t=!1;for(;!this.checkMaxRetry()&&!this.socket;)try{g.logDebug("tryRegistOpen => call registOpen, try count:",this.retryCount,t),yield this.registOpen(e,t)}catch(n){g.logDebug("tryRegistOpen => registOpen failed",n),this.retryCount+=1,e=this.getNextSelectUrl(),t=!0}if(g.logDebug("tryRegistOpen => exit while loop",this.retryCount,this.socket),!this.socket&&this.checkMaxRetry())throw g.logDebug("tryRegistOpen => failed to open a socket",this.retryCount,this.socket),this.retryCount=0,this.state=c.ConnectorState.OnError,this.emitError(new Error("tryRegistOpen failed")),new p.OKXConnectError(p.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"Failed to connect")}))}connect(){return a(this,void 0,void 0,(function*(){try{yield this.tryRegistOpen(),document.removeEventListener("visibilitychange",this.onVisibleChanged.bind(this)),document.addEventListener("visibilitychange",this.onVisibleChanged.bind(this))}catch(e){throw g.logDebug("connect => failed to connect",e),e}}))}disconnect(){return a(this,void 0,void 0,(function*(){return this.state=c.ConnectorState.Disconnected,new Promise(((e,t)=>{void 0!==this.socket?(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close(),this.heartbeatTimer&&clearTimeout(this.heartbeatTimer)):e()}))}))}currentStatus(){return{state:this.state,url:this.url}}addListener(e,t,n,r,o){this.listenPayloadHandler&&this.events.removeListener("payload",this.listenPayloadHandler),this.listenPayloadHandler=i=>a(this,void 0,void 0,(function*(){var s;g.logDebug(`<<< get payload ${i}`);let a=(0,u.safeJsonParse)(i);if(a.params&&a.params.data){let i=null===(s=a.params.data)||void 0===s?void 0:s.message,c=!1;if(i&&o){let e=yield o(a.params.data);c=e.isSplitPackage&&!e.finalMessage,e.isSplitPackage&&(e.finalMessage&&e.finalMessage.length>0?(g.logDebug("CONNECT: update raw msg content"),i=e.finalMessage):(g.logDebug("CONNECT: skip raw msg content"),c=!0))}if(!c)try{let o=t(i);void 0===o?(g.logDebug("CONNECT: decrypt undefined"),r(e,"Decrypt undefined")):n(e,o)}catch(t){g.logDebug(`CONNECT: decrypt failed: ${t}`),r(e,t.message)}}})),this.events.on("payload",this.listenPayloadHandler),this.failHandler&&this.events.removeListener("fail",this.failHandler),this.failHandler=t=>{t?(g.logDebug(`CONNECT failed: ${t}`),r(e,t.message)):r(e,"Unkonow error")},this.events.on("fail",this.failHandler)}addPackageParse(e){this.payloadHandler&&this.events.removeListener("payload",this.payloadHandler),this.payloadHandler=t=>a(this,void 0,void 0,(function*(){g.logDebug(`CONNECTION @[${(new Date).toUTCString()}] <<<< received e:${t}`);let n=(0,u.safeJsonParse)(t);yield e(n)})),this.events.on("payload",this.payloadHandler)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}send(e,t){return a(this,void 0,void 0,(function*(){try{void 0===this.socket&&(g.logDebug(`>>> send payload undefined ${t}`),yield e()),g.logDebug(`CONNECTION @[${(new Date).toUTCString()}]>>> send payload ${(0,u.safeJsonStringify)(t)}`),this.socket&&this.socket.send((0,u.safeJsonStringify)(t))}catch(e){this.onError(t.id,e)}}))}getMsgPayloadFromHistory(e){return a(this,void 0,void 0,(function*(){if(void 0===e)return;let t={params:{data:e}},n=(0,u.safeJsonStringify)(e);g.logDebug("get received data from history"),g.logDebug(n),n=(0,u.safeJsonStringify)(t),this.events.emit("payload",n)}))}onOpen(e){this.openHandler&&this.events.removeListener("open",this.openHandler),this.openHandler=()=>a(this,void 0,void 0,(function*(){g.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> ws opened: `),yield e()})),this.events.on("open",this.openHandler),this.cacheSuccessUrlSelect()}}},4986:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionManager=void 0;const c=n(3859),l=n(9571),d=n(1459),u=n(4399),h=n(3404),f=n(228),g=n(6456),p=n(1031),m=n(8747),y=n(5380),v=n(6715),b=s(n(3628)),C=n(3628),w=n(3138),_=n(3631),O=n(3032);t.ConnectionManager=class{constructor(e=void 0){this.events=new f.EventEmitter,this.splitManager=new O.ConnectionSplitPackages("dapp"),this.connectStorage=new g.Storage(d.OKXCONNECTOR_CACHE_KEY_DAPP+e,d.OKXCONNECTOR_CACHE_KEY_DAPP),this.tonsdkConnectStorage=new g.Storage(d.OKXCONNECTOR_TON_KEY+e,d.OKXCONNECTOR_TON_KEY),this.crypto=new m.SessionCrypto;let t=(0,_.isInTMA)();if((0,C.logDebug)("do init:",t),b.reportLog("connection manager do init"),t)try{const e=this.getCachedCryptoKeyPair();(0,C.logDebug)("use same pk:",e),this.crypto=new m.SessionCrypto(e)}catch(e){this.connectStorage.clearCache(),b.reportEvent(w.OKXReportType.LOG,"cache_fail","cache failed")}this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new c.OKXWalletConnector(h.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.connectedWalletPK="",this.currentTopic="",b.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)}refreshPackageId(){let e=Date.now();e==this.packageId&&(this.packageId=e+1),this.packageId=e}saveCryptoKeyPair(e){let t=(0,v.safeJsonStringify)(e);this.connectStorage.encryptStoreMsg(t,d.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){const e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_CRYPTO_KEY);return"string"==typeof e?(b.logDebug("get cached crypto key:"),b.logDebug(e),(0,v.safeJsonParse)(e)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,p.toHexString)(e.publicKey),secretKey:(0,p.toHexString)(e.secretKey)};b.logDebug("save jwt kp");let n=(0,v.safeJsonStringify)(t);b.logDebug(n),this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_JWT_KEY)}getCachedJWTKeyPair(){try{const e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_JWT_KEY);if("string"==typeof e){b.logDebug("get cached jwt kp:"),b.logDebug(e);let t=(0,v.safeJsonParse)(e);return b.logDebug("save jwt kp"),b.logDebug(t),{publicKey:(0,p.hexToByteArray)(t.publicKey),secretKey:(0,p.hexToByteArray)(t.secretKey)}}return(0,y.generateKeyPair)()}catch(e){return b.reportEvent(w.OKXReportType.LOG,"cache_fail","cache failed"),(0,y.generateKeyPair)()}}isWalletPKReady(){return b.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`),this.connectedWalletPK.length>0}makeJWT(e){return a(this,void 0,void 0,(function*(){return yield(0,y.signJWT)(e,u.OKXCONNECTOR_JWT_SIDE,u.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)}))}parsePackage(e){return a(this,arguments,void 0,(function*(e,t=!1){var n,r,o,i,s,c,l,u,h,f,g,p,m;if(this.events.emit(e.id,e),!t){yield this.sendACK(e.id,!0);let t=null===(n=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE))||void 0===n?void 0:n.content;if(t){let n=e;if(null===(o=null===(r=n.params)||void 0===r?void 0:r.data)||void 0===o?void 0:o.messageId){let e=this.splitManager.tryParseMessageSplitPayload(null===(s=null===(i=n.params)||void 0===i?void 0:i.data)||void 0===s?void 0:s.message);if(e){let r={topicId:null===(l=null===(c=n.params)||void 0===c?void 0:c.data)||void 0===l?void 0:l.topic,messageId:null===(h=null===(u=n.params)||void 0===u?void 0:u.data)||void 0===h?void 0:h.messageId,messageObject:e,publishedAt:null===(g=null===(f=n.params)||void 0===f?void 0:f.data)||void 0===g?void 0:g.publishedAt},o=yield this.splitManager.onReceivedPackageCheck(r);o.completeMessageIdList&&o.completeMessageIdList.forEach((e=>a(this,void 0,void 0,(function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}))))}else this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),null===(m=null===(p=n.params)||void 0===p?void 0:p.data)||void 0===m?void 0:m.messageId,t)}}}}))}restoreConnect(e){return a(this,void 0,void 0,(function*(){if(b.reportLog("connection manager restore connection"),b.logDebug(`connectionManager  restoreConenct   ${e}`),"string"!=typeof e||0===e.length)throw new Error("CONNECTION: invalid topic");b.logDebug("connectionManager  restoreConenct   disconnect"),yield this.disconnect(!0),this.connectStorage.saveContent(e,d.OKXCONNECTOR_TOKEN_CACHE),b.logDebug("connectionManager  restoreConenct   conect"),yield this.connect(!0)}))}getConnectInfo(){var e=(0,p.generateTopic)();return b.logDebug(`generate topic token: ${e}`),b.reportLog("connection manager generate connection info"),this.currentTopic=e,{channelId:e,clientId:this.crypto.stringifyKeypair().publicKey}}connect(){return a(this,arguments,void 0,(function*(e=!1){this.timeLog=(new Date).getTime(),(0,C.logDebug)("ConnectTime---enter->",this.timeLog),b.reportLog("connection manager begin connect");let t=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);var n=this.currentTopic;if(b.logDebug(`generate topic token: ${n}`),e){null!=t&&(b.logDebug(`read last connect id: ${t}`),n=t.content);var r=this.connectStorage.getItem(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);r&&(this.connectedWalletPK=r.content,(0,C.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`)),b.reportLog("connection manager do restore connection")}if(e)try{const e=this.getCachedCryptoKeyPair();e&&(this.crypto=new m.SessionCrypto(e))}catch(e){throw b.logError("get crypto key pair from cache failed"),b.reportEvent(w.OKXReportType.LOG,"cache_fail","cache failed"),this.connectStorage.clearCache(),new Error("crypto cache failed")}b.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`),this.connectStorage.saveContent(n,d.OKXCONNECTOR_TOKEN_CACHE);var o=yield this.makeJWT(n);return b.logDebug(`generate jwt token: ${o}`),this.connectStorage.saveContent(o,"jwt"),new Promise(((e,t)=>{this.connector.onOpen((()=>a(this,void 0,void 0,(function*(){b.logDebug("1. connector on open"),b.reportLog("1. connect ws open");const r=(new Date).getTime();(0,C.logDebug)("ConnectTime---open->",r-this.timeLog),this.events.once(this.packageId.toString(),(r=>a(this,void 0,void 0,(function*(){if(r&&r.error){b.logError("failed when login"),b.reportLog("2. connect login failed"),yield this.connector.disconnect();var o=new Error;o.message=r.error.message,o.name=r.error.code.toString(),t(o)}this.refreshPackageId(),this.events.once(this.packageId.toString(),(r=>a(this,void 0,void 0,(function*(){if(r&&r.error){b.logError("failed when subscribe"),b.reportLog("3. connect subscribe failed"),yield this.connector.disconnect();var o=new Error;o.message=r.error.message,o.name=r.error.code.toString(),t(o)}this.refreshPackageId(),b.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`),b.reportLog("4. subscribe callback then send fetch");const i=(new Date).getTime();(0,C.logDebug)("ConnectTime--subscribe callback->",i-this.timeLog),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),n),b.logDebug(`5. splitmanager init: ${this.packageId}`),b.reportLog("5. splitmanager init"),yield this.splitManager.init(this.sendRaw.bind(this)),e()})))),b.logDebug(`3. login callback then send subscribe: ${this.packageId}`),b.reportLog("3. connect subscribe failed");const i=(new Date).getTime();(0,C.logDebug)("ConnectTime---login callback->",i-this.timeLog),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,C.logDebug)("ConnectionManager connect error",e),t(e)}))}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_SUB,params:{topic:n}})})))),b.logDebug("2. login called"),b.reportLog("2. connection manager connect call login"),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,C.logDebug)("ConnectionManager connect error",e),t(e)}))}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_LOGIN,params:{token:o}}),this.connector.addPackageParse((e=>{var t;if(b.logDebug("connect: parse package"),b.logDebug(e),!("params"in e)||!("data"in e.params))return void this.parsePackage(e,!0);let n=null===(t=e.params.data)||void 0===t?void 0:t.message;if(void 0!==n){n=n.replace(/'/g,'"');let e=(0,v.safeJsonParse)(n);"string"!=typeof e&&"clientId"in e&&e.clientId&&e.clientId.length>0&&(this.connectedWalletPK=e.clientId,b.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`),this.connectStorage.saveContent(this.connectedWalletPK,d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()))}this.parsePackage(e,e.method===l.CONNECT_METHOD_RECEIVE)}))})))),this.connector.connect().catch((e=>{(0,C.logDebug)("ConnectionManager connect error",e),t(e)}))}))}))}disconnect(){return a(this,arguments,void 0,(function*(e=!1){yield this.connector.disconnect(),b.reportLog("connect disconnect"),this.connectStorage.clearCache(d.OKXCONNECTOR_TOKEN_CACHE),e||(this.connectStorage.clearCache(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.connectedWalletPK="",(0,C.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`))}))}updateProtocolVersion(e,t){this.splitManager.updateTopicSenderVersion(e,t)}addListener(e,t,n){this.connector.addListener((0,v.safeJsonStringify)(e),(e=>{if(e=e.replace(/'/g,'"'),b.logDebug(`addListener ===> ${e}`),void 0!==e){var t=(0,v.safeJsonParse)(e),n=t.message;let r;return n.trimStart().startsWith("{")?r=n:(t.clientId&&t.clientId.length>0&&(this.connectedWalletPK=t.clientId,this.connectStorage.saveContent(this.connectedWalletPK,d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),b.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`),b.logDebug(`this.cryptoKey  addListener   ${(0,p.toHexString)(this.crypto.keyPair.publicKey)}`),this.saveCryptoKeyPair(this.crypto.stringifyKeypair())),r=this.crypto.decrypt(n,this.connectedWalletPK)),b.logDebug(`addListener ===> ${r}`),r}}),t,n,(e=>new Promise(((t,n)=>a(this,void 0,void 0,(function*(){let n=this.splitManager.tryParseMessageSplitPayload(e.message);if(n){let r={topicId:e.topic,messageId:null==e?void 0:e.messageId,messageObject:n,publishedAt:null==e?void 0:e.publishedAt},o=yield this.splitManager.onReceivedPackageCheck(r);t(o)}else t({isSplitPackage:!1})}))))))}sendRaw(e){return a(this,void 0,void 0,(function*(){b.logDebug(`message send =====> ${e}`),b.reportLog("connect send raw msg");let t=e;b.logDebug(`message send =====encrypt message.length>>>> ${t.length}`);let n=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);b.logDebug(`message send =====topic>>>> ${null==n?void 0:n.content}`),this.refreshPackageId();const r={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:h.CONNECT_JSONRPC_VER,params:{message:{topic:null==n?void 0:n.content,message:t,ttl:h.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),(e=>a(this,void 0,void 0,(function*(){e&&e.error?b.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&b.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r),this.packageId}))}sendEncryptedMsg(e,t){return a(this,arguments,void 0,(function*(e,t,n=h.OKXCONNECTOR_MESSAGE_TTL){this.refreshPackageId();const r={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:h.CONNECT_JSONRPC_VER,params:{message:{topic:e,message:t,ttl:n}}};this.events.once(this.packageId.toString(),(e=>a(this,void 0,void 0,(function*(){e&&e.error?b.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&b.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}send(e){return a(this,arguments,void 0,(function*(e,t=h.OKXCONNECTOR_MESSAGE_TTL){if(b.logDebug(`message send =====> ${e}`),b.reportLog("connect send msg"),!this.isWalletPKReady())throw new Error("connection not finish");let n=this.crypto.encrypt(e,this.connectedWalletPK);b.logDebug(`message send =====encrypt message.length>>>> ${n.length}`),b.reportEvent(w.OKXReportType.LOG,"msg_size",n.length.toString());let r=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);return b.logDebug(`message send =====topic>>>> ${null==r?void 0:r.content}`),yield this.splitManager.sendSplitPackages(null==r?void 0:r.content,n,this.sendEncryptedMsg.bind(this),this.sendRaw.bind(this)),this.packageId}))}sendACK(e,t){return a(this,arguments,void 0,(function*(e,t,n=void 0){if(!0===t){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}else if(n){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,error:{code:n.code,message:n.message}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}}))}sendReceive(e,t,n){return a(this,void 0,void 0,(function*(){const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:n}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}sendFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,(function*(){this.events.once(e,(e=>a(this,void 0,void 0,(function*(){var n,r;if(e.result){var o=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let n=i[e];if(n&&n.topic==t){let e=n.messageId;b.reportLog("5. get fetch result"),this.splitManager.tryParseMessageSplitPayload(n.message)?(yield this.connector.getMsgPayloadFromHistory(n),b.logDebug("skip receive")):(yield this.connector.getMsgPayloadFromHistory(n),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t))}}o&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else b.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),b.logDebug("5. send fetch more"),b.reportLog("5. send fetch more");const n=(new Date).getTime();(0,C.logDebug)("ConnectTime---5->",n-this.timeLog);const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}cleanCache(){b.reportLog("connection cache clean called"),this.connectStorage.clearCache()}saveSessionContent(e,t){t||this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let n=(0,v.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){try{let t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,v.safeJsonParse)(t)}catch(t){this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}}getCurrentConnectionReady(){let e=!1;try{this.getCachedCryptoKeyPair()&&(e=!0)}catch(e){b.logError("check connection ready failed")}return this.isWalletPKReady()&&e}getCryptoKeyEnable(){let e=!1;try{this.getCachedCryptoKeyPair()&&(e=!0)}catch(e){b.logError("check connection ready failed")}return e}}},3032:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionSplitPackages=void 0;const l=n(1459),d=c(n(3790)),u=n(1031),h=n(6715),f=s(n(3628)),g=n(3628),p="ConnectionReceiveKey",m="ConnectionSendKey",y="ConnectionSenderVersionKey";t.ConnectionSplitPackages=class{constructor(e){this.splitMessageSendArray=new Map,this.splitMessageReceivedArray=new Map,this.splitMessageSenderVersionMap=new Map,this.splitPackageCache=d.default.createInstance({name:l.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE+e})}init(e){return a(this,void 0,void 0,(function*(){if(yield this.recoverFromCache(),this.splitMessageSendArray.size>0){for(const[t,n]of this.splitMessageSendArray.entries())for(let r=0;r<n.length;){const o=n[r];try{yield e((0,h.safeJsonStringify)(o),t),f.logDebug(`Successfully sent payload: ${(0,h.safeJsonStringify)(o)} to topic: ${t}`),n.splice(r,1)}catch(e){f.logError(`Failed to send payload: ${(0,h.safeJsonStringify)(o)} to topic: ${t}`,e),o.retryCount=(o.retryCount||0)+1,o.retryCount>3?(f.logError(`Payload failed after 3 retries: ${(0,h.safeJsonStringify)(o)}`),n.splice(r,1)):r++}}yield this.syncCache()}}))}tryParseMessageSplitPayload(e){var t;let n;try{if(e.trimStart().startsWith("{")){let r=(0,h.safeJsonParse)(e);if(r&&r.protocol_version&&r.protocol_version>=2){let e=r;e.package_group_id&&(null===(t=e.package_group_id)||void 0===t?void 0:t.length)>0&&(n=r)}}else(0,g.logDebug)("not split packages")}catch(e){(0,g.logDebug)("not split packages")}return n}updateTopicSenderVersion(e,t){return a(this,void 0,void 0,(function*(){this.splitMessageSenderVersionMap.set(e,t),yield this.syncCache(),(0,g.logDebug)("get update topic sender version: ",e,t)}))}sendSplitPackages(e,t,n,r){return a(this,void 0,void 0,(function*(){if(!e)return void f.logError("sendSplitPackages invalid topic");let o=this.splitMessageSenderVersionMap.get(e),i=t.length;try{if(i<63e3)throw new Error(`no need to split (size:${i})`);if(!o||o&&o<2)throw new Error(`version not support split (version: ${o})`);const n=[];let s=63e3;for(let e=0;e<t.length;e+=s)e+s<t.length?n.push(t.slice(e,e+s)):n.push(t.slice(e));let a=(0,u.generateGroupId)(),c=n.map(((t,r)=>({topicId:e,protocol_version:2,total_count:n.length,package_index:r,package_group_id:a,content:t})));this.mergePackageArray(!0,c);for(let t=0;t<c.length;){const n=c[t],o=(0,h.safeJsonStringify)(n);try{yield r(o,e),f.logDebug(`Successfully sent payload: ${o} to topic: ${e}`),c.splice(t,1)}catch(r){f.logError(`Failed to send payload: ${o} to topic: ${e}`,r),n.retryCount=(n.retryCount||0)+1,n.retryCount>3?(f.logError(`Payload failed after 3 retries: ${o}`),c.splice(t,1)):t++}}this.splitMessageSendArray.set(e,[]),yield this.syncCache()}catch(r){(0,g.logDebug)("send split packages no split"),(0,g.logDebug)(r),yield n(e,t)}}))}onReceivedPackageCheck(e){return a(this,void 0,void 0,(function*(){this.mergePackageArray(!1,[e]);let t=new Map,n=e.topicId;this.splitMessageReceivedArray.forEach(((n,r)=>{r==e.topicId&&n.forEach((e=>{if(e.messageObject.package_group_id){let n=t.get(e.messageObject.package_group_id);n||(n=new Array),n.push(e),t.set(e.messageObject.package_group_id,n)}}))})),(0,g.logDebug)("on received message, check message cache");let r={isSplitPackage:!1};if(e.messageObject.package_group_id){r.isSplitPackage=!0;let o=t.get(e.messageObject.package_group_id);if(null==o?void 0:o.length){let t=new Set;if(o.forEach((e=>{void 0!==e.messageObject.package_index&&t.add(e.messageObject.package_index)})),t.size==e.messageObject.total_count){o.sort(((e,t)=>!e.messageObject.package_index&&0!==e.messageObject.package_index||!t.messageObject.package_index&&0!==t.messageObject.package_index?0:e.messageObject.package_index-t.messageObject.package_index));let e=o.reduce(((e,t)=>(e.push(t.messageObject.content),e)),[]),t=o.reduce(((e,t)=>(e.push(t.messageId),e)),[]);r.isSplitPackage=!0,r.finalMessage=e.join(""),r.completeMessageIdList=t;let i=this.splitMessageReceivedArray.get(n);i&&(i=i.filter((e=>!t.includes(e.messageId))),this.splitMessageReceivedArray.set(n,i)),yield this.syncCache()}}}return r}))}mergePackageArray(e,t){return a(this,void 0,void 0,(function*(){if((0,g.logDebug)("append sending array"),e){let e=t.filter((e=>{let t=e.topicId,n=!0,r=this.splitMessageSendArray.get(t);return null==r||r.forEach((t=>{t.package_group_id==e.package_group_id&&t.total_count==e.total_count&&t.package_index==e.package_index&&(n=!1)})),n}));if(e.length>0){let t=e[0].topicId,n=this.splitMessageSendArray.get(t);n||(n=new Array),n=n.concat(e),this.splitMessageSendArray.set(t,n),(0,g.logDebug)("append sending array (after filted): ",n)}}else{let e=t.filter((e=>{let t=e.topicId,n=!0,r=this.splitMessageReceivedArray.get(t);return null==r||r.forEach((t=>{t.messageId==e.messageId&&(n=!1)})),n}));if(e.length>0){let t=e[0].topicId,n=this.splitMessageReceivedArray.get(t);n||(n=new Array),n=n.concat(e),this.splitMessageReceivedArray.set(t,n),(0,g.logDebug)("append received array (after filted): ",n)}}}))}syncCache(){return a(this,void 0,void 0,(function*(){(0,g.logDebug)("sync split message cache"),yield this.splitPackageCache.setItem(p,this.splitMessageReceivedArray),yield this.splitPackageCache.setItem(m,this.splitMessageSendArray),yield this.splitPackageCache.setItem(y,this.splitMessageSenderVersionMap)}))}recoverFromCache(){return a(this,void 0,void 0,(function*(){let e=yield this.splitPackageCache.getItem(p);this.splitMessageReceivedArray=e||new Map;let t=yield this.splitPackageCache.getItem(m);this.splitMessageSendArray=t||new Map;let n=yield this.splitPackageCache.getItem(y);this.splitMessageSenderVersionMap=n||new Map}))}}},3404:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectorState=t.CONNECT_PROTOCOL_VER=t.CONNECT_JSONRPC_VER=t.OKXCONNECTOR_MESSAGE_TTL=t.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE=t.OKXCONNECTOR_WS_URL_LIST=t.OKXCONNECTOR_WS_URL_IDX_KEY=t.OKXCONNECTOR_WS_URL_3=t.OKXCONNECTOR_WS_URL_2=t.OKXCONNECTOR_WS_URL_1=t.EVENT_EMITTER_MAX_LISTENERS=t.OKXCONNECTOR_PROTOCOL_VERSION=void 0,t.OKXCONNECTOR_PROTOCOL_VERSION=2,t.EVENT_EMITTER_MAX_LISTENERS=10,t.OKXCONNECTOR_WS_URL_1="wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_2="wss://wsdexpri.okx.ac/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_3="wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_IDX_KEY="wuik",t.OKXCONNECTOR_WS_URL_LIST=[t.OKXCONNECTOR_WS_URL_1,t.OKXCONNECTOR_WS_URL_2,t.OKXCONNECTOR_WS_URL_3],t.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE={TIME_OUT:3990,CANCELED:3991,FINISHED:3992},t.OKXCONNECTOR_MESSAGE_TTL=3e5,t.CONNECT_JSONRPC_VER="2.0",t.CONNECT_PROTOCOL_VER=2,t.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3,OnError:4}},6331:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Engine=void 0;const o=n(5113),i=n(3404),s=n(3750),a=n(9872),c=n(4986),l=n(6812),d=n(5332);t.Engine=class{constructor(e){this.connectors=[],this.useConnector=void 0,this.connectionManager=new c.ConnectionManager(e),this.addConnectionListener()}getConnector(){if(this.useConnector)return this.useConnector}setAccountChangeListener(e){this.accountChangeListener=e,(0,s.logDebug)("setAccountChangeListener: engine",e);for(const t of this.connectors)t.setAccountChangeListener(e)}registerConnector(e){this.connectors=e;for(const t of e)t.setConnectionManager(this.connectionManager)}hasWsConnector(){for(const e of this.connectors)if(this.isWsConnector(e))return!0;return!1}isWsConnector(e){return!!e&&(e.getTag()===a.OKX_TG_WALLET||e.getTag()===a.OKX_APP_WALLET)}isInjectedConnector(e){return!!e&&e.getTag()===a.OKX_INJECT_WALLET}universalConnect(e,t,n){return r(this,void 0,void 0,(function*(){return this.addConnectionListener(),new Promise(((i,c)=>r(this,void 0,void 0,(function*(){var r,u,h,f;try{(0,s.logDebug)("engine universalConnect request :",JSON.stringify(e)),(0,s.logDebug)("engine universalConnect sessionConfig :",JSON.stringify(t));let p=[];e.forEach((e=>{let t=e.name;(t.startsWith("requestAccounts")||t.startsWith("ton"))&&p.push(e)})),(0,s.logDebug)("engine universalConnect universalRequest :",JSON.stringify(p));const m=this.connectionManager.getConnectInfo(),y=Date.now().toString();let v=null!==(r=t.openUniversalUrl)&&void 0!==r&&r;const b={protocolVer:Number(o.tonConnectSdkVersion),topic:m.channelId,clientId:m.clientId,requestId:y,dAppInfo:t.dappInfo,requests:p,redirect:null!==(u=null==t?void 0:t.redirect)&&void 0!==u?u:"none"},C=(0,s.encodeConnectParams)(b);b.redirect=null!==(h=null==t?void 0:t.redirect)&&void 0!==h?h:"none",(0,s.logDebug)("engine universalConnect ==>>universalConnectRequest:",JSON.stringify(b));var g="";v&&(g=(0,s.getOKXLink)(b,t.useMini,t.tmaReturnUrl),(0,s.logDebug)("engine universalConnect ==>>openOKXLink:",g));const w=()=>1==this.connectors.length&&this.connectors[0].getTag()===a.OKX_INJECT_WALLET?this.connectors[0].openWallet({connectRequest:b}):t.useMini?(0,s.openOKXTMAWalletlinkWithFallback)(g):(0,s.useShortLink)()?(0,s.openOKXUniversalLink)(g):(0,s.openOKXDeeplinkWithFallback)(g);(0,s.logDebug)("engine universalConnect ==>>openOKXLink:",g);const _=(0,s.isIos)();if(_&&v&&((0,s.logDebug)(`engine universalConnect ==>>isIOS: ${_}   openUniversalLink: ${v}`),w()),this.addOnConnectResultListener((e=>{var n,r,u,h;try{this.addOnConnectResultListener(void 0);let c=e;if("connect"==c.method){(0,s.logDebug)("engin  universalConnect success connectResponse:>>>",JSON.stringify(c));let e=(0,l.buildNameSpacesByConnectResponse)(c);if(!e)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);{let l;var f;switch((null===(r=null===(n=c.payload)||void 0===n?void 0:n.responses)||void 0===r?void 0:r[0])&&"walletName"in c.payload.responses[0]&&(l=c.payload.responses[0].walletName),null===(u=c.payload)||void 0===u?void 0:u.wallet.appName){case d.OKXWalletName:f=a.OKX_APP_WALLET;break;case d.OKXMiniWalletName:f=a.OKX_TG_WALLET;break;case d.OKXInjectWalletName:f=a.OKX_INJECT_WALLET}var g=this.connectors.find((e=>e.getTag()===f));if(!g)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);let h=Object.assign({topic:m.channelId,sessionConfig:t,namespaces:e},c.payload&&{wallet:Object.assign(Object.assign({},c.payload.wallet),{walletName:l})}),p=c.payload.responses.find((e=>"requestAccounts"===e.name));p&&p.connectRequestMethods&&(h.signResponse=p.connectRequestMethods),(0,s.logDebug)("engin  universalConnect success session:>>>",JSON.stringify(h)),this.isWsConnector(g)&&((0,s.logDebug)("engine update protocol version"),this.connectionManager.updateProtocolVersion(m.channelId,c.payload.wallet.maxProtocolVersion)),i(h),this.setUseConnector(g)}}else if("connect_error"==c.method&&null!=(null===(h=c.payload)||void 0===h?void 0:h.code))throw new o.OKXConnectError(c.payload.code)}catch(e){c(e)}})),this.hasWsConnector()){yield null===(f=this.connectionManager)||void 0===f?void 0:f.disconnect(!1);try{yield this.connectionManager.connect()}catch(e){throw(0,s.logDebug)("Engine universalConnect error",e),e}(0,s.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",n),this.sendSession(C)}if(!_&&v&&w(),(0,s.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",n),n){const e={connectRequest:b,redirect:t.redirect,tmaReturnUrl:t.tmaReturnUrl};(0,s.logDebug)("universalConnect connectInfoAndUrl info :",JSON.stringify(e)),n(e)}}catch(e){(0,s.logDebug)("Engine universalConnect catch error",e),c(e)}}))))}))}addOnConnectResultListener(e){for(const t of this.connectors)this.isInjectedConnector(t)&&t.setOnConnectResultListener(e);this.connectResultListener=e}openWallet(e,t){var n;t?t.openWallet(e):null===(n=this.getConnector())||void 0===n||n.openWallet(e)}send(e,t,n){return r(this,void 0,void 0,(function*(){var r;return null===(r=this.getConnector())||void 0===r?void 0:r.send(e,t,n)}))}clearData(){var e;null===(e=this.getConnector())||void 0===e||e.clearData()}addDisconnectListener(e){var t;null===(t=this.getConnector())||void 0===t||t.addDisconnectListener(e)}saveSessionContent(e,t){this.connectionManager.saveSessionContent(e,t)}getSessionContent(e){var t,n=this.connectionManager.getSessionContent(e);if(n){var r="";if("object"==typeof n&&(r=(0,a.getTagByappName)(null===(t=n.wallet)||void 0===t?void 0:t.appName)),this.connectors.find((e=>e.getTag()===r)))return n}}setConnectConnector(e){var t=(0,a.getTagByappName)(null==e?void 0:e.appName);t&&this.setUseConnector(this.connectors.find((e=>e.getTag()===t)))}setUseConnector(e){this.useConnector=e,this.isWsConnector(e)&&e.addConnectionListener()}setSessionConnectingListener(e){this.sessionConnectingListener=e}restoreconnect(e,t){return r(this,void 0,void 0,(function*(){var n;yield null===(n=this.getConnector())||void 0===n?void 0:n.restoreconnect(e,t)}))}restoreconnectFromTopic(e){return r(this,void 0,void 0,(function*(){this.isWsConnector(this.getConnector())&&(yield this.getConnector().restoreconnectFromTopic(e))}))}getCurrentConnectionReady(e){var t;return!!(null===(t=this.getConnector())||void 0===t?void 0:t.getCurrentConnectionReady(e))}connectManagerDisconnect(){return r(this,arguments,void 0,(function*(e=!1){var t;yield null===(t=this.getConnector())||void 0===t?void 0:t.connectManagerDisconnect(e)}))}sendSession(e){return r(this,void 0,void 0,(function*(){(0,s.logDebug)("[Connect] sendSession called:",e);const t=Date.now().toString();let n={method:"session_info",params:{protocolVersion:i.CONNECT_PROTOCOL_VER,sessionInfo:e}};yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},n),{requestId:t})))}))}addConnectionListener(){var e;null===(e=this.connectionManager)||void 0===e||e.addListener("sdk_response",((e,t)=>{var n=(0,s.safeJsonParse)(t);(0,s.logDebug)(`Engine ==>> addListener ==> success ==> ${n}`),"connect"===n.method||"connect_error"===n.method?this.connectResultListener&&this.connectResultListener(n):"session_connecting"===n.method&&((0,s.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener"),this.sessionConnectingListener&&((0,s.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener not null"),this.sessionConnectingListener(),this.sessionConnectingListener=void 0))}),(function(){}))}}},9685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Engine=t.WalletConnectionManager=t.ConnectionManager=t.OKXWalletConnector=void 0;var r=n(3859);Object.defineProperty(t,"OKXWalletConnector",{enumerable:!0,get:function(){return r.OKXWalletConnector}});var o=n(4986);Object.defineProperty(t,"ConnectionManager",{enumerable:!0,get:function(){return o.ConnectionManager}});var i=n(6657);Object.defineProperty(t,"WalletConnectionManager",{enumerable:!0,get:function(){return i.WalletConnectionManager}});var s=n(6331);Object.defineProperty(t,"Engine",{enumerable:!0,get:function(){return s.Engine}});var a=n(6456);Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return a.Storage}})},5380:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MULTICODEC_ED25519_LENGTH=t.MULTICODEC_ED25519_HEADER=t.MULTICODEC_ED25519_BASE=t.MULTICODEC_ED25519_ENCODING=t.DID_METHOD=t.DID_PREFIX=t.DID_DELIMITER=t.KEY_PAIR_SEED_LENGTH=t.DATA_ENCODING=t.JSON_ENCODING=t.JWT_ENCODING=t.JWT_DELIMITER=t.JWT_IRIDIUM_TYP=t.JWT_IRIDIUM_ALG=t.JWTHeaderType=void 0,t.generateKeyPair=function(){return h.default.sign.keyPair()},t.decodeJSON=p,t.encodeJSON=m,t.encodeIss=y,t.decodeIss=v,t.encodeSig=b,t.decodeSig=C,t.encodeData=w,t.decodeData=function(e){var n,r;const o=(0,g.okxtoString)(e,t.DATA_ENCODING).split(t.JWT_DELIMITER);return{header:p(null!==(n=o[0])&&void 0!==n?n:"{}"),payload:p(null!==(r=o[1])&&void 0!==r?r:"{}")}},t.encodeJWT=_,t.decodeJWT=O,t.signJWT=function(e,n,r,o){return a(this,arguments,void 0,(function*(e,n,r,o,i=Math.floor(Date.now())){const s={alg:t.JWT_IRIDIUM_ALG,typ:t.JWT_IRIDIUM_TYP},a={iss:y(o.publicKey),sub:e,aud:n,act:"authenticate user",iat:i,exp:i+r},c=w({header:s,payload:a});return f.logDebug(`get sec kp: ${o.secretKey} {${o.secretKey.length}}`),_({header:s,payload:a,signature:h.default.sign.detached(c,o.secretKey)})}))},t.verifyJWT=function(e){return a(this,void 0,void 0,(function*(){const{header:n,payload:r,data:o,signature:i}=O(e);if(n.alg!==t.JWT_IRIDIUM_ALG||n.typ!==t.JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");const s=v(r.iss);return l.verify(s,o,i)}))};const l=s(n(4904)),d=n(6715),u=n(1031),h=c(n(8947)),f=s(n(3628)),g=n(8444);function p(e){return(0,d.safeJsonParse)((0,g.okxtoString)((0,g.okxfromString)(e,t.JWT_ENCODING),t.JSON_ENCODING))}function m(e){return(0,g.okxtoString)((0,g.okxfromString)((0,d.safeJsonStringify)(e),t.JSON_ENCODING),t.JWT_ENCODING)}function y(e){f.logDebug(`publicKey: ${(0,u.toHexString)(e)}`);var n=(0,g.okxtoString)(e,t.MULTICODEC_ED25519_ENCODING);return[t.DID_PREFIX,t.DID_METHOD,n].join(t.DID_DELIMITER)}function v(e){const[n,r,o]=e.split(t.DID_DELIMITER);if(n!==t.DID_PREFIX||r!==t.DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if(void 0===o)throw new Error("multicodec is undefined");const i=(0,g.okxfromString)(o,t.MULTICODEC_ED25519_ENCODING);if(void 0===i||i.length!==t.MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return i}function b(e){return(0,g.okxtoString)(e,t.JWT_ENCODING)}function C(e){return(0,g.okxfromString)(e,t.JWT_ENCODING)}function w(e){return(0,g.okxfromString)([m(e.header),m(e.payload)].join(t.JWT_DELIMITER),t.DATA_ENCODING)}function _(e){return[m(e.header),m(e.payload),b(e.signature)].join(t.JWT_DELIMITER)}function O(e){var n,r,o;const i=e.split(t.JWT_DELIMITER);return{header:p(null!==(n=i[0])&&void 0!==n?n:"{}"),payload:p(null!==(r=i[1])&&void 0!==r?r:"{}"),signature:C(null!==(o=i[2])&&void 0!==o?o:"{}"),data:(0,g.okxfromString)(i.slice(0,2).join(t.JWT_DELIMITER),t.DATA_ENCODING)}}t.JWTHeaderType="dapp",t.JWT_IRIDIUM_ALG="EdDSA",t.JWT_IRIDIUM_TYP="JWT",t.JWT_DELIMITER=".",t.JWT_ENCODING="base64url",t.JSON_ENCODING="utf8",t.DATA_ENCODING="utf8",t.KEY_PAIR_SEED_LENGTH=32,t.DID_DELIMITER=":",t.DID_PREFIX="did",t.DID_METHOD="key",t.MULTICODEC_ED25519_ENCODING="base58btc",t.MULTICODEC_ED25519_BASE="z",t.MULTICODEC_ED25519_HEADER="K36",t.MULTICODEC_ED25519_LENGTH=32},4399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXCONNECTOR_JWT_TTL=t.OKXCONNECTOR_JWT_WALLET_SIDE=t.OKXCONNECTOR_JWT_SIDE=void 0,t.OKXCONNECTOR_JWT_SIDE="wallet",t.OKXCONNECTOR_JWT_WALLET_SIDE="dapp",t.OKXCONNECTOR_JWT_TTL=864e5},6812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildNameSpacesByConnectResponse=function(e){return o(e)},t.buildRequestAccountNameSpacesByConnectResponse=o,t.buildAccountNameSpaces=i;const r=n(3628);function o(e){let t={};(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse start connectResponse111>>",JSON.stringify(e));let n=e.payload.responses.find((e=>"requestAccounts"===e.name));if(n&&n.accounts){let e=[];for(const t of n.accounts)"ton"===t.namespace?t.data&&t.data.ton_addr&&t.data.ton_addr.address&&t.data.ton_addr.address.length>0&&((0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse start TON>>",JSON.stringify(t)),e.push(t)):((0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse start other>>",JSON.stringify(t)),e.push(t));n.accounts=e}const o=e.payload.responses.find((e=>"ton_addr"===e.name)),s=e.payload.responses.find((e=>"ton_proof"===e.name));if(o&&!n){(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse adapt ton data >>");let e=o.address;e="ton:"+o.network+":"+e;let t={ton_addr:o};s&&(t.ton_proof=s),n={name:"requestAccounts",accounts:[{namespace:"ton",addresses:[e],methods:["ton_sendTransaction"],extra:{},data:t}]}}return(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>",JSON.stringify(n)),i(n.accounts,t),t}function i(e,t){e.forEach((e=>{var n=[],o=[];e.addresses.forEach((e=>{var t=e.split(":");if((0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse addressArr>>",t.length),t.length>=3){let i=t.slice(0,2).join(":");n.push(i),o.push(e),(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse chain:>>",i,"addressItem:",e)}})),e.data&&e.data.ton_addr&&(e.data.ton_addr.name="ton_addr"),e.data&&e.data.ton_proof&&(e.data.ton_proof.name="ton_proof"),t[e.namespace]={chains:n,accounts:o,methods:e.methods,extra:e.extra,payload:e.data},(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse result>>",JSON.stringify(t))}))}},6456:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=void 0;const c=n(1459),l=a(n(8947)),d=n(1031),u=n(3750),h=s(n(3628)),f=n(3750),g=n(1396);class p{constructor(e,t=void 0){const n=(0,d.resolveLocalStorage)();this.storeKey="",this.cipherIV="",this.subKey=e,h.logDebug("--------get current local storage --------"),h.logDebug(n),this.synchronizedCache()}checkAndUpgradeCache(e,t){if(e&&e.length>0&&t&&t.length>0){h.logDebug("--------get current local storage --------"),h.logDebug(localStorage);const n=localStorage.getItem(p.cacheKey+e);if(null==n)return void h.logDebug("no pre cache content");h.logDebug(n),(null==n?void 0:n.length)>0&&(h.logDebug("write in cache content: ",e,"->",t),localStorage.setItem(p.cacheKey+t,n),h.logDebug("clean in cache content: ",e),localStorage.removeItem(p.cacheKey+e))}else h.logDebug("no pre cache key:",e)}saveContent(e,t,n="-"){let r={id:n,timestamp:Date.now().toString(),content:e};this.saveItem(r,t)}saveItem(e,t){let n=p.cacheKey+this.subKey;const r=(0,d.resolveLocalStorage)();h.logDebug(this.cache),h.logDebug(`get cache obj: ${this.cache}, ${t}, ${e}`),this.cache[t]=e;let o=(0,u.safeJsonStringify)(this.cache);h.logDebug(`STORAGE: ${t} @ ${this.cache}`),r.setItem(n,o)}getItem(e){return h.logDebug(`STORAGE >> getItem: ${e} @ ${this.cache}`),this.cache[e]}synchronizedCache(){const e=localStorage.getItem(p.cacheKey+this.subKey);if(null==e)return h.logDebug("with no cache"),void(this.cache={});if(h.logDebug(e),(null==e?void 0:e.length)>0){var t=(0,u.safeJsonParse)(e);this.cache=t}h.logDebug(`get cache obj: ${this.cache}`),void 0!==this.cache&&null!=this.cache||(this.cache={})}getCachedPBKDF2InfoKey(){var e,t,n,r;if(this.storeKey.length>0&&(null===(e=this.cipherIV)||void 0===e?void 0:e.length)>0)return{pw:this.storeKey,iv:this.cipherIV};let o=null===(t=this.getItem(c.OKXCONNECTOR_STORAGER_CRYPTO_SALT))||void 0===t?void 0:t.content;o||(o=(0,d.toHexString)(l.default.randomBytes(24)),this.saveContent(o,c.OKXCONNECTOR_STORAGER_CRYPTO_SALT));let i=null===(n=this.getItem(c.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD))||void 0===n?void 0:n.content;i||(i=(0,d.toHexString)(l.default.randomBytes(32)),this.saveContent(i,c.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD));let s=null===(r=this.getItem(c.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV))||void 0===r?void 0:r.content;if(!s){let e=l.default.randomBytes(16);s=(0,d.toHexString)(e),this.saveContent(s,c.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)}return this.cipherIV=s,this.storeKey=(0,g.PBKDF2)(i,o,{iterations:10}).toString(),{pw:this.storeKey,iv:this.cipherIV}}encryptStoreMsg(e,t){(0,f.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);let n=this.getCachedPBKDF2InfoKey();(0,f.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);var r=g.AES.encrypt(e,n.pw).toString();this.saveContent(r,t),(0,f.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`)}getAndDecrypt(e){(0,f.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);let t=this.getItem(e);if(t&&t.content){let e=this.getCachedPBKDF2InfoKey();(0,f.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);let n=g.AES.decrypt(t.content,e.pw).toString(g.enc.Utf8);return(0,f.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`),n}return null}clearCache(e=void 0){if(void 0===e){const e=(0,d.resolveLocalStorage)();this.cache={};let t=p.cacheKey+this.subKey;e.setItem(t,"")}else{let t=p.cacheKey+this.subKey;const n=(0,d.resolveLocalStorage)();h.logDebug(this.cache),this.cache[e]=null;let r=(0,u.safeJsonStringify)(this.cache);h.logDebug(`STORAGE: clean key ${e} @ ${this.cache}`),n.setItem(t,r)}}}t.Storage=p,p.cacheKey="OKXStorageKey"},1459:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE=t.OKXCONNECTOR_STORAGE_CIPHER_METHOD=t.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV=t.OKXCONNECTOR_STORAGER_CRYPTO_SALT=t.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD=t.OKXCONNECTOR_TON_KEY=t.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE=t.OKXCONNECTOR_TOKEN_CACHE=t.OKXCONNECTOR_JWT_KEY=t.OKXCONNECTOR_SESSION_PREFIX_KEY=t.OKXCONNECTOR_CRYPTO_KEY=t.OKXCONNECTOR_CACHE_KEY_DAPP=t.OKXCONNECTOR_CACHE_KEY=void 0,t.OKXCONNECTOR_CACHE_KEY="ck",t.OKXCONNECTOR_CACHE_KEY_DAPP="ck_dapp",t.OKXCONNECTOR_CRYPTO_KEY="cck_k",t.OKXCONNECTOR_SESSION_PREFIX_KEY="cspk_",t.OKXCONNECTOR_JWT_KEY="cjk_k",t.OKXCONNECTOR_TOKEN_CACHE="ct",t.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE="csp",t.OKXCONNECTOR_TON_KEY="OKXStorage_ctc",t.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD="scp",t.OKXCONNECTOR_STORAGER_CRYPTO_SALT="scs",t.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV="scpc",t.OKXCONNECTOR_STORAGE_CIPHER_METHOD="aes-256-cbc",t.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE="okx_connect_split_cache_key"},8543:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnectionManagerEvent=t.WalletConnectionManagerTopicInfoCacheKey=void 0,t.WalletConnectionManagerTopicInfoCacheKey="wcmtic",t.WalletConnectionManagerEvent={RECEIVE_REQUEST:"payload"}},6657:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnectionManager=void 0;const c=n(3859),l=n(9571),d=n(1459),u=n(4399),h=n(3404),f=n(8543),g=n(3032),p=n(228),m=n(6456),y=n(1031),v=n(8747),b=n(5380),C=n(6715),w=s(n(3628)),_=n(3628),O=n(3750);t.WalletConnectionManager=class{constructor(){this.events=new p.EventEmitter,this.communicateEvents=new p.EventEmitter,this.splitManager=new g.ConnectionSplitPackages("wallet"),w.logDebug("connect manager construct"),this.connectStorage=new m.Storage(d.OKXCONNECTOR_CACHE_KEY),this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new c.OKXWalletConnector(h.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.sessionCryptoInfoMap=new Map,this.inLogin=!1,this.isLogined=!1}refreshPackageId(e=0){let t=Date.now()+e;t==this.packageId&&(this.packageId=t+1),this.packageId=t}saveCryptoKeyPair(e,t){let n=(0,C.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_CRYPTO_KEY+e)}getCachedCryptoKeyPair(e){const t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_CRYPTO_KEY+e);return"string"==typeof t?(w.logDebug("get cached crypto key:"),w.logDebug(t),(0,C.safeJsonParse)(t)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,y.toHexString)(e.publicKey),secretKey:(0,y.toHexString)(e.secretKey)};w.logDebug("save jwt kp");let n=(0,C.safeJsonStringify)(t);w.logDebug(n),this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_JWT_KEY),w.logDebug("after save jwt kp")}getCachedJWTKeyPair(){const e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_JWT_KEY);if("string"==typeof e){w.logDebug("get cached jwt kp:"),w.logDebug(e);let t=(0,C.safeJsonParse)(e);return w.logDebug("save jwt kp"),w.logDebug(t),{publicKey:(0,y.hexToByteArray)(t.publicKey),secretKey:(0,y.hexToByteArray)(t.secretKey)}}return(0,b.generateKeyPair)()}isTopicPublicKeyExist(e){return w.logDebug(`isTopicPublicKeyExist  ===> ${e}`),this.sessionCryptoInfoMap.get(e)}makeJWT(e){return a(this,void 0,void 0,(function*(){return yield(0,b.signJWT)(e,u.OKXCONNECTOR_JWT_WALLET_SIDE,u.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)}))}parseInternalMsg(e){try{let t=(0,C.safeJsonParse)(e)["ivur-igbfft-ptjip"];if(t&&t.length>0)return(0,O.base64decode)(t,!0).toString()}catch(e){w.logError("parse internal msg",e)}}updateClientId(e,t){let n=this.sessionCryptoInfoMap.get(e);if((0,_.logDebug)("updateClientId",n,e,t),n&&t&&t.length>0){if(n.cid){let r=(0,y.getLastSixMd5Hash)(t);n.cid==r?n.dappPublicKey=t:w.logError("cid check failed",n,e,t)}else n.dappPublicKey=t;this.syncCacheSessionInfo()}return!1}parsePackage(e,t){return a(this,arguments,void 0,(function*(e,t,n=!1){var r,o,i,s,c,l,d,u,h,f,g,p,m,y,v,b,E;this.events.emit(t.id,t);let S=this.sessionCryptoInfoMap.get(e);w.logDebug("get sessionInfo for decrypt topic:",e),w.logDebug("get sessionInfo for decrypt:",t.id,e,S,this.sessionCryptoInfoMap);let N=!1;if(S&&t.params.data&&(null===(r=t.params.data)||void 0===r?void 0:r.message))if(null===(o=t.params.data)||void 0===o?void 0:o.isInternalData){let e=null===(i=t.params.data)||void 0===i?void 0:i.message,n=null===(s=t.params.data)||void 0===s?void 0:s.topic,r=this.parseInternalMsg(e);(0,_.logDebug)("parse internal origin: ",r),r&&r.length>0&&this.communicateEvents.emit("origin",r,n)}else try{let n=null===(c=t.params.data)||void 0===c?void 0:c.message;if(n.trimStart().startsWith("{")){let r=this.splitManager.tryParseMessageSplitPayload(n);if(r){(0,_.logDebug)("parse split msg object: ",r),N=!0;let n={topicId:null===(d=null===(l=t.params)||void 0===l?void 0:l.data)||void 0===d?void 0:d.topic,messageId:null===(h=null===(u=t.params)||void 0===u?void 0:u.data)||void 0===h?void 0:h.messageId,messageObject:r,publishedAt:null===(g=null===(f=t.params)||void 0===f?void 0:f.data)||void 0===g?void 0:g.publishedAt},o=yield this.splitManager.onReceivedPackageCheck(n);if(o.completeMessageIdList&&o.completeMessageIdList.forEach((t=>a(this,void 0,void 0,(function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),t,e)})))),o.finalMessage){let t=S.crypto.decryptWallet(o.finalMessage,S.dappPublicKey);(0,_.logDebug)("<<< receive msg from split:",e,t),this.communicateEvents.emit(e,t)}}else{let t=(0,C.safeJsonParse)(n);if(t.method){if("session_info"==t.method){let n=t.params.sessionInfo,r=(0,O.base64decode)(n,!1);(0,_.logDebug)("wallet connection manager requset base64Content:",r),(0,_.logDebug)("base64Content:"+r);let o=r.toObject();this.updateClientId(e,o.clientId)}(0,_.logDebug)("<<< parse raw msg:",e,t),this.communicateEvents.emit(e,n)}}}else{let n=S.crypto.decryptWallet(null===(p=t.params.data)||void 0===p?void 0:p.message,S.dappPublicKey);(0,_.logDebug)("<<< receive msg:",e,n),this.communicateEvents.emit(e,n)}}catch(n){let r=S.crypto.decryptWallet(null===(m=t.params.data)||void 0===m?void 0:m.message,S.dappPublicKey);(0,_.logDebug)("<<< receive msg:",e,r),this.communicateEvents.emit(e,r)}if(!n&&(yield this.sendACK(t.id,!0),e&&!N)){let n=t;(null===(v=null===(y=n.params)||void 0===y?void 0:y.data)||void 0===v?void 0:v.messageId)&&(this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),null===(E=null===(b=n.params)||void 0===b?void 0:b.data)||void 0===E?void 0:E.messageId,e))}}))}recovrySessionInfoFromCache(){let e=this.connectStorage.getAndDecrypt(f.WalletConnectionManagerTopicInfoCacheKey);if(w.logDebug("get cached sessionInfos:",e),e){let t=(0,C.safeJsonParse)(e);for(let e in t){let n=t[e];w.logDebug("make topicItem:",n);let r={topic:e,crypto:new v.SessionCrypto({publicKey:n.cryptoKeyPair.publicKey,secretKey:n.cryptoKeyPair.secretKey}),dappPublicKey:n.dappPublicKey,cid:n.cid};this.sessionCryptoInfoMap.set(e,r)}}w.logDebug("get cached sessionInfos map:",this.sessionCryptoInfoMap)}syncCacheSessionInfo(){let e={};for(let[t,n]of this.sessionCryptoInfoMap)w.logDebug("for each Keys",t),n&&(e[t]={cryptoKeyPair:n.crypto.stringifyKeypair(),dappPublicKey:n.dappPublicKey,cid:n.cid});let t=(0,C.safeJsonStringify)(e);w.logDebug("sync cache sessionInfos:",t),this.connectStorage.encryptStoreMsg(t,f.WalletConnectionManagerTopicInfoCacheKey)}cacheSessionInfo(e,t,n=!0){let r=t.dappPublicKey,o=[];for(let[e,t]of this.sessionCryptoInfoMap)w.logDebug("for each Keys",e),t.dappPublicKey==r&&(w.logDebug("duplicated dapp public key:",e,r),o.push(e));for(let[e,t]of this.sessionCryptoInfoMap)o.includes(e)&&this.sessionCryptoInfoMap.delete(e);return w.logDebug("cleaned connect session cache:",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.set(e,t),w.logDebug("cache sessionInfo:",e,t,this.sessionCryptoInfoMap),n&&this.syncCacheSessionInfo(),o}updateProtocolVersion(e,t){this.splitManager.updateTopicSenderVersion(e,t)}appendTopic(e,t,n){return a(this,void 0,void 0,(function*(){return(0,_.logDebug)("4.1. get append Topic:",e),new Promise(((r,o)=>a(this,void 0,void 0,(function*(){if(!this.isLogined){var i=new Error;return i.message="connection is not logined",i.name="append error",void o(i)}let s={topic:e,crypto:new v.SessionCrypto,dappPublicKey:t||"",cid:n},a=this.cacheSessionInfo(e,s,!1);yield this.subscribeTopics(Array.from([e])),this.refreshPackageId(),w.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${e}`),w.reportLog("5. subscribe callback then fetch append message");const c=(new Date).getTime();(0,_.logDebug)("Append --subscribe callback->",c-this.timeLog),r(a)}))))}))}confirmAppendingTopics(){this.syncCacheSessionInfo()}connect(){return a(this,void 0,void 0,(function*(){this.timeLog=(new Date).getTime(),(0,_.logDebug)("[Wallet] ConnectTime---enter->",this.timeLog),w.reportLog("wallet connect connect called");let e=Date.now().toString();var t=yield this.makeJWT(e);return w.logDebug(`generate jwt token: ${t}`),this.connectStorage.saveContent(t,"jwt"),this.recovrySessionInfoFromCache(),new Promise(((e,n)=>{this.inLogin=!0,this.connector.onOpen((()=>a(this,void 0,void 0,(function*(){w.logDebug("1. connector on open"),w.reportLog("1. wallet connect connect on open");const r=(new Date).getTime();(0,_.logDebug)("ConnectTime---open->",r-this.timeLog),this.events.once(this.packageId.toString(),(t=>a(this,void 0,void 0,(function*(){if(t&&t.error){w.logError("failed when login"),yield this.connector.disconnect();var r=new Error;r.message=t.error.message,r.name=t.error.code.toString(),n(r)}else this.isLogined=!0,e(),w.logDebug("3. subscribe cached topics",this.sessionCryptoInfoMap),w.reportLog("3. wallet connect connect subscribe cached topics"),this.sessionCryptoInfoMap.size>0&&(yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys())))})))),w.logDebug("2. login called"),w.reportLog("2. wallet connect login called"),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_LOGIN,params:{token:t}})})))),this.connector.connect().catch((e=>{(0,_.logDebug)("WalletConnectionManager connect error",e),n(e)})),this.connector.addPackageParse((e=>{var t,n;w.logDebug("connect: parse package"),w.logDebug(e),"params"in e&&"data"in e.params?(null===(t=e.params.data)||void 0===t?void 0:t.topic)&&this.parsePackage(null===(n=e.params.data)||void 0===n?void 0:n.topic,e,e.method===l.CONNECT_METHOD_RECEIVE):this.parsePackage("",e,!0)}))}))}))}getSessionPublicKey(e){if(this.isTopicPublicKeyExist(e)){let t=this.sessionCryptoInfoMap.get(e);if(t)return(0,y.toHexString)(t.crypto.keyPair.publicKey)}}getCurrentCachedTopicIdList(){return Array.from(this.sessionCryptoInfoMap.keys())}disconnect(){return a(this,arguments,void 0,(function*(e=!1){yield this.connector.disconnect(),this.connectStorage.clearCache(d.OKXCONNECTOR_TOKEN_CACHE),e||this.connectStorage.clearCache(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE)}))}sendRaw(e,t){return a(this,void 0,void 0,(function*(){t&&(yield this.sendMsg(t,e,h.OKXCONNECTOR_MESSAGE_TTL))}))}sendMsg(e,t,n){return a(this,void 0,void 0,(function*(){if(t){this.refreshPackageId();const r={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:h.CONNECT_JSONRPC_VER,params:{message:{topic:e,message:t,ttl:n}}};this.events.once(this.packageId.toString(),(e=>a(this,void 0,void 0,(function*(){e&&e.error?w.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&w.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}}))}send(e,t){return a(this,arguments,void 0,(function*(e,t,n=!1,r=h.OKXCONNECTOR_MESSAGE_TTL,o=!1){var i,s;if(w.logDebug(`message send =====> ${t}`),!this.isTopicPublicKeyExist(e))throw new Error("connection not finish");let a,c=null===(i=this.sessionCryptoInfoMap.get(e))||void 0===i?void 0:i.dappPublicKey,l=null===(s=this.sessionCryptoInfoMap.get(e))||void 0===s?void 0:s.crypto;o&&(a={message:t});let d=!1;if(l&&c&&!o&&(d=!0,a={message:l.encryptWallet(t,c)}),a){n&&l&&(a.clientId=(0,y.toHexString)(l.keyPair.publicKey));let t=(0,C.safeJsonStringify)(a);!o&&d?yield this.splitManager.sendSplitPackages(e,t,this.sendMsg.bind(this),this.sendRaw.bind(this)):yield this.sendMsg(e,t,r)}}))}sendACK(e,t){return a(this,arguments,void 0,(function*(e,t,n=void 0){if(!0===t){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}else if(n){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,error:{code:n.code,message:n.message}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}}))}sendReceive(e,t,n){return a(this,void 0,void 0,(function*(){const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:n}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}sendUnsubscribe(e){return a(this,void 0,void 0,(function*(){yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_UNSUB,params:{topic:e}}),this.sessionCryptoInfoMap.delete(e),this.syncCacheSessionInfo()}))}sendFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,(function*(){this.events.once(e,(e=>a(this,void 0,void 0,(function*(){var n,r;if(e.result){var o=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let n=i[e];if(n&&n.topic==t){let e=n.messageId;yield this.connector.getMsgPayloadFromHistory(n),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}}o&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else w.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),w.logDebug("5. send fetch more");const n=(new Date).getTime();(0,_.logDebug)("ConnectTime---5->",n-this.timeLog);const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}sendBatchFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,(function*(){this.events.once(e,(e=>a(this,void 0,void 0,(function*(){var n,r;if(e.result){var o=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let t=i[e];if(t&&t.topic)if(this.splitManager.tryParseMessageSplitPayload(t.message))yield this.connector.getMsgPayloadFromHistory(t);else{let n=t.messageId;yield this.connector.getMsgPayloadFromHistory(t),this.refreshPackageId(e),yield this.sendReceive(this.packageId.toString(),n,t.topic)}}o&&(this.refreshPackageId(),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),t))}else w.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),w.logDebug("5. send fetch more"),w.reportLog("5. send fetch more");const n=(new Date).getTime();(0,_.logDebug)("ConnectTime---5->",n-this.timeLog);const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_BATCH_FETCHMSG,params:{topics:t,withInternalData:!0}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}cleanCache(){return a(this,void 0,void 0,(function*(){this.connectStorage.clearCache()}))}saveSessionContent(e,t){t||this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let n=(0,C.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){let t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,C.safeJsonParse)(t)}subscribeTopics(e){return a(this,void 0,void 0,(function*(){(0,_.logDebug)("4. topicid list",e),w.reportLog("4. topicid list"),this.refreshPackageId();const t=(new Date).getTime();return(0,_.logDebug)("ConnectTime--subscribe callback->",t-this.timeLog),new Promise(((t,n)=>a(this,void 0,void 0,(function*(){let n=0;for(let r=0;r<e.length;++r){let o=e[r];this.refreshPackageId(r),this.events.once(this.packageId.toString(),(i=>a(this,void 0,void 0,(function*(){if(i&&i.error){w.logError("failed when subscribe"),yield this.connector.disconnect();var s=new Error;s.message=i.error.message,s.name=i.error.code.toString(),n+=1,n==e.length&&t()}this.refreshPackageId(r);const a=(new Date).getTime();(0,_.logDebug)("ConnectTime--subscribe callback->",a-this.timeLog),n+=1,n==e.length&&(w.logDebug(`5. send fetch msg: ${this.packageId}, ${o}`),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),e),yield this.splitManager.init(this.sendRaw.bind(this)),t())})))),w.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${o}`),w.reportLog("3. login callback then send subscribe");const i=(new Date).getTime();(0,_.logDebug)("ConnectTime---login callback->",i-this.timeLog),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_SUB,params:{topic:o}})}}))))}))}}},5160:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppwalletConnector=void 0;const r=n(4814),o=n(9872),i=n(3750),s=n(2512);class a extends r.WsConnector{constructor(){super(),this.walletName="OKX App",this.walletNameKey="walletModal.mobileConnectionModal.connectApp"}getTag(){return o.OKX_APP_WALLET}openWallet(e){var t;if(e&&e.connectRequest){let n=e.connectRequest;if((0,i.logDebug)(`appwallet-connector openwallet before useSHortLink engineConnectInfo.connectRequest JSON ${JSON.stringify(e)}`),(0,i.useShortLink)()){let e=(0,i.getOKXLink)(n);(0,i.openOKXUniversalLink)(e)}else{(0,i.logDebug)(`appwallet-connector openwallet else connectRequest ${n}`);let r=(0,i.encodeConnectParams)(Object.assign(Object.assign({},n),{redirect:null!==(t=e.redirect)&&void 0!==t?t:"none"})),o=(0,i.getAppWalletDeepLink)(r);(0,i.openOKXDeeplinkWithFallback)(o)}}else(0,i.isOS)("android")?(0,i.openDeeplinkWithFallback)(s.stackDeepLink,(()=>{})):(0,i.openLinkBlank)(s.standardUniversalLink)}}t.AppwalletConnector=a},9872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_TG_WALLET=t.OKX_APP_WALLET=t.OKX_INJECT_WALLET=void 0,t.getTagByappName=function(e){var n="";if(e)switch(e){case r.OKXWalletName:n=t.OKX_APP_WALLET;break;case o.OKXMiniWalletName:n=t.OKX_TG_WALLET;break;case o.OKXInjectWalletName:n=t.OKX_INJECT_WALLET}return n};const r=n(5113),o=n(5332);t.OKX_INJECT_WALLET="okx_inject_wallet",t.OKX_APP_WALLET="okx_app_wallet",t.OKX_TG_WALLET="okx_tg_wallet"},2636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OkxwalletInjectTonsdkConnector=t.OkxwalletInjectConnector=t.WsConnector=t.TgwalletConnector=t.InjectConnector=t.getTagByappName=t.OKX_INJECT_WALLET=t.OKX_APP_WALLET=t.OKX_TG_WALLET=t.AppwalletConnector=void 0;var r=n(5160);Object.defineProperty(t,"AppwalletConnector",{enumerable:!0,get:function(){return r.AppwalletConnector}});var o=n(9872);Object.defineProperty(t,"OKX_TG_WALLET",{enumerable:!0,get:function(){return o.OKX_TG_WALLET}}),Object.defineProperty(t,"OKX_APP_WALLET",{enumerable:!0,get:function(){return o.OKX_APP_WALLET}}),Object.defineProperty(t,"OKX_INJECT_WALLET",{enumerable:!0,get:function(){return o.OKX_INJECT_WALLET}}),Object.defineProperty(t,"getTagByappName",{enumerable:!0,get:function(){return o.getTagByappName}});var i=n(4637);Object.defineProperty(t,"InjectConnector",{enumerable:!0,get:function(){return i.InjectConnector}});var s=n(504);Object.defineProperty(t,"TgwalletConnector",{enumerable:!0,get:function(){return s.TgwalletConnector}});var a=n(4814);Object.defineProperty(t,"WsConnector",{enumerable:!0,get:function(){return a.WsConnector}});var c=n(4023);Object.defineProperty(t,"OkxwalletInjectConnector",{enumerable:!0,get:function(){return c.OkxwalletInjectConnector}});var l=n(6723);Object.defineProperty(t,"OkxwalletInjectTonsdkConnector",{enumerable:!0,get:function(){return l.OkxwalletInjectTonsdkConnector}})},4637:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InjectConnector=void 0;const o=n(5113),i=n(3750),s=n(9872),a=n(2971),c=n(5332),l=n(5352),d=n(3098),u=n(647),h=n(2088),f=n(3585),g=n(1031),p=n(6812),m=n(8037);t.InjectConnector=class{constructor(){this.disconnectListener=[],this.providerMap=new Map,this.disconnectHandler=null,this.walletName="",this.walletNameKey="",this.enable=!0,this.providerMap.set(o.NameSpaceKeyEip155,new h.Eip155Provider),this.providerMap.set(o.NameSpaceKeySOL,new a.SolProvider),this.providerMap.set(o.NameSpaceKeyAptos,new l.AptosProvider),this.providerMap.set(o.NameSpaceKeyTON,new u.TONProvider),this.providerMap.set(o.NameSpaceKeySui,new f.SuiProvider),this.providerMap.set(o.NameSpaceKeyBtc,new m.BtcProvider)}setAccountChangeListener(e){(0,i.logDebug)("setAccountChangeListener: inject",e),this.accountChangeListener=e}setConnectionManager(e){this.connectionManager=e}getInjectProvider(e){if(e)for(const[t,n]of this.providerMap.entries())if(e.includes(t))return n}openWallet(e){return r(this,void 0,void 0,(function*(){var t,n,r;if((0,i.logDebug)("InjectEngine connect begin:",JSON.stringify(e)),!e)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);this.dappInfo=e.connectRequest.dAppInfo;var s=e.connectRequest;try{if(!window||!window.okxwallet)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);if(s.requests){let e=s.requests.find((e=>"requestAccounts"===e.name)),i=yield window.okxwallet.getVersion(),l={method:"connect",requestId:s.requestId,payload:{wallet:{platform:null!==(t=navigator.platform)&&void 0!==t?t:"/",appName:c.OKXInjectWalletName,appVersion:null!=i?i:"1.0.0",maxProtocolVersion:1},responses:[]}},u={name:"requestAccounts",accounts:[]};l.payload.responses.push(u),yield this.disconnect();const h=null!==(n=e.requiredNamespaces)&&void 0!==n?n:[],f=null!==(r=e.optionalNamespaces)&&void 0!==r?r:[];let g=!0,p=!1;if(h.length+f.length===1&&!(0,d.isDevice)("mobile")){const e=1===h.length?h[0]:f[0],t=this.getInjectProvider(e.namespace);(yield null==t?void 0:t.singleConnect(e,this.dappInfo))&&(p=!0,g=!1)}var a=yield this.getAccountByRequestWallets(g,!1,p,h,f);if(!a)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null");if(u.accounts.push(...a),0===u.accounts.length)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect connectAccounts is null");this.connectResultListener&&(this.disconnectHandler&&window.okxwallet.removeListener("disconnect",this.disconnectHandler),this.disconnectHandler=()=>{console.log("window.okxwallet disconnect:"),this.disconnectListener.forEach((e=>e())),this.disconnectListener=[]},window.okxwallet.on("disconnect",this.disconnectHandler),this.connectResultListener(l))}}catch(e){var l=o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR;e instanceof o.OKXConnectError&&(l=e.code,e.message),this.connectResultListener&&this.connectResultListener({requestId:"-1",method:"connect_error",payload:{code:l}})}}))}disconnect(){return r(this,void 0,void 0,(function*(){(0,i.logDebug)("InjectEngine ==>> disconnect  okxwallet.disconnect()"),window.okxwallet&&(yield window.okxwallet.disconnect(),(0,i.logDebug)("InjectEngine ==>> disconnect end okxwallet.disconnect()"))}))}getRequestId(){const e=Date.now().toString();return(0,i.logDebug)("InjectEngine ==>> getRequestId ==>",e),e}send(e,t){return r(this,void 0,void 0,(function*(){var n;try{(0,i.logDebug)("InjectEngine send  > request:",(0,i.safeJsonStringify)(e));let r=e;if("disconnect"===r.method)return yield this.disconnect(),this.disconnectListener.forEach((e=>e())),this.disconnectListener=[],void(null===(n=t.onAck)||void 0===n||n.call(t));yield this.checkWalletMatch();const s=this.getInjectProvider((0,i.getNamespaceKeyByChain)(r.chainId));if(s)return void s.send(r).then((e=>{var n;(0,i.logDebug)("InjectEngine ==>> send > result:",e),null===(n=t.resolve)||void 0===n||n.call(t,e)})).catch((n=>{var r;let s=n.code;4001===s&&(s=o.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);let a={requestId:this.getRequestId(),method:e.method,error:{code:s,message:n.message}};(0,i.logDebug)("InjectEngine ==>> send > errorResponse:",JSON.stringify(a)),null===(r=t.resolve)||void 0===r||r.call(t,a)}));throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED)}catch(e){return(0,i.logDebug)("InjectEngine ==>> send  ===> error:",e),Promise.reject(e)}}))}checkWalletMatch(){return r(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{var n;let r=null===(n=this.connectionManager)||void 0===n?void 0:n.getSessionContent("connectSession");r||t(new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)),this.restoreconnect(r,(n=>{n?e():t(new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED))}))}))}))}checkAccountChanged(){return r(this,void 0,void 0,(function*(){var e;try{let t=null===(e=this.connectionManager)||void 0===e?void 0:e.getSessionContent("connectSession");if(!t)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);(0,i.logDebug)("inject-connector checkAccountChanged --sessionInfo:",JSON.stringify(t));let n=this.getRequireNameSpaceFromSession(t);(0,i.logDebug)("inject-connector checkAccountChanged --requiredNamespaces:",JSON.stringify(n));let r=yield this.getAccountByRequestWallets(!1,!0,!1,n,[]);if((0,i.logDebug)("inject-connector checkAccountChanged --accounts:",JSON.stringify(r)),!r)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null");{let e={};(0,p.buildAccountNameSpaces)(r,e),this.compareAndModifyNamespaces(t.namespaces,e)||((0,i.logDebug)("inject-connector checkAccountChanged --result sessionLocal:",JSON.stringify(t)),this.accountChangeListener?((0,i.logDebug)("inject-connector checkAccountChanged -accountChangeListener:",this.accountChangeListener),this.accountChangeListener(t)):((0,i.logDebug)("inject-connector checkAccountChanged disconnect:"),yield this.disconnect()))}}catch(e){throw(0,i.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(e)),e}}))}compareAndModifyNamespaces(e,t){let n=!0;for(const r in e)if(t[r]){const o=e[r],s=t[r];(0,i.logDebug)("inject-connector checkAccountChanged ns1:",JSON.stringify(o)),(0,i.logDebug)("inject-connector checkAccountChanged ns2:",JSON.stringify(s)),JSON.stringify([...o.accounts].sort())===JSON.stringify([...s.accounts].sort())||(n=!1,o.accounts=[...s.accounts],o.extra=Object.assign({},s.extra),o.payload=Object.assign({},s.payload)),(0,i.logDebug)("inject-connector checkAccountChanged new ns1:",JSON.stringify(o))}return(0,i.logDebug)(`inject-connector checkAccountChanged compareAndModifyNamespaces ===> ${n}`),n}clearData(){this.connectResultListener=void 0}addDisconnectListener(e){this.disconnectListener.push(e)}setOnConnectResultListener(e){this.connectResultListener=e}connectManagerDisconnect(){return r(this,arguments,void 0,(function*(e=!1){}))}getCurrentConnectionReady(e){return!!e&&e.every((e=>{var t;return null===(t=this.getInjectProvider(e))||void 0===t?void 0:t.connectReady()}))}getTag(){return s.OKX_INJECT_WALLET}toJSON(){return"inject-connector"}getRequireNameSpaceFromSession(e){var t,n,r=[];for(let i in e.namespaces){let s=e.namespaces[i],a={namespace:i,chains:s.chains};if(i===o.NameSpaceKeyAptos){let e=[];s.chains.forEach((t=>{let n=(0,g.replaceChainNameToChainId)(t);e.push(n)})),a={namespace:i,chains:e}}else if(i===o.NameSpaceKeyTON){let e,r;(null===(t=s.payload)||void 0===t?void 0:t.ton_proof)&&(e=null===(n=s.payload)||void 0===n?void 0:n.ton_proof,e.proof.payload&&(r={name:"ton_proof",payload:e.proof.payload})),a={namespace:i,chains:s.chains,params:{ton_addr:{name:"ton_addr"},ton_proof:r}}}r.push(a)}return r}restoreconnect(e,t){var n;if(window.okxwallet){this.dappInfo=null===(n=e.sessionConfig)||void 0===n?void 0:n.dappInfo,(0,i.logDebug)("inject-connector restoreconnect --sessionInfo:",JSON.stringify(e));var r=this.getRequireNameSpaceFromSession(e);(0,i.logDebug)("inject-connector restoreconnect --requiredNamespaces:",JSON.stringify(r)),this.getAccountByRequestWallets(!1,!1,!1,r,[]).then((n=>{(0,i.logDebug)("inject-connector restoreconnect --accounts:",JSON.stringify(n));let r=!0;for(let t in e.namespaces){var s=n.find((e=>e.namespace===t)),a=e.namespaces[t].accounts;if(!s)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: accountItem error");let c=a;t===o.NameSpaceKeyAptos&&c&&c.length>0&&(c=a.map((e=>(0,g.replaceChainNameToChainId)(e)))),s.addresses.length===c.length&&s.addresses.slice().sort().every(((e,n)=>{if(t===o.NameSpaceKeyAptos){let t=c.slice().sort()[n];return(0,i.logDebug)("check aptos address -value and aptosAdd--",e,t),t===e}return e===c.slice().sort()[n]}))||(r=!1)}if(!r)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: address not as same as session");t(e)})).catch((e=>{(0,i.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(e)),t(null)}))}else t(null)}getAccountByRequestWallets(e,t,n,s,a){return r(this,void 0,void 0,(function*(){try{var r=[],c=[];if((0,d.isDevice)("mobile")){var l=yield window.okxwallet.connectWallet(e,{requiredNamespaces:s,optionalNamespaces:a});r.push(l)}else r=yield window.okxwallet.requestWallets(e);var u=[...null!=s?s:[],...null!=a?a:[]];let h,f=r[0];if((0,i.logDebug)(" InjectEngine connect connectAccounts:",JSON.stringify(f)),u&&f&&f.address)for(const[r,o]of this.providerMap.entries()){let i=yield o.parseConnectResponse(e,t,n,u,f,this.dappInfo);i&&(h=r,c.push(i))}let g=s.every((e=>{let t=c.find((t=>t.namespace===e.namespace));return!!t&&e.chains.every((e=>!!t.addresses.find((t=>t.startsWith(e+":")))))}));if((0,i.logDebug)("InjectEngine connect requiredNamespaces:",JSON.stringify(s)),(0,i.logDebug)("InjectEngine connect accountResult:",JSON.stringify(c)),!g)throw yield this.disconnect(),new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);return(0,d.isDevice)("mobile")||(this.configEventWithKey(h),yield window.okxwallet.requestWallets(e)),c}catch(e){if(e&&"object"==typeof e&&"code"in e&&4001===e.code)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}}))}configEventWithKey(e){var t,n;for(let e in this.providerMap)null===(t=this.providerMap.get(e))||void 0===t||t.removeListener();null===(n=this.getInjectProvider(e))||void 0===n||n.addListener((()=>{this.checkAccountChanged().catch((e=>{console.log("window.okxwallet configEventWithKey error: ",e)}))}))}}},4023:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OkxwalletInjectConnector=void 0;const r=n(4637);class o extends r.InjectConnector{constructor(){super(),this.walletName="OKX Wallet extension",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected"}}t.OkxwalletInjectConnector=o},6723:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OkxwalletInjectTonsdkConnector=void 0;const o=n(4637),i=n(5113),s=n(3750),a=n(3098);class c extends o.InjectConnector{constructor(){super(),this.walletName="OKX Wallet extension",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected"}checkWalletMatch(){return r(this,void 0,void 0,(function*(){var e,t,n;null===(e=this.connectionManager)||void 0===e||e.tonsdkConnectStorage.synchronizedCache();let r=null===(t=this.connectionManager)||void 0===t?void 0:t.tonsdkConnectStorage.getItem("ton_connect_info_adapter_universal");if(!r||!(null==r?void 0:r.content))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);const o=null==r?void 0:r.content;let c,l=JSON.parse(o),d=l.connectEvent.payload.items.find((e=>"name"in e&&"ton_addr"===e.name));if(this.dappInfo=l.dappInfo,d&&"address"in d&&(c=d.address),!c)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if((0,s.logDebug)(`inject-connector localTonaddress : ${c}`),(0,a.isDevice)("mobile")){let e;e={namespace:i.NameSpaceKeyTON,chains:[i.TON_CHAINS.MAINNET],params:{ton_addr:{name:"ton_addr"}}};let t=yield this.getAccountByRequestWallets(!1,!1,!1,[e],[]);if(t&&1==t.length){let e=null===(n=t[0].data)||void 0===n?void 0:n.ton_addr;if(c===(null==e?void 0:e.address))return}}else{let e=yield window.okxTonWallet.tonconnect.restoreConnection();if("connect"===e.event&&e.payload.items.find((e=>"ton_addr"===e.name)).address==c)return}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)}))}}t.OkxwalletInjectTonsdkConnector=c},504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TgwalletConnector=void 0;const r=n(4814),o=n(9872),i=n(3750);class s extends r.WsConnector{constructor(){super(),this.walletName="OKX Mini Wallet",this.walletNameKey="walletModal.mobileConnectionModal.connectMini"}getTag(){return o.OKX_TG_WALLET}openWallet(e){var t,n;e&&e.connectRequest&&(n=(0,i.encodeTWAConnectURLParams)(Object.assign(Object.assign({},e.connectRequest),{redirect:"none"})));var r=(0,i.getTelegramWalletTWAUrl)(n,null!==(t=null==e?void 0:e.tmaReturnUrl)&&void 0!==t?t:"back");(0,i.openOKXTMAWalletlinkWithFallback)(r)}}t.TgwalletConnector=s},4814:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WsConnector=void 0;const o=n(6715),i=n(3628);t.WsConnector=class{constructor(){this.disconnectListener=[],this.walletName="",this.walletNameKey="",this.enable=!0,this.pendingRequests=new Map,(0,i.getDefaultReporter)().beginReport()}setAccountChangeListener(e){this.accountChangeListener=e}setConnectionManager(e){this.connectionManager=e}addConnectionListener(){var e;null===(e=this.connectionManager)||void 0===e||e.addListener("sdk_response",((e,t)=>{var n=(0,o.safeJsonParse)(t);(0,i.logDebug)(`Engine ==>> addListener ==> success ==> ${n}`),this.handleResponse(e,n)}),(function(){}))}addDisconnectListener(e){this.disconnectListener.push(e)}connectManagerDisconnect(){return r(this,arguments,void 0,(function*(e=!1){var t;yield null===(t=this.connectionManager)||void 0===t?void 0:t.disconnect(e)}))}openWallet(e){}bindRequestForPromise(e,t){this.pendingRequests.set(e,t)}send(e,t,n){return r(this,void 0,void 0,(function*(){var r,s;(0,i.logDebug)("Engine ==>> send  request==>",JSON.stringify(e));const a=this.getRequestId();try{let c=yield null===(r=this.connectionManager)||void 0===r?void 0:r.send(JSON.stringify(Object.assign(Object.assign({},e),{requestId:a})),n);c&&(null===(s=this.connectionManager)||void 0===s||s.events.once(c.toString(),(e=>{var n;(0,i.logDebug)(`Engine ==> send => onAck => ${(0,o.safeJsonStringify)(e)}`),e&&e.result&&(null===(n=t.onAck)||void 0===n||n.call(t))}))),t.resolve&&this.bindRequestForPromise(a,t.resolve)}catch(e){return Promise.reject(e)}}))}restoreconnect(e,t){return r(this,void 0,void 0,(function*(){var n;yield null===(n=this.connectionManager)||void 0===n?void 0:n.restoreConnect(e.topic),t(e)}))}restoreconnectFromTopic(e){return r(this,void 0,void 0,(function*(){var t;yield null===(t=this.connectionManager)||void 0===t?void 0:t.restoreConnect(e)}))}getRequestId(){const e=Date.now().toString();return(0,i.logDebug)("Engine ==>> getRequestId ==>",e),e}handleResponse(e,t){if((0,i.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0,o.safeJsonStringify)(t)}`,e),"requestId"in t){(0,i.logDebug)("Engine ==>> handleResponse_2  ===> in response");let e=t.requestId;const n=this.pendingRequests.get(e);n?((0,i.logDebug)("Engine ==>> handleResponse_3  ===> find resolve:",n),n(t),this.pendingRequests.delete(e)):((0,i.logDebug)("Engine ==>> handleResponse_3  ===> not find resolve:"),"disconnect"===t.method&&(this.disconnectListener.forEach((e=>e())),this.disconnectListener=[],this.clearData()))}}getCurrentConnectionReady(){var e;return!!(null===(e=this.connectionManager)||void 0===e?void 0:e.getCurrentConnectionReady())}saveSessionContent(e,t){var n;null===(n=this.connectionManager)||void 0===n||n.saveSessionContent(e,t)}getSessionContent(e){var t;return null===(t=this.connectionManager)||void 0===t?void 0:t.getSessionContent(e)}setOnConnectResultListener(e){this.connectResultListener=e}getTag(){return""}toJSON(){return"ws-connector"}clearData(){this.pendingRequests.clear()}}},8747:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionCrypto=void 0;const o=r(n(8947)),i=n(1031);t.SessionCrypto=class{constructor(e=void 0){this.nonceLength=24,this.sessionKeyPair=e?this.createKeypairFromString(e):this.createKeypair()}createKeypair(){return o.default.box.keyPair()}createKeypairFromString(e){return{publicKey:(0,i.hexToByteArray)(e.publicKey),secretKey:(0,i.hexToByteArray)(e.secretKey)}}createNonce(){return o.default.randomBytes(this.nonceLength)}get keyPair(){return this.sessionKeyPair}encrypt(e,t){const n=(new TextEncoder).encode(e),r=this.createNonce(),s=o.default.box(n,r,(0,i.hexToByteArray)(t),this.keyPair.secretKey);let a=(0,i.concatUint8Arrays)(r,s);var c=(0,i.toHexString)(a),l=(new TextEncoder).encode(c);return(0,i.base64encode)(l,!1)}encryptWallet(e,t){const n=(new TextEncoder).encode(e),r=this.createNonce(),s=o.default.box(n,r,(0,i.hexToByteArray)(t),this.keyPair.secretKey);let a=(0,i.concatUint8Arrays)(r,s);return(0,i.base64encode)(a,!1)}decrypt(e,t){let n=(0,i.base64decode)(e,!0).toUint8Array();const[r,s]=(0,i.splitToUint8Arrays)(n,this.nonceLength),a=o.default.box.open(s,r,(0,i.hexToByteArray)(t),this.keyPair.secretKey);if(!a)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${(0,i.toHexString)(this.keyPair.publicKey)} \n keypair secretkey: ${(0,i.toHexString)(this.keyPair.secretKey)}`);return(new TextDecoder).decode(a)}decryptWallet(e,t){let n=(0,i.base64decode)(e,!0),r=(0,i.hexToByteArray)(n.toString());const[s,a]=(0,i.splitToUint8Arrays)(r,this.nonceLength),c=o.default.box.open(a,s,(0,i.hexToByteArray)(t),this.keyPair.secretKey);if(!c)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${(0,i.toHexString)(this.keyPair.publicKey)} \n keypair secretkey: ${(0,i.toHexString)(this.keyPair.secretKey)}`);return(new TextDecoder).decode(c)}stringifyKeypair(){return{publicKey:(0,i.toHexString)(this.keyPair.publicKey),secretKey:(0,i.toHexString)(this.keyPair.secretKey)}}}},1188:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9685),t),o(n(5113),t),o(n(3750),t),o(n(2088),t),o(n(2636),t)},6586:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtcMethods=t.SuiMethods=t.TONMethods=t.AptosMethods=t.SOLANAMethods=t.Eip55Methods=void 0,t.hasOKXInjectedProvider=function(){return void 0!==function(){const e=(t,n)=>{const[r,...o]=n.split("."),i=t[r];if(i)return 0===o.length?i:e(i,o.join("."))};if("undefined"!=typeof window)return e(window,"okxwallet")}()},t.Eip55Methods=["personal_sign","eth_signTypedData_v4","eth_sendTransaction","wallet_addEthereumChain","wallet_watchAsset","wallet_switchEthereumChain","eth_requestAccounts","eth_accounts","eth_chainId"],t.SOLANAMethods=["solana_signTransaction","solana_signMessage","solana_signAllTransactions","solana_signAndSendTransaction"],t.AptosMethods=["aptos_signMessage","aptos_signTransaction","aptos_signAndSubmitTransaction"],t.TONMethods=["ton_sendTransaction"],t.SuiMethods=["sui_signMessage","sui_signPersonalMessage","sui_signTransactionBlock","sui_signAndExecuteTransactionBlock"],t.BtcMethods=["btc_signMessage","btc_signPsbts","btc_send","btc_sendInscription","btc_signAndPushPsbt","btc_inscribeTransfer","btc_sendRunes"]},2088:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(6586),t),o(n(52),t)},5352:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AptosProvider=void 0;const o=n(5113),i=n(3750),s=n(6586),a=n(3098),c=n(3790),l=Object.freeze(["637","70000060","70000066"]),d=new Map;d.set("aptos:637","Mainnet"),d.set("aptos:70000060","Movement Testnet"),d.set("aptos:70000066","Movement Mainnet"),t.AptosProvider=class{send(e){return r(this,void 0,void 0,(function*(){try{(0,i.logDebug)("AptosProvider send request:",(0,i.safeJsonStringify)(e)),yield this.restoreConnect();let t=yield window.okxwallet.aptos.network(),n=this.searchChainIdToInjectChainName(e.chainId);if((0,i.logDebug)("AptosProvider send network and searchNetwork:",t,"-----",n),!t||!n||t.toLowerCase()!==n.toLowerCase())throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Please switch your wallet link to '${n}'`);const r=e.method;let s;switch(r){case"aptos_signMessage":if(e.injectParams){let t=yield window.okxwallet.aptos.signMessage(e.injectParams);return s={method:e.method,result:t.signature,injectResult:t},(0,i.logDebug)("AptosProvider send result:",(0,i.safeJsonStringify)(s)),s}throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${r}'`);case"aptos_signTransaction":{(0,i.logDebug)("AptosProvider Method>>>> :",r);let t=yield window.okxwallet.aptos.signTransaction(e.params);return s={method:e.method,result:t},(0,i.logDebug)("AptosProvider send result:",(0,i.safeJsonStringify)(s)),s}case"aptos_signAndSubmitTransaction":{(0,i.logDebug)("AptosProvider Method>>>> :",r);let t=yield window.okxwallet.aptos.signAndSubmitTransaction(e.params);return s={method:e.method,result:t.hash},(0,i.logDebug)("AptosProvider send result:",(0,i.safeJsonStringify)(s)),s}default:throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,` method: '${r}'`)}}catch(e){throw(0,i.logDebug)("AptosProvider send error:",e),e}}))}searchChainIdToInjectChainName(e){let t=e;return d.forEach(((n,r)=>{e.includes(r)&&(t=n)})),t}connectReady(){return!0}disconnect(){}restoreConnect(){return(0,a.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(e,t,n,c,d,u){return r(this,void 0,void 0,(function*(){let e=[];c.forEach((t=>{t.namespace===o.NameSpaceKeyAptos&&e.push(...t.chains)}));let t,n=[],r={};if((0,i.logDebug)("AptosProvider parseConnectResponse connectChain",JSON.stringify(e)),!(0,a.isDevice)("mobile")&&e&&e.length>0){let e=yield window.okxwallet.aptos.connect();t=e.publicKey}if(e.forEach((e=>{let o=d.address.find((t=>l.includes(t.chainId)&&637===t.coinType||t.namespaceChainId===e));o&&(n.push(e+":"+o.address),r[e]={publicKey:o.publicKey?o.publicKey:t})})),(0,i.logDebug)("AptosProvider parseConnectResponse addresses",JSON.stringify(n)),n&&n.length>0)return{namespace:o.NameSpaceKeyAptos,addresses:n,methods:[...s.AptosMethods],extra:r}}))}connect(){return r(this,void 0,void 0,(function*(){return window.okxwallet.aptos.connect()}))}singleConnect(){return this.connect()}addListener(e){window.okxwallet.aptos.onAccountChange((t=>{console.log("window.okxwallet configEventWithKey_aptos:",Date.now(),c.key,JSON.stringify(t)),t&&e()}))}removeListener(){}}},2971:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SolProvider=void 0;const i=n(5113),s=n(3750),a=o(n(6763)),c=n(3098),l=n(6586);t.SolProvider=class{constructor(){this.accountChangedSolanaPublicKeyHandler=null}send(e){return r(this,void 0,void 0,(function*(){var t;try{yield this.restoreConnect(),(0,s.logDebug)("SolProvider send request:",JSON.stringify(e));const o=e.method;let c;if(!e.injectParams)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${o}'`);switch(o){case"solana_signMessage":if(e.injectParams&&"object"==typeof e.injectParams&&"message"in e.injectParams){var n=null===(t=e.injectParams)||void 0===t?void 0:t.message;const r=(new TextEncoder).encode(n),o=yield window.okxwallet.solana.signMessage(r,"utf8");return c={method:e.method,result:a.default.encode(o.signature)},(0,s.logDebug)("SolProvider send result:",JSON.stringify(o)),c}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${o}'`);case"solana_signTransaction":{let t=yield window.okxwallet.solana.signTransaction(e.injectParams);return(0,s.logDebug)("SolProvider send bufferResult:",JSON.stringify(t)),c={method:e.method,injectResult:t},(0,s.logDebug)("SolProvider send result:",(0,s.safeJsonStringify)(c)),c}case"solana_signAllTransactions":{let t=yield window.okxwallet.solana.signAllTransactions(e.injectParams);return(0,s.logDebug)("SolProvider send result:",(0,s.safeJsonStringify)(t)),c={method:e.method,injectResult:t},c}case"solana_signAndSendTransaction":var r=yield window.okxwallet.solana.signAndSendTransaction(e.injectParams);return(0,s.logDebug)("SolProvider send result:",(0,s.safeJsonStringify)(r)),c={method:e.method,injectResult:r},c;default:throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${o}'`)}}catch(e){throw(0,s.logDebug)("SolProvider send error:",e),e}}))}connectReady(){return!0}disconnect(){}restoreConnect(){return(0,c.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(e,t,n,o,a,c){return r(this,void 0,void 0,(function*(){let e=[];o.forEach((t=>{t.namespace===i.NameSpaceKeySOL&&e.push(...t.chains)}));let t=[],n={},r={};if(e.forEach((e=>{let o=a.address.find((t=>"501"===t.chainId&&501===t.coinType||t.namespaceChainId===e));o&&(t.push(e+":"+o.address),n[e]=r&&"publicKey"in r?r:{publicKey:o.publicKey})})),t&&t.length>0){let e={namespace:i.NameSpaceKeySOL,addresses:t,methods:[...l.SOLANAMethods],extra:n};return(0,s.logDebug)("parseConnectResponse nameSpaceResponse :",JSON.stringify(e)),e}}))}connect(){return r(this,void 0,void 0,(function*(){return window.okxwallet.solana.connect()}))}singleConnect(){return this.connect()}addListener(e){console.log("window.okxwallet configEventWithKey:","sol"),this.accountChangedSolanaPublicKeyHandler=t=>{console.log("window.okxwallet configEventWithKey_solana:",Date.now(),"sol",t),t&&e()},window.okxwallet.solana.on("accountChanged",this.accountChangedSolanaPublicKeyHandler)}removeListener(){this.accountChangedSolanaPublicKeyHandler&&window.okxwallet.solana.removeListener("accountChanged",this.accountChangedSolanaPublicKeyHandler)}}},647:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TONProvider=void 0;const o=n(5113),i=n(3750),s=n(3098),a=n(6586);t.TONProvider=class{constructor(){this.signalChainConnectResult=void 0,this.accountChangedTONHandler=null}send(e){return r(this,void 0,void 0,(function*(){try{(0,i.logDebug)("TONProvider send request:",(0,i.safeJsonStringify)(e));let t=null;if("ton_sendTransaction"!==e.method)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);if(e.params&&(t={method:"sendTransaction",params:[JSON.stringify(e.params)],id:Date.now().toString()},(0,i.logDebug)("TONProvider tonParams first:",JSON.stringify(t))),t){const n=yield window.okxTonWallet.tonconnect.send(t);if((0,i.logDebug)("TONProvider send request result:",(0,i.safeJsonStringify)(n)),n.error)throw new o.OKXConnectError(n.error.code,n.error.message);return{result:n.result,method:e.method}}throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}catch(e){throw(0,i.logDebug)("TONProvider encountered an error:",e),e}}))}connectReady(){return!0}restoreConnect(){return Promise.resolve()}parseConnectResponse(e,t,n,c,l,d){return r(this,void 0,void 0,(function*(){try{let r=[];c.forEach((e=>{e.namespace===o.NameSpaceKeyTON&&r.push(...e.chains)}));let u=[],h={};if(r.forEach((e=>{(0,i.getChainId)(e);let t=l.address.find((t=>"607"===t.chainId&&607===t.coinType||t.namespaceChainId===e));t&&(u.push(e+":"+t.address),h[e]={publicKey:t.publicKey})})),(0,i.logDebug)("tonprovider parseConnectResponse needPop and addresses: ",e,JSON.stringify(u)),u&&u.length>0){let r,l=c.find((e=>e.namespace===o.NameSpaceKeyTON));if((0,i.logDebug)("tonprovider parseConnectResponse ton: ",JSON.stringify(l)),!(l&&l.params&&d&&d.manifestUrl))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl is nil");{this.dappInfo=d;let n=[l.params.ton_addr],o={manifestUrl:d.manifestUrl,items:n};(e||t)&&l.params.ton_proof&&n.push(l.params.ton_proof),(0,i.logDebug)("parseConnectResponse ton connect params: ",JSON.stringify(o)),r=(0,s.isDevice)("mobile")||e||t?yield window.okxTonWallet.tonconnect.connect(2,o):yield window.okxTonWallet.tonconnect.restoreConnection()}if(n&&this.signalChainConnectResult&&(r=this.signalChainConnectResult,this.signalChainConnectResult=void 0),(0,i.logDebug)("parseConnectResponse ton connect result: ",JSON.stringify(r)),r&&l){if("connect_error"===r.event)throw new o.OKXConnectError(r.payload.code,r.payload.message);{let e=r.payload.items.find((e=>"ton_addr"===e.name)),t=r.payload.items.find((e=>"ton_proof"===e.name));return(0,i.logDebug)("tonprovider connect isSignalChain: ",n),{namespace:o.NameSpaceKeyTON,addresses:u,methods:[...a.TONMethods],extra:h,data:{ton_addr:e,ton_proof:t,manifestUrl:d.manifestUrl}}}}}return}catch(e){throw(0,i.logDebug)("tonprovider parseConnectResponse error: ",JSON.stringify(e)),e}}))}connect(e,t){return r(this,void 0,void 0,(function*(){if(!(e&&t&&t.manifestUrl&&e.params))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl or params is nil");{this.dappInfo=t;let n=[e.params.ton_addr],r={manifestUrl:t.manifestUrl,items:n};e.params.ton_proof&&n.push(e.params.ton_proof),(0,i.logDebug)("tonprovider connect params: ",JSON.stringify(r));try{let e=yield window.okxTonWallet.tonconnect.connect(2,r);return(0,i.logDebug)("tonprovider connect tonResult: ",JSON.stringify(e)),this.signalChainConnectResult=e,e}catch(e){throw(0,i.logDebug)("tonprovider connect error: ",JSON.stringify(e)),new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"tonconnect error")}}}))}singleConnect(e,t){return this.connect(e,t)}addListener(e){console.log("window.okxwallet configEventWithKey:","ton"),this.accountChangedTONHandler=()=>{console.log("window.okxwallet configEventWithKey_TON:",Date.now(),"ton"),e()},window.okxTonWallet.tonconnect.on("accountChanged",this.accountChangedTONHandler)}removeListener(){this.accountChangedTONHandler&&window.okxTonWallet.tonconnect.off("accountChanged",this.accountChangedTONHandler)}}},8037:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BtcProvider=void 0;const o=n(5113),i=n(3750),s=n(6586),a=n(3098);t.BtcProvider=class{constructor(){this.accountChangedBtcHandler=null}connect(){return window.okxwallet.unisat.connect()}switchChain(e){return r(this,void 0,void 0,(function*(){let t=window.okxwallet.unisat;switch(e){case o.BTC_CHAINS.MAINNET:yield t.switchChain("BITCOIN_MAINNET");break;case o.BTC_CHAINS.FRACTAL:yield t.switchChain("FRACTAL_BITCOIN_MAINNET")}}))}connectReady(){return!0}parseConnectResponse(e,t,n,i,a){return r(this,void 0,void 0,(function*(){try{let e=[];i.forEach((t=>{t.namespace===o.NameSpaceKeyBtc&&e.push(...t.chains)}));let t=[],n={};if(0==e.length)return;const c=(e,t)=>e.find((e=>{const n="bitcoin"===e.name&&t===o.BTC_CHAINS.MAINNET||"fractalbitcoin"===e.name&&t===o.BTC_CHAINS.FRACTAL;return 0===e.coinType&&n||e.namespaceChainId===t})),l=e=>r(this,void 0,void 0,(function*(){let r=c(a.address,e);if(!r)return;t.push(e+":"+r.address);let o=yield this.connect();n[e]={publicKey:o.publicKey,compressedPublicKey:o.compressedPublicKey}})),d=e.map(l);return yield Promise.all(d),t&&t.length>0?{namespace:o.NameSpaceKeyBtc,addresses:t,methods:[...s.BtcMethods],extra:n}:void 0}catch(e){throw e}}))}restoreConnect(){return r(this,void 0,void 0,(function*(){return(0,a.isDevice)("mobile")?this.connect():Promise.resolve()}))}send(e){return r(this,void 0,void 0,(function*(){try{(0,i.logDebug)("btcProvider send request:",JSON.stringify(e));const t=e.method,n=e.chainId;if(yield this.restoreConnect(),yield this.switchChain(n),!e.params)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,`param is error method: '${t}'`);switch(t){case"btc_signMessage":{const{signStr:t,type:n}=e.params||{},r=yield window.okxwallet.unisat.signMessage(t,n);return{method:e.method,result:r}}case"btc_send":{const{from:t,to:n,value:r,satBytes:o}=e.params||{},i=yield window.okxwallet.unisat.send({from:t,to:n,value:r,satBytes:o});return{method:e.method,result:i}}case"btc_signPsbts":{const{psbtHexs:t,options:n}=e.params||{};let r;if(Array.isArray(t)&&1===t.length){let e;e=Array.isArray(n)?yield window.okxwallet.unisat.signPsbt(t[0],n.length>0&&"object"==typeof n[0]?n[0]:void 0):yield window.okxwallet.unisat.signPsbt(t[0]),r=[e]}else r=yield window.okxwallet.unisat.signPsbts(t,n);return{method:e.method,result:(0,i.safeJsonStringify)(r)}}case"btc_signAndPushPsbt":{const{psbtHex:t,options:n}=e.params||{},r=yield window.okxwallet.unisat.signPsbt(t,n),o=yield window.okxwallet.unisat.pushPsbt(r);return{method:e.method,result:(0,i.safeJsonStringify)({signedPsbt:r,txHash:o})}}case"btc_sendInscription":{const{address:t,inscriptionId:n,options:r}=e.injectParams||{},o=yield window.okxwallet.unisat.sendInscription(t,n,r);return{method:e.method,result:o}}case"btc_inscribeTransfer":{if((0,a.isDevice)("mobile"))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${t}'`);const{ticker:n,amount:r}=e.params||{},i=yield window.okxwallet.unisat.inscribeTransfer(n,r);return{method:e.method,result:i}}default:throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${t}'`)}}catch(e){throw(0,i.logDebug)("BtcProvider send error:",e),e}}))}singleConnect(e){return r(this,void 0,void 0,(function*(){return 1==e.chains.length&&this.connect()}))}addListener(e){this.accountChangedBtcHandler=t=>{console.log("window.okxwallet btc:",Date.now(),"btc",t),t&&t.length>0&&e()},window.okxwallet.unisat.on("accountsChanged",this.accountChangedBtcHandler)}removeListener(){window.okxwallet.unisat.removeListener("accountsChanged",this.accountChangedBtcHandler)}}},3220:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Eip155Provider=void 0;const o=n(5113),i=n(3750),s=n(3098),a=n(6586);t.Eip155Provider=class{constructor(){this.accountChangedEVMHandler=null}send(e){return r(this,void 0,void 0,(function*(){var t;try{(0,i.logDebug)("Eip155Provider send request:",(0,i.safeJsonStringify)(e)),yield this.restoreConnect();let n=null;switch(e.method){case"personal_sign":e.params&&"message"in e.params&&(n={method:e.method,params:[e.params.message,e.address]});break;case"eth_sendTransaction":case"wallet_addEthereumChain":case"wallet_switchEthereumChain":e.params&&(n={method:e.method,params:[e.params]});break;case"eth_signTypedData_v4":e.params&&"typedDataJson"in e.params&&(null===(t=e.params)||void 0===t?void 0:t.typedDataJson)&&"string"==typeof e.params.typedDataJson&&(n={method:e.method,params:[e.address,e.params.typedDataJson]});break;case"wallet_watchAsset":e.params&&(n={method:e.method,params:e.params});break;default:throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if(!n)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);if(("wallet_switchEthereumChain"===e.method||"wallet_addEthereumChain"===e.method)&&e.params&&"chainId"in e.params){(0,i.logDebug)("Eip155Provider send request switch requestParams:",(0,i.safeJsonStringify)(n));const t=parseInt(e.params.chainId,16).toString();yield window.okxwallet.request(n);const r=`eip155:${t}:${e.address}`;return(0,i.logDebug)("Eip155Provider send request switch result:",r),{result:r,method:e.method}}{const t=(0,i.getChainId)(e.chainId),r=`0x${Number(t).toString(16)}`;if((0,i.logDebug)("Eip155Provider current chainId:",t,r),r){yield window.okxwallet.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),(0,i.logDebug)("Eip155Provider send request requestParams:",r,(0,i.safeJsonStringify)(n));const t=yield window.okxwallet.request(n);return(0,i.logDebug)("Eip155Provider send request result:",(0,i.safeJsonStringify)(t)),{result:t,method:e.method}}}}catch(e){throw(0,i.logDebug)("Eip155Provider encountered an error:",e),e}}))}connectReady(){return!0}restoreConnect(){return(0,s.isDevice)("mobile")?window.okxwallet.request({method:"eth_requestAccounts"}):Promise.resolve()}parseConnectResponse(e,t,n,s,c,l){return r(this,void 0,void 0,(function*(){try{let e=[];s.forEach((t=>{t.namespace===o.NameSpaceKeyEip155&&e.push(...t.chains)}));let t=[],n={};return e.forEach((e=>{let r=(0,i.getChainId)(e),o=c.address.find((t=>t.chainId===r&&60===t.coinType||t.namespaceChainId===e));o&&(t.push(e+":"+o.address),n[e]={publicKey:o.publicKey})})),t&&t.length>0?{namespace:o.NameSpaceKeyEip155,addresses:t,methods:[...a.Eip55Methods],extra:n}:void 0}catch(e){throw e}}))}connect(){return r(this,void 0,void 0,(function*(){return window.okxwallet.request({method:"eth_requestAccounts"})}))}singleConnect(){return this.connect()}addListener(e){console.log("window.okxwallet configEventWithKey: eip155"),this.accountChangedEVMHandler=t=>{console.log("window.okxwallet configEventWithKey_evm:",Date.now(),"eip155",t),t&&t.length>0&&e()},window.okxwallet.on("accountsChanged",this.accountChangedEVMHandler)}removeListener(){this.accountChangedEVMHandler&&window.okxwallet.removeListener("accountsChanged",this.accountChangedEVMHandler)}}},52:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(3220),t)},3585:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SuiProvider=void 0;const o=n(5113),i=n(3750),s=n(3098),a=n(6586);t.SuiProvider=class{constructor(){this.accountChangedHandler=null}connectReady(){return!0}getSuiPublicKey(){return r(this,void 0,void 0,(function*(){return(yield this.connect()).accounts[0].publicKey}))}parseConnectResponse(e,t,n,s,c,l){return r(this,void 0,void 0,(function*(){try{let e=[];s.forEach((t=>{t.namespace===o.NameSpaceKeySui&&e.push(...t.chains)}));let t=[],n={};if(0==e.length)return;const r=yield this.getSuiPublicKey();return e.forEach((e=>{var o;(0,i.getChainId)(e);let s=c.address.find((t=>784===t.coinType||t.namespaceChainId===e));s&&(t.push(e+":"+s.address),n[e]={publicKey:null!==(o=s.publicKey)&&void 0!==o?o:r})})),t&&t.length>0?{namespace:o.NameSpaceKeySui,addresses:t,methods:[...a.SuiMethods],extra:n}:void 0}catch(e){throw e}}))}restoreConnect(){return(0,s.isDevice)("mobile")?this.connect():Promise.resolve()}getSuiWallet(){return window.okxwallet.sui}send(e){return r(this,void 0,void 0,(function*(){try{yield this.restoreConnect(),(0,i.logDebug)("suiProvider send request:",JSON.stringify(e));const t=e.method;let n;if(e.injectParams&&this.getSuiWallet()){let r=e.injectParams;switch(t){case"sui_signTransactionBlock":n={method:"sui_signTransactionBlock",result:(yield this.getSuiWallet().features["sui:signTransactionBlock"].signTransactionBlock(r)).signature};break;case"sui_signAndExecuteTransactionBlock":n={method:"sui_signAndExecuteTransactionBlock",result:(yield this.getSuiWallet().features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(r)).digest};break;case"sui_signMessage":n={method:"sui_signMessage",result:(yield this.getSuiWallet().features["sui:signMessage"].signMessage(r)).signature};break;case"sui_signPersonalMessage":n={method:"sui_signPersonalMessage",result:(yield this.getSuiWallet().features["sui:signPersonalMessage"].signPersonalMessage(r)).signature}}}return n}catch(e){throw(0,i.logDebug)("suiProvider send error:",e),e}}))}connect(){return r(this,void 0,void 0,(function*(){var e;return null===(e=this.getSuiWallet())||void 0===e?void 0:e.features["standard:connect"].connect()}))}singleConnect(){return this.connect()}addListener(e){console.log("window.okxwallet configEventWithKey:","sui"),this.accountChangedHandler=t=>{console.log("window.okxwallet configEventWithKey_sui:",Date.now(),"sui",t),t&&e()},window.okxwallet.sui.on("accountChanged",this.accountChangedHandler)}removeListener(){this.accountChangedHandler&&window.okxwallet.sui.removeListener("accountChanged",this.accountChangedHandler)}}},9403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMES_CHAINS=t.TON_CHAINS=t.COSMOS_CHAINS=t.APTOS_CHAINS=t.SUI_CHAINS=t.SOLANA_CHAINS=t.BTC_CHAINS=void 0;const r=n(3501);t.BTC_CHAINS={MAINNET:"btc:mainnet",FRACTAL:"fractal:mainnet"},t.SOLANA_CHAINS={MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",SONIC_TESTNET:"sonic:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"},t.SUI_CHAINS={MAINNET:"sui:mainnet"},t.APTOS_CHAINS={MAINNET:"aptos:mainnet",MOVEMENT_MAINNET:"movement:mainnet",MOVEMENT_TESTNET:"movement:testnet"},t.COSMOS_CHAINS={COSMOS_MAINNET:"cosmos:cosmoshub-4"},t.TON_CHAINS={MAINNET:"ton:-239"},t.NAMES_CHAINS={[r.NameSpaceKeyBtc]:Object.values(t.BTC_CHAINS),[r.NameSpaceKeySOL]:Object.values(t.SOLANA_CHAINS),[r.NameSpaceKeyTON]:Object.values(t.TON_CHAINS),[r.NameSpaceKeySui]:Object.values(t.SUI_CHAINS),[r.NameSpaceKeyAptos]:Object.values(t.APTOS_CHAINS),[r.NameSpaceKeyCosmos]:Object.values(t.COSMOS_CHAINS)}},2392:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IEngine=t.ISignClient=t.ISignClientEvents=t.IEngineEvents=void 0;const o=r(n(228));class i extends o.default{constructor(){super()}}t.IEngineEvents=i;class s extends o.default{constructor(){super()}}t.ISignClientEvents=s,t.ISignClient=class{constructor(e){this.data=e}},t.IEngine=class{constructor(e){this.client=e}}},2944:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXWalletName=t.creatOKXInjectWalletInfo=t.creatOKXMiniAppWalletInfo=t.creatOKXWalletInfo=t.ISignClientEvents=t.IEngine=t.IEngineEvents=t.ISignClient=t.getBigIntRpcId=t.formatJsonRpcRequest=t.isJsonRpcError=t.isJsonRpcResponse=t.parseConnectionError=t.isHttpUrl=t.formatJsonRpcError=void 0;var i=n(5906);Object.defineProperty(t,"formatJsonRpcError",{enumerable:!0,get:function(){return i.formatJsonRpcError}}),Object.defineProperty(t,"isHttpUrl",{enumerable:!0,get:function(){return i.isHttpUrl}}),Object.defineProperty(t,"parseConnectionError",{enumerable:!0,get:function(){return i.parseConnectionError}}),Object.defineProperty(t,"isJsonRpcResponse",{enumerable:!0,get:function(){return i.isJsonRpcResponse}}),Object.defineProperty(t,"isJsonRpcError",{enumerable:!0,get:function(){return i.isJsonRpcError}}),Object.defineProperty(t,"formatJsonRpcRequest",{enumerable:!0,get:function(){return i.formatJsonRpcRequest}}),Object.defineProperty(t,"getBigIntRpcId",{enumerable:!0,get:function(){return i.getBigIntRpcId}});var s=n(2392);Object.defineProperty(t,"ISignClient",{enumerable:!0,get:function(){return s.ISignClient}}),Object.defineProperty(t,"IEngineEvents",{enumerable:!0,get:function(){return s.IEngineEvents}}),Object.defineProperty(t,"IEngine",{enumerable:!0,get:function(){return s.IEngine}}),Object.defineProperty(t,"ISignClientEvents",{enumerable:!0,get:function(){return s.ISignClientEvents}}),o(n(5650),t);var a=n(5332);Object.defineProperty(t,"creatOKXWalletInfo",{enumerable:!0,get:function(){return a.creatOKXWalletInfo}}),Object.defineProperty(t,"creatOKXMiniAppWalletInfo",{enumerable:!0,get:function(){return a.creatOKXMiniAppWalletInfo}}),Object.defineProperty(t,"creatOKXInjectWalletInfo",{enumerable:!0,get:function(){return a.creatOKXInjectWalletInfo}}),Object.defineProperty(t,"OKXWalletName",{enumerable:!0,get:function(){return a.OKXWalletName}})},5906:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};function o(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return"result"in e}function s(e){return"error"in e}Object.defineProperty(t,"__esModule",{value:!0}),t.isJsonRpcPayload=o,t.isJsonRpcRequest=function(e){return o(e)&&"method"in e},t.isJsonRpcResponse=function(e){return o(e)&&(i(e)||s(e))},t.isJsonRpcResult=i,t.isJsonRpcError=s,t.payloadId=h,t.getBigIntRpcId=function(){return BigInt(Date.now())*BigInt(1e6)+BigInt(u.getNextValue())},t.formatJsonRpcRequest=function(e,t,n){return{id:n||h(),jsonrpc:"2.0",method:e,params:t}},t.formatJsonRpcResult=function(e,t){return{id:e,jsonrpc:"2.0",result:t}},t.formatJsonRpcError=function(e,t,n){return{id:e,jsonrpc:"2.0",error:m(t,n)}},t.isReservedErrorCode=f,t.getError=g,t.getErrorByCode=p,t.formatErrorMessage=m,t.isHttpUrl=function(e){return y(e,"^https?:")},t.isWsUrl=function(e){return y(e,"^wss?:")},t.parseConnectionError=function(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e};const a=n(6613),c=r(n(8947));class l{constructor(e){this.i=1,8===e?new Uint8Array(1):16===e?new Uint16Array(1):new Uint32Array(1),this.initialValue=e?c.default.randomBytes(e/8)[0]:0}getNextValue(){return this.initialValue+this.i++}}const d=new l(8),u=new l(16);function h(){return 1e3*Date.now()+d.getNextValue()}function f(e){return a.RESERVED_ERROR_CODES.includes(e)}function g(e){return Object.keys(a.STANDARD_ERROR_MAP).includes(e)?a.STANDARD_ERROR_MAP[e]:a.STANDARD_ERROR_MAP[a.DEFAULT_ERROR]}function p(e){return Object.values(a.STANDARD_ERROR_MAP).find((t=>t.code===e))||a.STANDARD_ERROR_MAP[a.DEFAULT_ERROR]}function m(e,t){return void 0===e?g(a.INTERNAL_ERROR):("string"==typeof e&&(e=Object.assign(Object.assign({},g(a.SERVER_ERROR)),{message:e})),void 0!==t&&(e.data=t),f(e.code)&&(e=p(e.code)),e)}function y(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==n&&new RegExp(t).test(n)}},1773:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_ITEM_ERROR_CODES=void 0,function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"}(n||(t.CONNECT_ITEM_ERROR_CODES=n={}))},1684:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TONCHAIN=void 0,function(e){e.MAINNET="-239"}(n||(t.TONCHAIN=n={}))},5650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_ITEM_ERROR_CODES=t.TONCHAIN=void 0;var r=n(1684);Object.defineProperty(t,"TONCHAIN",{enumerable:!0,get:function(){return r.TONCHAIN}});var o=n(1773);Object.defineProperty(t,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return o.CONNECT_ITEM_ERROR_CODES}})},5332:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXInjectWalletName=t.OKXMiniWalletName=t.OKXWalletName=void 0,t.creatOKXWalletInfo=function(){return{appName:"okxAppWallet",name:t.OKXWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}},t.creatOKXMiniAppWalletInfo=function(){return{appName:"okxMiniApp",name:t.OKXMiniWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}},t.creatOKXInjectWalletInfo=function(){return{appName:"okxInjectWallet",name:t.OKXInjectWalletName,imageUrl:""}},t.OKXWalletName="OKX Wallet",t.OKXMiniWalletName="OKX Mini Wallet",t.OKXInjectWalletName="OKX Inject Wallet"},2512:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_MINI_WALLET_NAME=t.OKX_APP_WALLET_NAME=t.stackDeepLink=t.tgwalletAppName=t.tgwalletName=t.tonConnectSdkVersion=t.shortUniversalLink=t.standardDeeplink=t.downloadUrl=t.standardUniversalLink=t.okxDeeplink=void 0,t.getTestTwaUrl=function(){return window.okxTesttwaUrl},t.getTestTgTwaUrl=function(){return window.okxTestTgtwaUrl},t.getBotNameAndAppName=function(e){const t=new URL(e).pathname.split("/").filter(Boolean);if(t.length>=2)return{botName:t[0],appName:t[1]}},t.okxDeeplink="okx://web3",t.standardUniversalLink="undefined"!=typeof window&&window.location.hostname.includes("okx.com")?"https://link.okx.com/download":"https://www.okx.com/download",t.downloadUrl="https://www.okx.com/download",t.standardDeeplink=`${t.okxDeeplink}/wallet/connect`,t.shortUniversalLink="https://www.okx.com/ul/connect",t.tonConnectSdkVersion="1",t.tgwalletName="OKX_WALLET_BOT",t.tgwalletAppName="start",t.stackDeepLink="okx://web3?stack=true",t.OKX_APP_WALLET_NAME="OKX Wallet",t.OKX_MINI_WALLET_NAME="OKX Mini Wallet"},1460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_CONNECT_ERROR_CODES=t.OKXConnectError=void 0;var r=n(6613);Object.defineProperty(t,"OKXConnectError",{enumerable:!0,get:function(){return r.OKXConnectError}}),Object.defineProperty(t,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return r.OKX_CONNECT_ERROR_CODES}})},6613:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR=t.STANDARD_ERROR_MAP=t.SERVER_ERROR_CODE_RANGE=t.RESERVED_ERROR_CODES=t.SERVER_ERROR=t.INTERNAL_ERROR=t.INVALID_PARAMS=t.METHOD_NOT_FOUND=t.INVALID_REQUEST=t.PARSE_ERROR=t.OKX_CONNECT_ERROR_CODES=t.OKXConnectError=void 0;class n extends Error{constructor(e,t){null==t&&(t=function(e){return e==r.UNKNOWN_ERROR?"unknown error":e==r.BAD_REQUEST_ERROR?"bad request error":e==r.ALREADY_CONNECTED_ERROR?"already connected error":e==r.NOT_CONNECTED_ERROR?"not connected error":e==r.UNKNOWN_APP_ERROR?"unknown app error":e==r.USER_REJECTS_ERROR?"user rejects error":e==r.USER_REJECTS_ERROR_CAUSE_REGISTER?"wallet address are registering":e==r.METHOD_NOT_SUPPORTED?"method not supported":e==r.CONNECTION_ERROR?"connect error":e==r.CHAIN_NOT_SUPPORTED?"chain not supported":"unknown error"}(e)),super(t),this.code=e,this.message=`${n.prefix} ${t?"\n"+t:""}`,Object.setPrototypeOf(this,n.prototype)}toJSON(){return{message:this.message,code:this.code}}}var r;t.OKXConnectError=n,n.prefix="[OKX_CONNECT_SDK_ERROR]",function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.ALREADY_CONNECTED_ERROR=11]="ALREADY_CONNECTED_ERROR",e[e.NOT_CONNECTED_ERROR=12]="NOT_CONNECTED_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.USER_REJECTS_ERROR_CAUSE_REGISTER=301]="USER_REJECTS_ERROR_CAUSE_REGISTER",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e[e.CHAIN_NOT_SUPPORTED=500]="CHAIN_NOT_SUPPORTED",e[e.WALLET_NOT_SUPPORTED=600]="WALLET_NOT_SUPPORTED",e[e.CONNECTION_ERROR=700]="CONNECTION_ERROR"}(r||(t.OKX_CONNECT_ERROR_CODES=r={})),t.PARSE_ERROR="PARSE_ERROR",t.INVALID_REQUEST="INVALID_REQUEST",t.METHOD_NOT_FOUND="METHOD_NOT_FOUND",t.INVALID_PARAMS="INVALID_PARAMS",t.INTERNAL_ERROR="INTERNAL_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],t.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],t.STANDARD_ERROR_MAP={[t.PARSE_ERROR]:{code:-32700,message:"Parse error"},[t.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[t.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[t.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[t.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[t.SERVER_ERROR]:{code:-32e3,message:"Server error"}},t.DEFAULT_ERROR=t.SERVER_ERROR},5113:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.NAMES_CHAINS=t.TON_CHAINS=t.COSMOS_CHAINS=t.APTOS_CHAINS=t.SUI_CHAINS=t.SOLANA_CHAINS=t.BTC_CHAINS=t.downloadUrl=t.okxDeeplink=t.tonConnectSdkVersion=t.standardDeeplink=t.standardUniversalLink=t.NameSpaceKeyStarknet=t.NameSpaceKeyTron=t.NameSpaceKeyCosmos=t.NameSpaceKeyAptos=t.NameSpaceKeyBtc=t.NameSpaceKeySui=t.NameSpaceKeyTON=t.NameSpaceKeySOL=t.NameSpaceKeyEip155=void 0,o(n(1460),t);var i=n(3501);Object.defineProperty(t,"NameSpaceKeyEip155",{enumerable:!0,get:function(){return i.NameSpaceKeyEip155}}),Object.defineProperty(t,"NameSpaceKeySOL",{enumerable:!0,get:function(){return i.NameSpaceKeySOL}}),Object.defineProperty(t,"NameSpaceKeyTON",{enumerable:!0,get:function(){return i.NameSpaceKeyTON}}),Object.defineProperty(t,"NameSpaceKeySui",{enumerable:!0,get:function(){return i.NameSpaceKeySui}}),Object.defineProperty(t,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return i.NameSpaceKeyBtc}}),Object.defineProperty(t,"NameSpaceKeyAptos",{enumerable:!0,get:function(){return i.NameSpaceKeyAptos}}),Object.defineProperty(t,"NameSpaceKeyCosmos",{enumerable:!0,get:function(){return i.NameSpaceKeyCosmos}}),Object.defineProperty(t,"NameSpaceKeyTron",{enumerable:!0,get:function(){return i.NameSpaceKeyTron}}),Object.defineProperty(t,"NameSpaceKeyStarknet",{enumerable:!0,get:function(){return i.NameSpaceKeyStarknet}});var s=n(2512);Object.defineProperty(t,"standardUniversalLink",{enumerable:!0,get:function(){return s.standardUniversalLink}}),Object.defineProperty(t,"standardDeeplink",{enumerable:!0,get:function(){return s.standardDeeplink}}),Object.defineProperty(t,"tonConnectSdkVersion",{enumerable:!0,get:function(){return s.tonConnectSdkVersion}}),Object.defineProperty(t,"okxDeeplink",{enumerable:!0,get:function(){return s.okxDeeplink}}),Object.defineProperty(t,"downloadUrl",{enumerable:!0,get:function(){return s.downloadUrl}}),o(n(2944),t);var a=n(9403);Object.defineProperty(t,"BTC_CHAINS",{enumerable:!0,get:function(){return a.BTC_CHAINS}}),Object.defineProperty(t,"SOLANA_CHAINS",{enumerable:!0,get:function(){return a.SOLANA_CHAINS}}),Object.defineProperty(t,"SUI_CHAINS",{enumerable:!0,get:function(){return a.SUI_CHAINS}}),Object.defineProperty(t,"APTOS_CHAINS",{enumerable:!0,get:function(){return a.APTOS_CHAINS}}),Object.defineProperty(t,"COSMOS_CHAINS",{enumerable:!0,get:function(){return a.COSMOS_CHAINS}}),Object.defineProperty(t,"TON_CHAINS",{enumerable:!0,get:function(){return a.TON_CHAINS}}),Object.defineProperty(t,"NAMES_CHAINS",{enumerable:!0,get:function(){return a.NAMES_CHAINS}})},3501:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NameSpaceKeyStarknet=t.NameSpaceKeyTron=t.NameSpaceKeyCosmos=t.NameSpaceKeyAptos=t.NameSpaceKeyBtc=t.NameSpaceKeySui=t.NameSpaceKeyTON=t.NameSpaceKeySOL=t.NameSpaceKeyEip155=void 0,t.NameSpaceKeyEip155="eip155",t.NameSpaceKeySOL="solana",t.NameSpaceKeyTON="ton",t.NameSpaceKeySui="sui",t.NameSpaceKeyBtc="btc",t.NameSpaceKeyAptos="aptos",t.NameSpaceKeyCosmos="cosmos",t.NameSpaceKeyTron="tron",t.NameSpaceKeyStarknet="starknet"},1912:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function r(e,t){return n(this,void 0,void 0,(function*(){return new Promise(((n,r)=>{var o,i;if(null===(o=null==t?void 0:t.signal)||void 0===o?void 0:o.aborted)return void r(new Error("Delay aborted"));const s=setTimeout((()=>n()),e);null===(i=null==t?void 0:t.signal)||void 0===i||i.addEventListener("abort",(()=>{clearTimeout(s),r(new Error("Delay aborted"))}))}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.callForSuccess=function(e,t){return n(this,void 0,void 0,(function*(){var n,o;const i=null!==(n=null==t?void 0:t.attempts)&&void 0!==n?n:3,s=null!==(o=null==t?void 0:t.delayMs)&&void 0!==o?o:800;if("function"!=typeof e)throw new Error("Expected a function, got "+typeof e);let a,c=0;for(;c<i;)try{return yield e()}catch(e){a=e,c++,c<i&&(yield r(s))}throw a}))},t.delay=r},3750:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getNamespaceKeyByChain=t.chainName2IdMap=t.replaceChainIdToChainName=t.replaceChainNameToChainId=t.checkMetaData=t.versionCompare=t.isBrowser=t.isOS=t.isMobileUserAgent=t.openDeeplinkWithFallback=t.openLinkBlank=t.openLink=t.getChainId=t.useShortLink=t.toSafeBase64FromBase64=t.isValidObject=t.isIos=t.base64decode=t.base64encode=t.splitToUint8Arrays=t.concatUint8Arrays=t.toHexString=t.hexToByteArray=t.getOKXLink=t.openOKXUniversalLink=t.getAppWalletShortDeepLink=t.encodeTWAConnectURLParams=t.encodeConnectParams=t.openOKXTMAWalletlinkWithFallback=t.getTelegramWalletTWAUrl=t.getAppWalletDeepLink=t.encodeTelegramUrlParameters=t.isTelegramUrl=t.openOKXDeeplinkWithFallback=t.openOKXDeeplink=t.getUniversalLink=t.safeJsonStringify=t.safeJsonParse=t.getDefaultReporter=t.reportEvent=t.reportLog=t.logWarning=t.logError=t.logDebug=t.callForSuccess=void 0;var i=n(1912);Object.defineProperty(t,"callForSuccess",{enumerable:!0,get:function(){return i.callForSuccess}});var s=n(3628);Object.defineProperty(t,"logDebug",{enumerable:!0,get:function(){return s.logDebug}}),Object.defineProperty(t,"logError",{enumerable:!0,get:function(){return s.logError}}),Object.defineProperty(t,"logWarning",{enumerable:!0,get:function(){return s.logWarning}}),Object.defineProperty(t,"reportLog",{enumerable:!0,get:function(){return s.reportLog}}),Object.defineProperty(t,"reportEvent",{enumerable:!0,get:function(){return s.reportEvent}}),Object.defineProperty(t,"getDefaultReporter",{enumerable:!0,get:function(){return s.getDefaultReporter}}),o(n(2993),t),o(n(3138),t);var a=n(6715);Object.defineProperty(t,"safeJsonParse",{enumerable:!0,get:function(){return a.safeJsonParse}}),Object.defineProperty(t,"safeJsonStringify",{enumerable:!0,get:function(){return a.safeJsonStringify}});var c=n(3631);Object.defineProperty(t,"getUniversalLink",{enumerable:!0,get:function(){return c.getUniversalLink}}),Object.defineProperty(t,"openOKXDeeplink",{enumerable:!0,get:function(){return c.openOKXDeeplink}}),Object.defineProperty(t,"openOKXDeeplinkWithFallback",{enumerable:!0,get:function(){return c.openOKXDeeplinkWithFallback}}),Object.defineProperty(t,"isTelegramUrl",{enumerable:!0,get:function(){return c.isTelegramUrl}}),Object.defineProperty(t,"encodeTelegramUrlParameters",{enumerable:!0,get:function(){return c.encodeTelegramUrlParameters}}),Object.defineProperty(t,"getAppWalletDeepLink",{enumerable:!0,get:function(){return c.getAppWalletDeepLink}}),Object.defineProperty(t,"getTelegramWalletTWAUrl",{enumerable:!0,get:function(){return c.getTelegramWalletTWAUrl}}),Object.defineProperty(t,"openOKXTMAWalletlinkWithFallback",{enumerable:!0,get:function(){return c.openOKXTMAWalletlinkWithFallback}}),Object.defineProperty(t,"encodeConnectParams",{enumerable:!0,get:function(){return c.encodeConnectParams}}),Object.defineProperty(t,"encodeTWAConnectURLParams",{enumerable:!0,get:function(){return c.encodeTWAConnectURLParams}}),Object.defineProperty(t,"getAppWalletShortDeepLink",{enumerable:!0,get:function(){return c.getAppWalletShortDeepLink}}),Object.defineProperty(t,"openOKXUniversalLink",{enumerable:!0,get:function(){return c.openOKXUniversalLink}}),Object.defineProperty(t,"getOKXLink",{enumerable:!0,get:function(){return c.getOKXLink}});var l=n(1031);Object.defineProperty(t,"hexToByteArray",{enumerable:!0,get:function(){return l.hexToByteArray}}),Object.defineProperty(t,"toHexString",{enumerable:!0,get:function(){return l.toHexString}}),Object.defineProperty(t,"concatUint8Arrays",{enumerable:!0,get:function(){return l.concatUint8Arrays}}),Object.defineProperty(t,"splitToUint8Arrays",{enumerable:!0,get:function(){return l.splitToUint8Arrays}}),Object.defineProperty(t,"base64encode",{enumerable:!0,get:function(){return l.base64encode}}),Object.defineProperty(t,"base64decode",{enumerable:!0,get:function(){return l.base64decode}}),Object.defineProperty(t,"isIos",{enumerable:!0,get:function(){return l.isIos}}),Object.defineProperty(t,"isValidObject",{enumerable:!0,get:function(){return l.isValidObject}}),Object.defineProperty(t,"toSafeBase64FromBase64",{enumerable:!0,get:function(){return l.toSafeBase64FromBase64}}),Object.defineProperty(t,"useShortLink",{enumerable:!0,get:function(){return l.useShortLink}}),Object.defineProperty(t,"getChainId",{enumerable:!0,get:function(){return l.getChainId}});var d=n(1749);Object.defineProperty(t,"openLink",{enumerable:!0,get:function(){return d.openLink}}),Object.defineProperty(t,"openLinkBlank",{enumerable:!0,get:function(){return d.openLinkBlank}}),Object.defineProperty(t,"openDeeplinkWithFallback",{enumerable:!0,get:function(){return d.openDeeplinkWithFallback}}),Object.defineProperty(t,"isMobileUserAgent",{enumerable:!0,get:function(){return d.isMobileUserAgent}}),Object.defineProperty(t,"isOS",{enumerable:!0,get:function(){return d.isOS}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return d.isBrowser}});var u=n(8837);Object.defineProperty(t,"versionCompare",{enumerable:!0,get:function(){return u.versionCompare}});var h=n(7527);Object.defineProperty(t,"checkMetaData",{enumerable:!0,get:function(){return h.checkMetaData}});var f=n(1031);Object.defineProperty(t,"replaceChainNameToChainId",{enumerable:!0,get:function(){return f.replaceChainNameToChainId}}),Object.defineProperty(t,"replaceChainIdToChainName",{enumerable:!0,get:function(){return f.replaceChainIdToChainName}}),Object.defineProperty(t,"chainName2IdMap",{enumerable:!0,get:function(){return f.chainName2IdMap}}),Object.defineProperty(t,"getNamespaceKeyByChain",{enumerable:!0,get:function(){return f.getNamespaceKeyByChain}})},3628:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultReporter=function(){return a},t.logDebug=function(...e){if("undefined"!=typeof console)try{(o||(null===window||void 0===window?void 0:window.okxLogDebug))&&console.log(`[OKX_CONNECT_SDK] ${c} `,...e)}catch(e){}},t.logError=function(...e){if("undefined"!=typeof console)try{if((o||(null===window||void 0===window?void 0:window.okxLogDebug))&&console.error(`[OKX_CONNECT_SDK] ${c} `,...e),i||!o){let t="";t+=[...e].reduce(((e,t)=>{"string"==typeof t||"object"==typeof t&&JSON.stringify(t)})),a.sendRecordContent(t,s.OKXReportType.LOG,"")}}catch(e){}},t.logWarning=function(...e){if("undefined"!=typeof console)try{(o||(null===window||void 0===window?void 0:window.okxLogDebug))&&console.warn(`[OKX_CONNECT_SDK] ${c} `,...e)}catch(e){}},t.reportEvent=function(e,t,n){return r(this,void 0,void 0,(function*(){yield a.sendRecordContent(n,e,t)}))},t.reportLog=function(e){return r(this,arguments,void 0,(function*(e,t="default"){}))};const o=!1,i=!1,s=n(3138),a=new s.OKXReporter,c=n(9346).version},3098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaNotTouch=t.mediaTouch=t.maxWidth=void 0,t.isDevice=function(e){var n;const a=(0,i.getWindow)();if(!a)return"desktop"===e;if((0,o.isTmaPlatform)("weba"))return!0;const c=a.innerWidth;switch(e){case"desktop":return c>t.maxWidth.tablet;case"tablet":return c>t.maxWidth.mobile;default:let e=c<=t.maxWidth.mobile||(0,r.isOS)("ios","android","ipad");if(e){const t=!!(null===(n=(0,i.getWindow)())||void 0===n?void 0:n.TelegramWebviewProxy),r=navigator.maxTouchPoints||0;t&&0===r&&(e=!1),(0,s.logDebug)("isDevice mobile isTelegram and maxTouchPoints:",e,t,r)}return e}},t.media=function(e){switch(e){case"mobile":return`@media (max-width: ${t.maxWidth.mobile}px)`;case"tablet":return`@media (max-width: ${t.maxWidth.tablet}px) (min-width: ${t.maxWidth.mobile}px)`;default:return`@media (min-width: ${t.maxWidth.tablet}px)`}},t.mediaMin=function(e){return`@media (min-width: ${e}px)`},t.mediaMax=function(e){return`@media (max-width: ${e}px)`},t.mediaMinMax=function(e,t){return`@media (min-width: ${e}px) and (max-width: ${t}px)`};const r=n(1749),o=n(8837),i=n(3631),s=n(3628);t.maxWidth={mobile:440,tablet:1020},t.mediaTouch="@media (hover: none)",t.mediaNotTouch="@media not all and (hover: none)"},3138:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXReporter=t.OKXReportSide=t.OKXReportType=t.versionStr=void 0;const i=o(n(4945)),s=n(3628),a=n(3631),c=n(3750),l=o(n(3790)),d=o(n(8947));t.versionStr="1.7.3";const u=["https://www.okx.com/dappstat/wallet-connect","https://www.okx.ac/dappstat/wallet-connect"],h="OKX_RP_UUID_CK",f={headers:{Accept:"*/*","Content-Type":"text/plain"},method:"POST"};t.OKXReportType={PAGE_IN:"page_in",PAGE_OUT:"page_out",CLICK:"click",LOG:"log"},t.OKXReportSide={DAPP:"dapp",WALLET:"wallet"},t.OKXReporter=class{constructor(){this.currentSide=t.OKXReportSide.DAPP,this.currentVersion=t.versionStr,this.storage=l.default.createInstance({name:"OKXReporter"}),this.recordList=new Array,this.currentUUID=(0,c.toHexString)(d.default.randomBytes(16))}configVersionAndSide(e,t,n){this.currentVersion=e,this.currentSide=t,this.appName=n}get recordCacheKey(){return"OKX_RP_CK@"+this.appName}get reportPlatform(){return(0,c.isMobileUserAgent)()?(0,c.isIos)()?"iOS":"android":"pc"}beginReport(){return r(this,void 0,void 0,(function*(){this.startErrorCatching();let e=yield this.storage.getItem(this.recordCacheKey),t=yield this.storage.getItem(h);t?this.currentUUID=t:this.storage.setItem(h,this.currentUUID),e&&(this.recordList=e,(0,s.logDebug)("resume records from cache length: ",this.recordList.length),yield this.sendCachedRecords())}))}startErrorCatching(){(0,a.getWindow)()&&(0,s.logDebug)("begin capture console error")}cachedErrors(){return this.recordList}sendRecord(e){return r(this,void 0,void 0,(function*(){return new Promise(((t,n)=>r(this,void 0,void 0,(function*(){try{const o=JSON.stringify(e);(0,s.logDebug)("[REPORT] record: ",o);const a=yield((e,...t)=>r(void 0,[e,...t],void 0,(function*(e,t={},n=5e3){for(const r of e)try{const e=new AbortController,o=e.signal,s=(0,i.default)(r,Object.assign(Object.assign({},t),{signal:o})),a=new Promise(((t,r)=>setTimeout((()=>{e.abort(),r(new Error("Request timed out"))}),n))),c=yield Promise.race([s,a]);if(c.ok)return c;if(502==c.status)return console.error("Fetch error status 502",r),c}catch(e){console.error(`Fetch error for ${r}:`,e)}throw console.error("'All fetch attempts failed.'"),new Error("All fetch attempts failed.")})))(u,Object.assign(Object.assign({},f),{body:o}));(0,s.logDebug)("[REPORT] get rsp:",a),a&&a.status&&200==a.status?(this.recordList=this.recordList.filter((t=>t.timestamp!=e.timestamp||t.content!=e.content)),yield this.storage.setItem(this.recordCacheKey,this.recordList),t(!0)):n(!1)}catch(e){(0,s.logDebug)("send record error:",e),t(!0)}}))))}))}sendRecordContent(e,t,n){return r(this,void 0,void 0,(function*(){var r,o,i,s;let c=null===(r=(0,a.getWindow)())||void 0===r?void 0:r.location.pathname,l=null===(o=(0,a.getWindow)())||void 0===o?void 0:o.location.origin;c&&l&&(l+=c);let d=null===(i=(0,a.getWindow)())||void 0===i?void 0:i.navigator.language,u=null===(s=(0,a.getWindow)())||void 0===s?void 0:s.navigator.userAgent,h=this.reportPlatform,f={uuid:this.currentUUID,version:this.currentVersion,content:e,action:n,side:this.currentSide,timestamp:(new Date).getTime(),url:l,lang:d,type:t,platform:h,"user-agent":u};yield this.markRecordItem(f),yield this.sendRecord(f)}))}sendCachedRecords(){return r(this,void 0,void 0,(function*(){return new Promise(((e,t)=>r(this,void 0,void 0,(function*(){let n=this.recordList.map((e=>this.sendRecord(e)));(0,s.logDebug)("[REPORT] submit & clean recorded caches begin @",(new Date).toUTCString()),Promise.allSettled(n).then((n=>{(0,s.logDebug)("[REPORT] submit & clean recorded caches ends @",(new Date).toUTCString());let r=[];n.forEach(((e,t)=>{"rejected"==e.status&&r.push(t)})),this.recordList=this.recordList.filter(((e,t)=>!r.includes(t))),this.storage.setItem(this.recordCacheKey,this.recordList).then((function(t){e()})).catch((function(e){t(e)}))}))}))))}))}markRecordItem(e){return r(this,void 0,void 0,(function*(){if(this.recordList.push(e),this.recordList.length>100){let e=this.recordList.length-100;this.recordList.splice(0,e)}return new Promise(((t,n)=>{this.storage.setItem(this.recordCacheKey,this.recordList).then((function(n){t(e)})).catch((function(e){n(e)}))}))}))}markRecord(e,t,n,o){return r(this,void 0,void 0,(function*(){var r,i,s,c;let l=null===(r=(0,a.getWindow)())||void 0===r?void 0:r.location.pathname,d=null===(i=(0,a.getWindow)())||void 0===i?void 0:i.location.origin;l&&d&&(d+=l);let u=null===(s=(0,a.getWindow)())||void 0===s?void 0:s.navigator.language,h=this.reportPlatform,f=null===(c=(0,a.getWindow)())||void 0===c?void 0:c.navigator.userAgent,g={uuid:this.currentUUID,version:this.currentVersion,content:e,action:n,side:o,timestamp:(new Date).getTime(),url:d,lang:u,type:t,platform:h,"user-agent":f};return yield this.markRecordItem(g)}))}}},2993:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Report_WalletType_Key=t.Report_ConnectDapp_ConnectAndSign_Click=t.Report_Proceed_QRCode_Click=t.Report_ChooseType_Download_Click=t.Report_ChooseType_ConnectWallet_Click=t.Report_Proceed_Retry_Click=t.Report_ChooseType_ConnectWallet_View=t.Report_Loading_ConnectWallet_View=t.Report_Proceed_QRCode_View=t.Report_Proceed_Proceed_View=void 0,t.Report_Proceed_Proceed_View="OKXConnectSDK_Proceed_Proceed_View",t.Report_Proceed_QRCode_View="OKXConnectSDK_Proceed_QRCode_View",t.Report_Loading_ConnectWallet_View="OKXConnectSDK_Loading_ConnectWallet_View",t.Report_ChooseType_ConnectWallet_View="OKXConnectSDK_ChooseType_ConnectWallet_View",t.Report_Proceed_Retry_Click="OKXConnectSDK_Proceed_Retry_Click",t.Report_ChooseType_ConnectWallet_Click="OKXConnectSDK_ChooseType_ConnectWallet_Click",t.Report_ChooseType_Download_Click="OKXConnectSDK_ChooseType_Download_Click",t.Report_Proceed_QRCode_Click="OKXConnectSDK_Proceed_QRCode_Click",t.Report_ConnectDapp_ConnectAndSign_Click="OKXConnectSDK_ConnectDapp_ConnectAndSign_Click",t.Report_WalletType_Key="wallet_type"},7527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkMetaData=function(e){if(!e)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"You have to specify a `dappMetaData`in the options.");if(!e.name)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"dappName is required");if(!e.icon)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"icon is required");return!0};const r=n(5113)},6715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonParse=function(e){if("string"!=typeof e)throw(0,r.logDebug)(e),new Error("Cannot safe json parse value of type "+typeof e);try{return i(e)}catch(t){return console.error("safeJsonParse error:",t),e}},t.safeJsonStringify=function(e){return"string"==typeof e?e:o(e)||""};const r=n(3628),o=e=>JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString()+"n":t)),i=e=>{const t=e.replace(/:(\b\d{17,}|\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,((e,t)=>`:"${t}n"`));try{return JSON.parse(t,((e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))}catch(t){return JSON.parse(e)}}},8444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.okxfromString=function(e,t="utf8"){const n=l[t];if((0,o.logDebug)("okxfromstring ====> "),!n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)},t.okxtoString=function(e,t="utf8"){const n=l[t];if((0,o.logDebug)("okxtoString ====> "),!n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)},t.alloc=function(e=0){return new Uint8Array(e)},t.allocUnsafe=i;const r=n(2571),o=n(3628);function i(e=0){return new Uint8Array(e)}function s(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const a=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),c=s("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++){let r=e[n];r&&String.fromCharCode(r)&&(t+=String.fromCharCode(r))}return t}),(e=>{const t=i((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),l=Object.assign({utf8:a,"utf-8":a,hex:r.bases.base16,latin1:c,ascii:c,binary:c},r.bases)},8837:(e,t,n)=>{"use strict";var r,o,i,s,a,c,l;Object.defineProperty(t,"__esModule",{value:!0}),t.isTmaPlatform=function(...e){return e.includes(p)},t.isInTMA=y,t.inTg=function(){return v()||y()},t.isInTelegramBrowser=v,t.sendExpand=function(){C("web_app_expand",{})},t.sendOpenTelegramLink=function(e,t){const n=new URL(e);if("http:"!==n.protocol&&"https:"!==n.protocol){if(t)return t();throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url protocol is not supported: ${n}`)}if("t.me"!==n.hostname){if(t)return t();throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url host is not supported: ${n}`)}const r=n.pathname+n.search;b()||_(m,"6.1")>=0?C("web_app_open_tg_link",{path_full:r}):(0,f.openLinkBlank)("https://t.me"+r)},t.versionCompare=_;const d=n(3631),u=n(3628),h=n(5113),f=n(1749);let g={};try{g=function(e){let t={};if(!(e=e.replace(/^#/,"")).length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=w(e),t;let n=e.indexOf("?");if(n>=0){let r=e.substr(0,n);t._path=w(r),e=e.substr(n+1)}let r=function(e){let t={};if(!e.length)return t;let n,r,o,i,s=e.split("&");for(n=0;n<s.length;n++)r=s[n].split("="),o=w(r[0]),i=null==r[1]?null:w(r[1]),t[o]=i;return t}(e);for(let e in r)t[e]=r[e];return t}(location.hash.toString())}catch(e){}let p="unknown";if((null==g?void 0:g.tgWebAppPlatform)&&(p=null!==(r=g.tgWebAppPlatform)&&void 0!==r?r:"unknown"),"unknown"===p){const e=(0,d.getWindow)();p=null!==(s=null===(i=null===(o=null==e?void 0:e.Telegram)||void 0===o?void 0:o.WebApp)||void 0===i?void 0:i.platform)&&void 0!==s?s:"unknown"}let m="6.0";if((null==g?void 0:g.tgWebAppVersion)&&(m=g.tgWebAppVersion),!m){const e=(0,d.getWindow)();m=null!==(l=null===(c=null===(a=null==e?void 0:e.Telegram)||void 0===a?void 0:a.WebApp)||void 0===c?void 0:c.version)&&void 0!==l?l:"6.0"}function y(){var e;return"unknown"!==p||!!(null===(e=(0,d.getWindow)())||void 0===e?void 0:e.TelegramWebviewProxy)}function v(){var e;const t=!!(null===(e=(0,d.getWindow)())||void 0===e?void 0:e.TelegramWebview);return(y()||t)&&"unknown"===p}function b(){try{const e=(0,d.getWindow)();return!!e&&null!=e.parent&&e!==e.parent}catch(e){return!1}}function C(e,t){try{const n=(0,d.getWindow)();if(!n)throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to parent window: window is not defined");if(void 0!==n.TelegramWebviewProxy)(0,u.logDebug)("postEvent",e,t),n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));else if(n.external&&"notify"in n.external)(0,u.logDebug)("postEvent",e,t),n.external.notify(JSON.stringify({eventType:e,eventData:t}));else{if(!b())throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to TMA");{const r="*",o=JSON.stringify({eventType:e,eventData:t});(0,u.logDebug)("postEvent",e,t),n.parent.postMessage(o,r)}}}catch(e){(0,u.logError)(`Can't post event to parent window: ${e}`)}}function w(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch(t){return e}}function _(e,t){"string"!=typeof e&&(e=""),"string"!=typeof t&&(t="");let n,r,o,i,s=e.replace(/^\s+|\s+$/g,"").split("."),a=t.replace(/^\s+|\s+$/g,"").split(".");for(n=Math.max(s.length,a.length),r=0;r<n;r++)if(o=parseInt(s[r])||0,i=parseInt(a[r])||0,o!==i)return o>i?1:-1;return 0}},3631:(e,t,n)=>{"use strict";var r,o,i,s;Object.defineProperty(t,"__esModule",{value:!0}),t.removeUrlLastSlash=f,t.addPathToUrl=function(e,t){return f(e)+"/"+t},t.getUniversalLink=g,t.openOKXDeeplink=function(e){var t;const n=g(e),r=!!(null===(t=m())||void 0===t?void 0:t.TelegramWebviewProxy);console.log("openOKXDeeplink fullUrl:",n),!(0,d.isIos)()||(0,d.isInIOSLine)()?r?window.open(e,"_blank"):window.location.href=e:p(n)},t.openOKXUniversalLink=p,t.openOKXDeeplinkWithFallback=function(e){var t;const n=g(e),r=!!(null===(t=m())||void 0===t?void 0:t.TelegramWebviewProxy);console.log("openOKXDeeplinkWithFallback fullUrl:",n);let o=!1;a.standardUniversalLink,console.log("openOKXDeeplinkWithFallback standardUniversalLink:",a.standardUniversalLink);let i=null,s=()=>{console.log("fallbackToDownloadPage :empty")},c=(0,d.isInIOSChrome)()||(0,d.isInIOSLine)()||(0,d.isInIOSLark)()||(0,d.isInIOSWeChat)();if((0,d.isIos)()?c&&(s=()=>{console.log("windowOpen --\x3e fallbackToDownloadPage --",o),o||(console.log("windowOpen --\x3e fallbackToDownloadPage universal link"),window.open(n,"_self"))}):s=()=>{o||(i?i.open(n,"_self"):window.open(n,"_blank"))},!(0,d.isIos)()||c){r?i=window.open(e,"_blank"):(console.log("windowOpen --\x3e deeplinkUrl"),window.location.href=e),setTimeout(s,3e3);let t=0,n=setInterval((()=>{t++,console.log("windowOpen --\x3e interval:",t,document.hidden,document.visibilityState),document.hidden&&(o=!0),(t>10||document.hidden)&&(clearInterval(n),console.log("windowOpen :cleat: ${count}"))}),200);window.addEventListener("blur",(()=>{console.log("windowOpen :blur"),o=!0}),{once:!0}),document.addEventListener("visibilitychange",(()=>{console.log("windowOpen :visibilitychange:",document.visibilityState),"hidden"===document.visibilityState&&(o=!0)}))}else r?window.open(n,"_blank"):(console.log("windowOpen[before]: ",Date.now()),(null===window||void 0===window?void 0:window.okxLogDebug)?window.open(n,"_blank"):window.open(n,"_self"),console.log("windowOpen[after]: ",Date.now()))},t.getWindow=m,t.isTelegramUrl=function(e){if(!e)return!1;const t=new URL(e);return"tg:"===t.protocol||"t.me"===t.hostname},t.encodeTelegramUrlParameters=function(e){let t=e;return t=t.replace(/\./g,"%2E"),t=t.replace(/-/g,"%2D"),t=t.replace(/_/g,"%5F"),t=t.replace(/&/g,"-"),t=t.replace(/=/g,"__"),t=t.replace(/%/g,"--"),t},t.encodeConnectParams=y,t.encodeTWAConnectURLParams=v,t.getAppWalletDeepLink=function(e){return`${a.standardDeeplink}?param=${e}`},t.getAppWalletShortDeepLink=b,t.getTelegramWalletTWAUrl=C,t.openOKXTMAWalletlinkWithFallback=function(e){var t,n,r,o,i;(0,c.logDebug)("[TWA] open link:",e,"isInTMA ==> ",E()),E()?(null===(n=null===(t=m())||void 0===t?void 0:t.Telegram)||void 0===n?void 0:n.WebApp)?null===(i=null===(o=null===(r=m())||void 0===r?void 0:r.Telegram)||void 0===o?void 0:o.WebApp)||void 0===i||i.openTelegramLink(e):(0,u.sendOpenTelegramLink)(e):(0,l.getTestTwaUrl)()?window.open(e,"_blank"):window.open(e,"_self")},t.isInTMA=E,t.isInTelegramBrowser=function(){var e;const t=!!(null===(e=m())||void 0===e?void 0:e.TelegramWebview);return(E()||t)&&"unknown"===O},t.getOKXLink=function(e,t=!1,n){if((0,c.logDebug)(`url  getOKXLink() called connectRequest==> ${JSON.stringify(e)}  useMini=> ${t}  tmaReturnUrl==> ${n}`),t)return C(e?v(e):void 0,null!=n?n:"back");if((0,d.useShortLink)())return e?b(e.topic,e.clientId):l.shortUniversalLink;if(e){const t=y(e);return`${a.standardDeeplink}?param=${t}`}return a.standardDeeplink};const a=n(5113),c=n(3628),l=n(2512),d=n(1031),u=n(8837),h=n(3404);function f(e){return"/"===e.slice(-1)?e.slice(0,-1):e}function g(e,t=!1){console.log("getUniversalLink deeplinkUrl:",e,", useStandardUniversalLink:",t);const n=encodeURIComponent(e);return console.log("getUniversalLink standardUniversalLink:",a.standardUniversalLink),console.log("getUniversalLink standardUniversalLink:",`${a.standardUniversalLink}?deeplink=${n}`),`${a.standardUniversalLink}?deeplink=${n}`}function p(e){(0,d.isIos)()?E()?window.open(e,"_blank"):(console.log("windowOpen[before]: ",Date.now()),(null===window||void 0===window?void 0:window.okxLogDebug)?window.open(e,"_blank"):window.open(e,"_self"),console.log("windowOpen[after]: ",Date.now())):window.open(e,"_blank")}function m(){if("undefined"!=typeof window)return window}function y(e){let t=Object.assign(Object.assign({},e),{protocolVersion:h.CONNECT_PROTOCOL_VER});const n=JSON.stringify(t);(0,c.logDebug)("url encodeConnectParams connectRequestStr ",n);const r=(new TextEncoder).encode(n),o=btoa(String.fromCharCode(...r));return(0,c.logDebug)("url encodeConnectParams base64Encoded ",o),o}function v(e){const t=JSON.stringify({topic:e.topic,clientId:e.clientId});(0,c.logDebug)("url encodeConnectParams connectRequestStr",t);const n=(new TextEncoder).encode(t);return btoa(String.fromCharCode(...n))}function b(e,t){return`${l.shortUniversalLink}?topic=${e}${(0,d.getLastSixMd5Hash)(t)}`}function C(e,t){let n={okxconnect:"",redirect:"",extraparams:"",fromtg:!1};e&&(n.okxconnect=e),t&&(n.redirect=t),E()?n.fromtg=!0:n.fromtg=!1,(0,c.logDebug)("getTelegramWalletTWAUrl redirect:",n.redirect);let r=JSON.stringify(n);const o=(new TextEncoder).encode(r),i=btoa(String.fromCharCode(...o)),s=(0,d.toSafeBase64FromBase64)(i);if((0,c.logDebug)("[TWA] open link:",n,i),e||t){if(E())return(0,l.getTestTgTwaUrl)()?`${(0,l.getTestTgTwaUrl)()}?startapp=${s}`:`https://t.me/${l.tgwalletName}/start?startapp=${s}`;if((0,l.getTestTwaUrl)())return`${(0,l.getTestTwaUrl)()}?tgWebAppStartParam=${s}`;if((0,l.getTestTgTwaUrl)()){let e=(0,l.getBotNameAndAppName)((0,l.getTestTgTwaUrl)());if(e){let{botName:t,appName:n}=e;return`tg://resolve?domain=${t}&appname=${n}&startapp=${s}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}&startapp=${s}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}&startapp=${s}`}if(E())return(0,l.getTestTgTwaUrl)()?`${(0,l.getTestTgTwaUrl)()}`:`https://t.me/${l.tgwalletName}/start`;if((0,l.getTestTwaUrl)())return`${(0,l.getTestTwaUrl)()}`;if((0,l.getTestTgTwaUrl)()){let e=(0,l.getBotNameAndAppName)((0,l.getTestTgTwaUrl)());if(e){let{botName:t,appName:n}=e;return`tg://resolve?domain=${t}&appname=${n}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}`}function w(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch(t){return e}}let _={};try{_=function(e){let t={};if(!(e=e.replace(/^#/,"")).length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=w(e),t;let n=e.indexOf("?");if(n>=0){let r=e.substr(0,n);t._path=w(r),e=e.substr(n+1)}let r=function(e){let t={};if(!e.length)return t;let n,r,o,i,s=e.split("&");for(n=0;n<s.length;n++)r=s[n].split("="),o=w(r[0]),i=null==r[1]?null:w(r[1]),t[o]=i;return t}(e);for(let e in r)t[e]=r[e];return t}(location.hash.toString())}catch(e){}let O="unknown";if((null==_?void 0:_.tgWebAppPlatform)&&(O=null!==(r=_.tgWebAppPlatform)&&void 0!==r?r:"unknown"),"unknown"===O){const e=m();O=null!==(s=null===(i=null===(o=null==e?void 0:e.Telegram)||void 0===o?void 0:o.WebApp)||void 0===i?void 0:i.platform)&&void 0!==s?s:"unknown"}function E(){var e;return"unknown"!==O||!!(null===(e=m())||void 0===e?void 0:e.TelegramWebviewProxy)}},1031:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.chainName2IdMap=t.isValidObject=t.RANDOM_LENGTH=t.isBrowser=t.resolveLocalStorage=t.hasLocalStorage=t.hasBuiltInWebSocket=t.resolveWebSocketImplementation=void 0,t.hexToByteArray=function(e){if(e.length%2!=0)throw new Error(`Cannot convert ${e} to bytesArray`);const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t},t.getChainId=function(e){return e.includes(":")?e.split(":")[1]:e},t.toHexString=function(e){let t="";return e.forEach((e=>{t+=("0"+(255&e).toString(16)).slice(-2)})),t},t.concatUint8Arrays=function(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n},t.splitToUint8Arrays=function(e,t){if(t>=e.length)throw new Error("Index is out of buffer");return[e.slice(0,t),e.slice(t)]},t.base64encode=function(e,t){let n;return e instanceof Uint8Array?n=e:("string"!=typeof e&&(e=(0,c.safeJsonStringify)(e)),n=i.default.decodeUTF8(e)),function(e,t){const n=i.default.encodeBase64(e);return t?encodeURIComponent(n):n}(n,t)},t.base64decode=function(e,t){const n=function(e,t){return t&&(e=decodeURIComponent(e)),i.default.decodeBase64(e)}(e,t);return{toString:()=>i.default.encodeUTF8(n),toObject(){try{return(0,c.safeJsonParse)(i.default.encodeUTF8(n))}catch(e){return null}},toUint8Array:()=>n}},t.checkWSUrl=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!t||!t.length)return!1;let n=t[0];return void 0!==n&&new RegExp("^wss?:").test(n)},t.hashKey=g,t.generateRandomBytes32=p,t.generateTopic=function(){let e=p();return(0,l.logDebug)(`generate topic called ${e}`),g((0,s.toString)(e,f))},t.generateGroupId=function(){let e=o.default.randomBytes(16);return(0,l.logDebug)(`generate groupid called ${e}`),g((0,s.toString)(e,f))},t.isInIOSLine=function(){return navigator.userAgent.includes("Safari Line/")&&m()},t.isInIOSLark=function(){return navigator.userAgent.includes("Lark/")&&m()},t.isInIOSChrome=function(){return navigator.userAgent.includes("CriOS/")&&m()},t.isInIOSWeChat=function(){return navigator.userAgent.includes("MicroMessenger/")&&m()},t.isIos=m,t.getLastSixMd5Hash=function(e){return u.default.MD5(e).toString().slice(-6)},t.toSafeBase64FromBase64=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},t.useShortLink=function(){return!1},t.replaceChainNameToChainId=function(e){return t.chainName2IdMap.forEach(((t,n)=>{e.includes(n)&&(e=e.replace(n,t))})),e},t.replaceChainIdToChainName=function(e){return t.chainName2IdMap.forEach(((t,n)=>{e.includes(t)&&(e=e.replace(t,n))})),e},t.getNamespaceKeyByChain=function(e){for(const[t,n]of Object.entries(h.NAMES_CHAINS))if(Object.values(n).includes(e))return t;return e};const o=r(n(8947)),i=r(n(6386)),s=n(9609),a=n(204),c=n(6715),l=n(3628),d=n(8444),u=r(n(1396)),h=n(5113),f="base16";function g(e,t=f){(0,l.logDebug)(`hash key called ${e}`);const n=(0,a.hash)((0,d.okxfromString)(e,t));return(0,s.toString)(n,t)}function p(){return o.default.randomBytes(t.RANDOM_LENGTH)}function m(){const e=navigator.userAgent,t=navigator.maxTouchPoints||0,n=/iPad|iPhone|iPod/.test(e)&&!window.MSStream,r=e.includes("Mac")&&t>1;return(0,l.logDebug)(`utils isIos >>>isIOSDevice: ${n}    >> isIPadOS: ${r}`),n||r}t.resolveWebSocketImplementation=()=>"undefined"!=typeof WebSocket?WebSocket:void 0!==n.g&&void 0!==n.g.WebSocket?n.g.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:"undefined"!=typeof self&&void 0!==self.WebSocket?self.WebSocket:WebSocket,t.hasBuiltInWebSocket=()=>"undefined"!=typeof WebSocket||void 0!==n.g&&void 0!==n.g.WebSocket||"undefined"!=typeof window&&void 0!==window.WebSocket||"undefined"!=typeof self&&void 0!==self.WebSocket,t.hasLocalStorage=()=>void 0!==n.g&&void 0!==n.g.localStorage||"undefined"!=typeof window&&void 0!==window.localStorage,t.resolveLocalStorage=()=>void 0!==n.g&&void 0!==n.g.localStorage?n.g.localStorage:"undefined"!=typeof window&&void 0!==window.localStorage?window.localStorage:localStorage,t.isBrowser=()=>"undefined"!=typeof window,t.RANDOM_LENGTH=32,t.isValidObject=e=>Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length,t.chainName2IdMap=new Map,t.chainName2IdMap.set("aptos:mainnet","aptos:637"),t.chainName2IdMap.set("movement:testnet","aptos:70000060"),t.chainName2IdMap.set("movement:mainnet","aptos:70000066"),t.chainName2IdMap.set("soon:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000069"),t.chainName2IdMap.set("soon:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","svm:70000067"),t.chainName2IdMap.set("eclipse:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000068")},1749:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.openLink=a,t.openLinkBlank=function(e){a(e,"_blank")},t.openDeeplinkWithFallback=function(e,t){const n=setTimeout((()=>{d("safari")||l("android")&&d("firefox")||t()}),500);window.addEventListener("blur",(()=>clearTimeout(n)),{once:!0}),l("android")&&(0,s.inTg)()?a(e,"_blank"):a(e,"_self")},t.isMobileUserAgent=function(){let e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.slice(0,4)))&&(e=!0),e;var t},t.getUserAgent=c,t.isOS=l,t.isBrowser=d;const o=r(n(7232)),i=n(3628),s=n(8837);function a(e,t="_self"){(0,i.logDebug)("openLink",e,t),window.open(e,t,"noopener noreferrer")}function c(){var e,t,n;const r=(new o.default).getResult(),i=null===(e=r.os.name)||void 0===e?void 0:e.toLowerCase();let s;switch(!0){case"ipad"===(null===(t=r.device.model)||void 0===t?void 0:t.toLowerCase()):s="ipad";break;case"ios"===i:s="ios";break;case"android"===i:s="android";break;case"mac os"===i:s="macos";break;case"linux"===i:s="linux";break;case null==i?void 0:i.includes("windows"):s="windows"}const a=null===(n=r.browser.name)||void 0===n?void 0:n.toLowerCase();let c;switch(!0){case"chrome"===a:c="chrome";break;case"firefox"===a:c="firefox";break;case null==a?void 0:a.includes("safari"):c="safari";break;case null==a?void 0:a.includes("opera"):c="opera"}return{os:s,browser:c}}function l(...e){return e.includes(c().os)}function d(...e){return e.includes(c().browser)}},2222:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.toUserFriendlyAddress=t.removeUrlLastSlash=t.addPathToUrl=t.createVersionInfo=t.BrowserEventDispatcher=t.createTransactionSigningFailedEvent=t.createTransactionSignedEvent=t.createTransactionSentForSignatureEvent=t.createDisconnectionEvent=t.createConnectionStartedEvent=t.createConnectionRestoringStartedEvent=t.createConnectionRestoringErrorEvent=t.createConnectionRestoringCompletedEvent=t.createConnectionErrorEvent=t.createConnectionCompletedEvent=t.createResponseVersionEvent=t.createRequestVersionEvent=t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=t.OKXTonConnect=void 0;var i=n(7987);Object.defineProperty(t,"OKXTonConnect",{enumerable:!0,get:function(){return i.OKXTonConnect}}),o(n(1188),t);var s=n(1249);Object.defineProperty(t,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return s.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}}),Object.defineProperty(t,"createRequestVersionEvent",{enumerable:!0,get:function(){return s.createRequestVersionEvent}}),Object.defineProperty(t,"createResponseVersionEvent",{enumerable:!0,get:function(){return s.createResponseVersionEvent}}),Object.defineProperty(t,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return s.createConnectionCompletedEvent}}),Object.defineProperty(t,"createConnectionErrorEvent",{enumerable:!0,get:function(){return s.createConnectionErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return s.createConnectionRestoringCompletedEvent}}),Object.defineProperty(t,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return s.createConnectionRestoringErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return s.createConnectionRestoringStartedEvent}}),Object.defineProperty(t,"createConnectionStartedEvent",{enumerable:!0,get:function(){return s.createConnectionStartedEvent}}),Object.defineProperty(t,"createDisconnectionEvent",{enumerable:!0,get:function(){return s.createDisconnectionEvent}}),Object.defineProperty(t,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return s.createTransactionSentForSignatureEvent}}),Object.defineProperty(t,"createTransactionSignedEvent",{enumerable:!0,get:function(){return s.createTransactionSignedEvent}}),Object.defineProperty(t,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return s.createTransactionSigningFailedEvent}}),Object.defineProperty(t,"BrowserEventDispatcher",{enumerable:!0,get:function(){return s.BrowserEventDispatcher}}),Object.defineProperty(t,"createVersionInfo",{enumerable:!0,get:function(){return s.createVersionInfo}});var a=n(5320);Object.defineProperty(t,"addPathToUrl",{enumerable:!0,get:function(){return a.addPathToUrl}}),Object.defineProperty(t,"removeUrlLastSlash",{enumerable:!0,get:function(){return a.removeUrlLastSlash}}),Object.defineProperty(t,"toUserFriendlyAddress",{enumerable:!0,get:function(){return a.toUserFriendlyAddress}})},2702:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTonConnectInner=void 0;const i=n(9431),s=n(1188),a=n(5724),c=n(3122),l=n(3544),d=n(6246),u=n(461);class h{constructor(e){if(this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.openUniversalLink=!!this.provider&&this.provider.openUniversalLink,(0,s.checkMetaData)(e.metaData),!e.metaData)throw(0,s.logDebug)("OKXTonConnect constructor error: options.metaData is nil"),new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"dapp metaData can not be null");(0,s.logDebug)("OKXTonConnect constructor options:",JSON.stringify(e)),this.dappSettings={metaData:Object.assign(Object.assign({},e.metaData),{url:window.location.hostname,origin:window.location.origin})},e.connectors&&0!=e.connectors.length||(e.connectors=[new s.AppwalletConnector]),this.connectors=e.connectors,this.tracker=new c.TonConnectTracker({OKXtonConnectSdkVersion:u.OKXtonConnectSdkVersion}),this.storage=new s.Storage(u.OKXCONNECTOR_TON_KEY+this.dappSettings.metaData.name+u.OKXTON_STORAGE_PREFIX,u.OKXCONNECTOR_TON_KEY),this.bridgeConnectionStorage=new d.BridgeConnectionStorage(this.storage)}get connected(){return null!==this._wallet}get account(){var e;return(null===(e=this._wallet)||void 0===e?void 0:e.account)||null}get wallet(){return this._wallet}set wallet(e){this._wallet=e,this.statusChangeSubscriptions.forEach((e=>e(this._wallet)))}connect(e){return r(this,void 0,void 0,(function*(){var t;return(0,s.logDebug)("ton-Connect ==>> connect_1 >> request:",e),this.connected&&(0,s.logError)("It's already connected to OKX Wallet, please call disconnect() first"),yield null===(t=this.provider)||void 0===t?void 0:t.closeConnection(!1,!0),this.provider||(this.provider=new i.BridgeProvider(this.storage,this.dappSettings.metaData.name,this.connectors)),this.provider.listen(this.walletEventsListener.bind(this)),this.tracker.trackConnectionStarted(),yield this.provider.connect(this.createConnectRequest(e),null==e?void 0:e.redirect,null==e?void 0:e.openUniversalLink,null==e?void 0:e.tmaReturnUrl)}))}walletEventsListener(e){switch((0,s.logDebug)("ton-Connect ==>> walletEventsListener_1 >> e:",e),e.event){case"connect":this.onWalletConnected(e.payload);break;case"connect_error":this.onWalletConnectError(e.payload);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(e){(0,s.logDebug)("ton-Connect ==>> onWalletConnected_1 >> connectEvent:",e);const t=e.items.find((e=>"ton_addr"===e.name)),n=e.items.find((e=>"ton_proof"===e.name));if(!t)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_addr connection item was not found");const r={device:e.device,provider:this.provider.type,account:{address:t.address,chain:t.network,walletStateInit:t.walletStateInit,publicKey:t.publicKey}};n&&(r.connectItems={tonProof:n}),this.wallet=r,(0,s.logDebug)("ton-Connect ==>> onWalletConnected_2 >> wallet:",r),this.tracker.trackConnectionCompleted(r)}onWalletConnectError(e){var t;(0,s.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> connectEventError:",e);const n=new s.OKXConnectError(e.code,e.message);(0,s.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> error:",n),this.statusChangeErrorSubscriptions.forEach((e=>e(n))),this.tracker.trackConnectionError(null!==(t=e.message)&&void 0!==t?t:"",e.code)}onWalletDisconnected(e){this.tracker.trackDisconnection(this.wallet,e),this.wallet=null}disconnect(){return r(this,void 0,void 0,(function*(){var e;if((0,s.logDebug)("ton-Connect ==>> disconnect_1"),!this.connected)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"wallet is not connected");(0,s.logDebug)("ton-Connect ==>> disconnect_222"),this.onWalletDisconnected("dapp"),yield null===(e=this.provider)||void 0===e?void 0:e.disconnect()}))}onStatusChange(e,t){return this.statusChangeSubscriptions.push(e),t&&this.statusChangeErrorSubscriptions.push(t),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter((t=>t!==e)),t&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter((e=>e!==t)))}}restoreConnection(){return r(this,void 0,void 0,(function*(){var e;(0,s.logDebug)("ton-Connect ==>> restoreConnection_1"),this.tracker.trackConnectionRestoringStarted();let t=null;try{t=yield i.BridgeProvider.fromStorage(this.storage,this.dappSettings.metaData.name,this.connectors)}catch(e){return this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),null==t||t.closeConnection(),void(t=null)}if(!t)return(0,s.logError)("Provider is not restored"),void this.tracker.trackConnectionRestoringError("Provider is not restored");(0,s.logDebug)("ton-Connect ==>> restoreConnection_2 ==>> Provider is restored "),null===(e=this.provider)||void 0===e||e.closeConnection(!0,!1),this.provider=t,t.listen(this.walletEventsListener.bind(this)),yield this.provider.restoreConnection(),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")}))}sendTransaction(e,t){return r(this,void 0,void 0,(function*(){var n;(0,s.logDebug)("ton-Connect ==>> sendTransaction_1",e),this.checkConnection(),(0,a.checkSendTransactionSupport)(this.wallet.device.features,{requiredMessagesNumber:e.messages.length}),this.tracker.trackTransactionSentForSignature(this.wallet,e),(0,s.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> check params");const{validUntil:r}=e,i=o(e,["validUntil"]),c=e.from||this.account.address;let d=this.account.chain;(0,s.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> await sendRequest",d),(0,s.isIos)()&&!(null==t?void 0:t.doNotOpenWallet)&&(null===(n=this.provider)||void 0===n||n.openOKXWallet());const u=yield this.provider.sendRequest(l.sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({},i),{valid_until:r,from:c,network:d})),{onRequestSent:()=>{var e,n;(0,s.isIos)()||(null==t?void 0:t.doNotOpenWallet)||null===(e=this.provider)||void 0===e||e.openOKXWallet(),null===(n=null==t?void 0:t.onRequestSent)||void 0===n||n.call(t)}});if((0,s.logDebug)("ton-Connect ==>> sendTransaction_3 ==>>sendRequest response:",u),l.sendTransactionParser.isError(u))throw this.tracker.trackTransactionSigningFailed(this.wallet,e,u.error.message,u.error.code),new s.OKXConnectError(u.error.code,u.error.message);const h=l.sendTransactionParser.convertFromRpcResponse(u);return this.tracker.trackTransactionSigned(this.wallet,e,h),h}))}checkConnection(){if((0,s.logDebug)("ton-Connect ==>> checkConnection"),!this.connected)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Wallet not connected")}createConnectRequest(e){(0,s.logDebug)("ton-Connect ==>> createConnectRequest");const t={ton_addr:{name:"ton_addr"}};return(null==e?void 0:e.tonProof)&&(t.ton_proof={name:"ton_proof",payload:e.tonProof}),{dappInfo:this.dappSettings.metaData,params:t}}static getWallets(){return this.walletsList}}t.OKXTonConnectInner=h,h.walletsList=[(0,s.creatOKXWalletInfo)()]},7987:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTonConnect=void 0;const o=n(1188),i=n(2702);t.OKXTonConnect=class{constructor(e){try{(0,o.logDebug)("OKXTonConnect constructor called"),window&&window.okxConnectTonsdkinwindow&&window.okxConnectTonsdkinwindow instanceof i.OKXTonConnectInner?(this.tonInner=window.okxConnectTonsdkinwindow,(0,o.logDebug)("OKXTonConnect constructor old called")):(this.tonInner=new i.OKXTonConnectInner(e),(0,o.logDebug)("OKXTonConnect constructor new called"),window&&(window.okxConnectTonsdkinwindow=this.tonInner))}catch(e){throw e}}get connected(){return this.tonInner.connected}get openUniversalLink(){return this.tonInner.openUniversalLink}get provider(){return this.tonInner.provider}get account(){return this.tonInner.account}get wallet(){return this.tonInner.wallet}set wallet(e){this.tonInner.wallet=e}connect(e){return r(this,void 0,void 0,(function*(){return this.tonInner.connect(e)}))}disconnect(){return r(this,void 0,void 0,(function*(){return this.tonInner.disconnect()}))}onStatusChange(e,t){return this.tonInner.onStatusChange(e,t)}restoreConnection(){return r(this,void 0,void 0,(function*(){return this.tonInner.restoreConnection()}))}sendTransaction(e,t){return r(this,void 0,void 0,(function*(){return this.tonInner.sendTransaction(e,t)}))}static getWallets(){return i.OKXTonConnectInner.getWallets()}}},472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpcParser=void 0,t.RpcParser=class{isError(e){return"error"in e}}},3544:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.sendTransactionParser=void 0;const o=n(472);class i extends o.RpcParser{convertToRpcRequest(e){const{redirect:t}=e;return{method:"ton_sendTransaction",redirect:t,params:r(e,["redirect"])}}convertFromRpcResponse(e){return{boc:e.result.toString()}}}t.sendTransactionParser=new i},6246:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BridgeConnectionStorage=void 0;const o=n(1188);t.BridgeConnectionStorage=class{constructor(e){this.storage=e,this.storeKey="ton_connect_info_adapter_universal"}storeConnection(e){return r(this,void 0,void 0,(function*(){return(0,o.logDebug)("BridgeConnectionStorage ==>> storeConnection ==>> connection:",e),this.storage.saveContent(JSON.stringify(e),this.storeKey)}))}removeConnection(){return r(this,void 0,void 0,(function*(){return(0,o.logDebug)("BridgeConnectionStorage ==>> removeConnection"),this.storage.clearCache(this.storeKey)}))}getConnection(){return r(this,void 0,void 0,(function*(){const e=this.storage.getItem(this.storeKey);if((0,o.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>this.storage: ",this.storage),!e||!(null==e?void 0:e.content))return null;try{const t=null==e?void 0:e.content;if(t){let e;return e=JSON.parse(t),(0,o.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>connection: ",e),e}return null}catch(e){return null}}))}getHttpConnection(){return r(this,void 0,void 0,(function*(){const e=yield this.getConnection();if(!e)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Trying to read HTTP connection source while nothing is stored");return e}))}storeLastWalletEventId(e){return r(this,void 0,void 0,(function*(){const t=yield this.getConnection();if(t&&"connectEvent"in t)return t.lastWalletEventId=e,this.storeConnection(t)}))}getLastWalletEventId(){return r(this,void 0,void 0,(function*(){const e=yield this.getConnection();if(e&&"lastWalletEventId"in e)return e.lastWalletEventId}))}}},9431:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BridgeProvider=void 0;const o=n(7565),i=n(1188),s=n(6246),a=n(461),c=n(3122);class l{constructor(e,t=void 0,n){this.storage=e,this.type="http",this.listeners=[],this.walletConnectionSource={universalLink:i.standardUniversalLink},this.openUniversalLink=!1,this.engine=new i.Engine(t+a.OKXTON_STORAGE_PREFIX),this.engine.registerConnector(n),this.connectionStorage=new s.BridgeConnectionStorage(e),this.tracker=new c.TonConnectTracker({OKXtonConnectSdkVersion:a.OKXtonConnectSdkVersion}),(0,i.getDefaultReporter)().configVersionAndSide("tonsdk-1.5.2","dapp",t)}static fromStorage(e){return r(this,arguments,void 0,(function*(e,t=void 0,n){(0,i.logDebug)("bridge-provider ==>> fromStorage ==>>storage:",e),(0,i.reportLog)("bridge-provider ==>> fromStorage");const r=new s.BridgeConnectionStorage(e),a=yield r.getHttpConnection();if((0,o.isPendingConnectionHttp)(a))return null;const c=new l(e,t,n);return c.openUniversalLink=a.openUniversalLink,c}))}isCryptoEnable(){return this.engine.connectionManager.getCryptoKeyEnable()}connect(e,t,n,o){return r(this,void 0,void 0,(function*(){return(0,i.logDebug)("bridge-provider ==>> connect_1 ==>>message:",e),(0,i.logDebug)("bridge-provider ==>> connect_1 ==>>redirect:",t),(0,i.logDebug)("bridge-provider ==>> connect_1 ==>>openUniversalLink:",n),(0,i.logDebug)("bridge-provider ==>> connect_1 ==>>tmaReturnUrl:",o),(0,i.reportLog)("bridge-provider ==>> connect"),new Promise(((r,s)=>{try{this.openUniversalLink=n,void 0===this.openUniversalLink&&(this.openUniversalLink=(0,i.isMobileUserAgent)());let a={name:"requestAccounts",requiredNamespaces:[{namespace:"ton",chains:["ton:-239"],params:e.params}]},c=[];e.params.ton_addr&&c.push(e.params.ton_addr),e.params.ton_proof&&c.push(e.params.ton_proof),c.push(a);let l={dappInfo:e.dappInfo,openUniversalUrl:this.openUniversalLink,redirect:t,tmaReturnUrl:o};this.engine.universalConnect(c,l,(e=>{(0,i.logDebug)(`bridge-provider: connect: info>>>> ${JSON.stringify(e)}`);try{const t=(0,i.encodeConnectParams)(e.connectRequest),n=(0,i.getAppWalletDeepLink)(t),o=(0,i.getUniversalLink)(n);this.tracker.trackConnectionInfoBeforeJump(e),r(o)}catch(e){s(e)}})).then((e=>{(0,i.logDebug)(`bridge-provider: connect: success>>>> ${JSON.stringify(e)}`),this.connectSuccessHandle(e)})).catch((e=>{(0,i.logDebug)(`bridge-provider: connect: catch>>>> ${JSON.stringify(e)}`);const t={event:"connect_error",requestId:Number(Date.now()),payload:{code:e.code,message:e.message}};(0,i.logDebug)("bridge-provider ==>> connectListener_4 ==>>connect_error:",t),this.listeners.forEach((e=>e(t))),s(e)}))}catch(e){console.error("bridge-provider connect try catch error:>>>",JSON.stringify(e)),s(e)}}))}))}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter((t=>t!==e))}disconnectListener(){return r(this,void 0,void 0,(function*(){(0,i.logDebug)("bridge-provider ==>> disconnectListener"),(0,i.reportLog)("bridge-provider ==>> disconnectListener");const e={event:"disconnect",requestId:Number(1),payload:{}};this.listeners.forEach((t=>t(e))),yield this.closeConnection()}))}connectSuccessHandle(e){return r(this,void 0,void 0,(function*(){var t,n;try{const r=null===(t=e.namespaces)||void 0===t?void 0:t.ton,o=r.payload,s=e.wallet;if(!(r&&o&&s&&o.ton_addr))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);o.ton_addr;const a=e.sessionConfig;let c=[];o.ton_addr&&c.push(o.ton_addr),o.ton_proof&&c.push(o.ton_proof);const l={platform:s.platform,appName:s.appName,appVersion:s.appVersion,maxProtocolVersion:s.maxProtocolVersion,features:["ton_sendTransaction"]},d={type:"http",lastWalletEventId:Number(Date.now()),connectEvent:{event:"connect",payload:{items:c,device:l}},connectionSource:this.walletConnectionSource,channelId:e.topic,openUniversalLink:null==a?void 0:a.openUniversalUrl,dappInfo:null==a?void 0:a.dappInfo};(0,i.logDebug)("bridge-provider ==>> connectSuccessHandle_2 ==>>storeConnection:",d),yield this.connectionStorage.storeConnection(d),null===(n=this.engine)||void 0===n||n.addDisconnectListener(this.disconnectListener.bind(this));const u={event:"connect",requestId:d.lastWalletEventId,payload:d.connectEvent.payload};(0,i.logDebug)("bridge-provider ==>> connectSuccessHandle_3 ==>>listeners.forEach:",u),this.listeners.forEach((e=>e(u)))}catch(e){(0,i.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>error:",e);const t={event:"connect_error",requestId:Number(Date.now()),payload:{code:i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,message:"Connect success  connectSuccessHandle response error"}};(0,i.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>connect_error:",t),this.listeners.forEach((e=>e(t)))}}))}closeConnection(){return r(this,arguments,void 0,(function*(e=!1,t=!1){var n,r;(0,i.logDebug)("bridge-provider ==>> closeConnection ==>>fromRestore:",e," needOpenUrl:",t),(0,i.reportLog)("bridge-provider ==>> closeConnection"),this.listeners=[],t||(yield null===(n=this.engine)||void 0===n?void 0:n.connectManagerDisconnect(e)),e||(null===(r=this.engine)||void 0===r||r.clearData(),yield this.connectionStorage.removeConnection())}))}restoreConnection(){return r(this,void 0,void 0,(function*(){var e;(0,i.logDebug)("bridge-provider ==>> restoreConnection_1"),(0,i.reportLog)("bridge-provider ==>> restoreConnection");const t=yield this.connectionStorage.getHttpConnection();if((0,o.isPendingConnectionHttp)(t))return;const n=t.connectEvent.payload.device.appName,r=(0,i.getTagByappName)(n)===i.OKX_INJECT_WALLET,s=this.engine.connectionManager.getCryptoKeyEnable();if(t&&(s||r))if((0,i.logDebug)("bridge-provider ==>> restoreConnection_2 ==>>storedConnection.channelId:",t.channelId),t.channelId)try{const n={event:"connect",requestId:Number(0),payload:t.connectEvent.payload};this.listeners.forEach((e=>e(n))),this.engine.setConnectConnector(t.connectEvent.payload.device);const r=t.channelId;(0,i.logDebug)("bridge-provider ==>> restoreConnection_3 ==>>this.engine.restoreConnect:",r),null===(e=this.engine)||void 0===e||e.addDisconnectListener(this.disconnectListener.bind(this)),yield this.engine.restoreconnectFromTopic(r)}catch(e){(0,i.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_1"),yield this.closeConnection()}else(0,i.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_2"),yield this.closeConnection()}))}openOKXWallet(){(0,i.logDebug)("bridge-provider ==>> openOKXWallet",this.openUniversalLink),(0,i.reportLog)("bridge-provider ==>> openOKXWallet"),this.openUniversalLink&&(0,i.openOKXDeeplink)(i.standardDeeplink)}disconnect(){return r(this,void 0,void 0,(function*(){return(0,i.logDebug)("bridge-provider ==>> disconnect_1"),(0,i.reportLog)("bridge-provider ==>> disconnect"),new Promise((e=>r(this,void 0,void 0,(function*(){let t=!1;const n=()=>{t||(t=!0,this.closeConnection().then(e))};try{yield this.sendRequest({method:"disconnect"},{onRequestSent:n,attempts:1})}catch(n){t||this.closeConnection().then(e)}finally{n()}}))))}))}sendRequest(e,t,n){return(0,i.logDebug)("bridge-provider ==>> sendRequest"),(0,i.reportLog)("bridge-provider ==>> sendRequest"),new Promise(((o,s)=>r(this,void 0,void 0,(function*(){var r;try{yield null===(r=this.engine)||void 0===r?void 0:r.send(Object.assign(Object.assign({},e),{chainId:i.TON_CHAINS.MAINNET}),{resolve:function(e){o(e)},onAck:function(){var e;null===(e=null==t?void 0:t.onRequestSent)||void 0===e||e.call(t)}},n)}catch(e){s(e)}}))))}connectorOpenWallet(){this.engine.openWallet()}}t.BridgeProvider=l},7565:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPendingConnectionHttp=function(e){return!("connectEvent"in e)}},4568:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserEventDispatcher=void 0,t.BrowserEventDispatcher=class{constructor(){this.window=window}dispatchEvent(e,t){return n(this,void 0,void 0,(function*(){var n;const r=new CustomEvent(e,{detail:t});null===(n=this.window)||void 0===n||n.dispatchEvent(r)}))}addEventListener(e,t,r){return n(this,void 0,void 0,(function*(){var n;return null===(n=this.window)||void 0===n||n.addEventListener(e,t,r),()=>{var n;return null===(n=this.window)||void 0===n?void 0:n.removeEventListener(e,t)}}))}}},1249:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserEventDispatcher=t.createVersionInfo=t.createTransactionSigningFailedEvent=t.createTransactionSignedEvent=t.createTransactionSentForSignatureEvent=t.createDisconnectionEvent=t.createConnectionStartedEvent=t.createConnectionRestoringStartedEvent=t.createConnectionRestoringErrorEvent=t.createConnectionRestoringCompletedEvent=t.createConnectionErrorEvent=t.createConnectionCompletedEvent=t.createResponseVersionEvent=t.createRequestVersionEvent=t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0;var r=n(6445);Object.defineProperty(t,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return r.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}});var o=n(9376);Object.defineProperty(t,"createRequestVersionEvent",{enumerable:!0,get:function(){return o.createRequestVersionEvent}}),Object.defineProperty(t,"createResponseVersionEvent",{enumerable:!0,get:function(){return o.createResponseVersionEvent}}),Object.defineProperty(t,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return o.createConnectionCompletedEvent}}),Object.defineProperty(t,"createConnectionErrorEvent",{enumerable:!0,get:function(){return o.createConnectionErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return o.createConnectionRestoringCompletedEvent}}),Object.defineProperty(t,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return o.createConnectionRestoringErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return o.createConnectionRestoringStartedEvent}}),Object.defineProperty(t,"createConnectionStartedEvent",{enumerable:!0,get:function(){return o.createConnectionStartedEvent}}),Object.defineProperty(t,"createDisconnectionEvent",{enumerable:!0,get:function(){return o.createDisconnectionEvent}}),Object.defineProperty(t,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return o.createTransactionSentForSignatureEvent}}),Object.defineProperty(t,"createTransactionSignedEvent",{enumerable:!0,get:function(){return o.createTransactionSignedEvent}}),Object.defineProperty(t,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return o.createTransactionSigningFailedEvent}}),Object.defineProperty(t,"createVersionInfo",{enumerable:!0,get:function(){return o.createVersionInfo}});var i=n(4568);Object.defineProperty(t,"BrowserEventDispatcher",{enumerable:!0,get:function(){return i.BrowserEventDispatcher}})},3122:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TonConnectTracker=void 0;const o=n(9376),i=n(4568);t.TonConnectTracker=class{get version(){return(0,o.createVersionInfo)({okx_ton_connect_sdk_lib:this.OKXtonConnectSdkVersion,okx_connect_ui_lib:this.OKXConnectUiVersion})}constructor(e){this.eventPrefix="okx-ton-connect-",this.OKXConnectUiVersion=null,this.eventDispatcher=new i.BrowserEventDispatcher,this.OKXtonConnectSdkVersion=e.OKXtonConnectSdkVersion,this.init().catch()}init(){return r(this,void 0,void 0,(function*(){try{yield this.setRequestVersionHandler(),this.OKXConnectUiVersion=yield this.requestTonConnectUiVersion()}catch(e){}}))}setRequestVersionHandler(){return r(this,void 0,void 0,(function*(){yield this.eventDispatcher.addEventListener("okx-ton-connect-request-version",(()=>r(this,void 0,void 0,(function*(){yield this.eventDispatcher.dispatchEvent("okx-ton-connect-response-version",(0,o.createResponseVersionEvent)(this.OKXtonConnectSdkVersion))}))))}))}requestTonConnectUiVersion(){return r(this,void 0,void 0,(function*(){return new Promise(((e,t)=>r(this,void 0,void 0,(function*(){try{yield this.eventDispatcher.addEventListener("okx-connect-ui-response-version",(t=>{e(t.detail.version)}),{once:!0}),yield this.eventDispatcher.dispatchEvent("okx-connect-ui-request-version",(0,o.createRequestVersionEvent)())}catch(e){t(e)}}))))}))}dispatchUserActionEvent(e){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch(e){}}trackConnectionStarted(...e){try{const t=(0,o.createConnectionStartedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionDeepLink(...e){try{const t=(0,o.createConnectionDeepLinkEvent)(...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionCompleted(...e){try{const t=(0,o.createConnectionCompletedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionInfoBeforeJump(e){try{const t=(0,o.createConnectionInfoBeforeJumpEvent)(e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionError(...e){try{const t=(0,o.createConnectionErrorEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringStarted(...e){try{const t=(0,o.createConnectionRestoringStartedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringCompleted(...e){try{const t=(0,o.createConnectionRestoringCompletedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringError(...e){try{const t=(0,o.createConnectionRestoringErrorEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackDisconnection(...e){try{const t=(0,o.createDisconnectionEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSentForSignature(...e){try{const t=(0,o.createTransactionSentForSignatureEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSigned(...e){try{const t=(0,o.createTransactionSignedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSigningFailed(...e){try{const t=(0,o.createTransactionSigningFailedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}}},6445:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0,function(e){e.OKX_TON_CONNECTION_STARTED="okx-ton-connect-connection-started",e.OKX_TON_CONNECTION_COMPLETED="okx-ton-connect-connection-completed",e.OKX_TON_CONNECTION_ERROR="okx-ton-connect-connection-error",e.OKX_TON_CONNECTION_RESTORING_STARTED="okx-ton-connect-connection-restoring-started",e.OKX_TON_CONNECTION_RESTORING_COMPLETED="okx-ton-connect-connection-restoring-completed",e.OKX_TON_CONNECTION_RESTORING_ERROR="okx-ton-connect-connection-restoring-error",e.OKX_TON_DISCONNECTION="okx-ton-connect-disconnection",e.OKX_TON_TRANSACTION_SENT_FOR_SIGNATURE="okx-ton-connect-transaction-sent-for-signature",e.OKX_TON_TRANSACTION_SIGNED="okx-ton-connect-transaction-signed",e.OKX_TON_TRANSACTION_SIGNING_FAILED="okx-ton-connect-transaction-signing-failed"}(n||(t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=n={}))},9376:(e,t)=>{"use strict";function n(e){return{okx_ton_connect_sdk_lib:e.okx_ton_connect_sdk_lib,okx_connect_ui_lib:e.okx_connect_ui_lib}}function r(e,t){var r,o,i,s,a,c,l,d;const u=(null===(r=null==t?void 0:t.connectItems)||void 0===r?void 0:r.tonProof)&&"proof"in t.connectItems.tonProof?"ton_proof":"ton_addr";return{wallet_address:null!==(i=null===(o=null==t?void 0:t.account)||void 0===o?void 0:o.address)&&void 0!==i?i:null,wallet_type:null!==(s=null==t?void 0:t.device.appName)&&void 0!==s?s:null,wallet_version:null!==(a=null==t?void 0:t.device.appVersion)&&void 0!==a?a:null,auth_type:u,custom_data:Object.assign({chain_id:null!==(l=null===(c=null==t?void 0:t.account)||void 0===c?void 0:c.chain)&&void 0!==l?l:null,provider:null!==(d=null==t?void 0:t.provider)&&void 0!==d?d:null},n(e))}}function o(e,t){var n,r,o,i;return{valid_until:null!==(n=String(t.validUntil))&&void 0!==n?n:null,from:null!==(i=null!==(r=t.from)&&void 0!==r?r:null===(o=null==e?void 0:e.account)||void 0===o?void 0:o.address)&&void 0!==i?i:null,messages:t.messages.map((e=>{var t,n;return{address:null!==(t=e.address)&&void 0!==t?t:null,amount:null!==(n=e.amount)&&void 0!==n?n:null}}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestVersionEvent=function(){return{type:"request-version"}},t.createResponseVersionEvent=function(e){return{type:"response-version",version:e}},t.createVersionInfo=n,t.createConnectionStartedEvent=function(e){return{type:"connection-started",custom_data:n(e)}},t.createConnectionDeepLinkEvent=function(e){return{type:"connection-get-deeplink",deeplinkUrl:e}},t.createConnectionInfoBeforeJumpEvent=function(e){return{type:"connection-info-before-jump",connectInfo:e}},t.createConnectionCompletedEvent=function(e,t){return Object.assign({type:"connection-completed",is_success:!0},r(e,t))},t.createConnectionErrorEvent=function(e,t,r){return{type:"connection-error",is_success:!1,error_message:t,error_code:null!=r?r:null,custom_data:n(e)}},t.createConnectionRestoringStartedEvent=function(e){return{type:"connection-restoring-started",custom_data:n(e)}},t.createConnectionRestoringCompletedEvent=function(e,t){return Object.assign({type:"connection-restoring-completed",is_success:!0},r(e,t))},t.createConnectionRestoringErrorEvent=function(e,t){return{type:"connection-restoring-error",is_success:!1,error_message:t,custom_data:n(e)}},t.createTransactionSentForSignatureEvent=function(e,t,n){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},r(e,t)),o(t,n))},t.createTransactionSignedEvent=function(e,t,n,i){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:i.boc},r(e,t)),o(t,n))},t.createTransactionSigningFailedEvent=function(e,t,n,i,s){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:i,error_code:null!=s?s:null},r(e,t)),o(t,n))},t.createDisconnectionEvent=function(e,t,n){return Object.assign({type:"disconnection",scope:n},r(e,t))}},3984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUserFriendlyAddress=function(e,t=!1){const{wc:n,hex:s}=function(e){if(!e.includes(":"))throw new Error(`Wrong address ${e}. Address must include ":".`);const t=e.split(":");if(2!==t.length)throw new Error(`Wrong address ${e}. Address must include ":" only once.`);const n=parseInt(t[0]);if(0!==n&&-1!==n)throw new Error(`Wrong address ${e}. WC must be eq 0 or -1, but ${n} received.`);const r=t[1];if(64!==(null==r?void 0:r.length))throw new Error(`Wrong address ${e}. Hex part must be 64bytes length, but ${null==r?void 0:r.length} received.`);return{wc:n,hex:a(r)}}(e);let c=o;t&&(c|=i);const l=new Int8Array(34);l[0]=c,l[1]=n,l.set(s,2);const d=new Uint8Array(36);return d.set(l),d.set(function(e){let t=0;const n=new Uint8Array(e.length+2);n.set(e);for(let e of n){let n=128;for(;n>0;)t<<=1,e&n&&(t+=1),n>>=1,t>65535&&(t&=65535,t^=4129)}return new Uint8Array([Math.floor(t/256),t%256])}(l),34),(0,r.base64encode)(d,!1).replace(/\+/g,"-").replace(/\//g,"_")};const r=n(1188),o=81,i=128,s={};for(let e=0;e<=255;e++){let t=e.toString(16);t.length<2&&(t="0"+t),s[t]=e}function a(e){const t=(e=e.toLowerCase()).length;if(t%2!=0)throw new Error("Hex string must have length a multiple of 2: "+e);const n=t/2,r=new Uint8Array(n);for(let t=0;t<n;t++){const n=2*t,o=e.substring(n,n+2);if(!s.hasOwnProperty(o))throw new Error("Invalid hex character: "+o);r[t]=s[o]}return r}},461:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTON_STORAGE_PREFIX=t.OKXCONNECTOR_TON_KEY=t.OKXtonConnectSdkVersion=void 0,t.OKXtonConnectSdkVersion="1",t.OKXCONNECTOR_TON_KEY="OKXStorage_ctc",t.OKXTON_STORAGE_PREFIX="_okxton"},5724:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSendTransactionSupport=function(e,t){if(!e.includes("ton_sendTransaction"))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support SendTransaction feature.");if(4<t.requiredMessagesNumber)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`Wallet is not able to handle such SendTransaction request. Max support messages number is 4, but ${t.requiredMessagesNumber} is required.`)};const r=n(1188)},5320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUserFriendlyAddress=t.removeUrlLastSlash=t.addPathToUrl=void 0;var r=n(1049);Object.defineProperty(t,"addPathToUrl",{enumerable:!0,get:function(){return r.addPathToUrl}}),Object.defineProperty(t,"removeUrlLastSlash",{enumerable:!0,get:function(){return r.removeUrlLastSlash}});var o=n(3984);Object.defineProperty(t,"toUserFriendlyAddress",{enumerable:!0,get:function(){return o.toUserFriendlyAddress}})},1049:(e,t)=>{"use strict";function n(e){return"/"===e.slice(-1)?e.slice(0,-1):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removeUrlLastSlash=n,t.addPathToUrl=function(e,t){return n(e)+"/"+t}},1336:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_METHOD_BATCH_FETCHMSG=t.CONNECT_METHOD_FETCHMSG=t.CONNECT_METHOD_RECEIVE=t.CONNECT_METHOD_UNSUB=t.CONNECT_METHOD_SUB=t.CONNECT_METHOD_PUBLISH=t.CONNECT_METHOD_LOGIN=t.CONNECT_METHOD_PUSH=void 0,t.CONNECT_METHOD_PUSH="push",t.CONNECT_METHOD_LOGIN="login",t.CONNECT_METHOD_PUBLISH="publish",t.CONNECT_METHOD_SUB="subscribe",t.CONNECT_METHOD_UNSUB="unsubscribe",t.CONNECT_METHOD_RECEIVE="receive",t.CONNECT_METHOD_FETCHMSG="fetchMessages",t.CONNECT_METHOD_BATCH_FETCHMSG="batchFetchMessages"},8362:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXWalletConnector=void 0;const c=n(829),l=n(3028),d=n(897),u=n(5939),h=n(174),f=n(228),g=s(n(645)),p=n(7718),m=n(293),y=(0,h.resolveWebSocketImplementation)();t.OKXWalletConnector=class{constructor(e){if(this.events=new f.EventEmitter,this.state=c.ConnectorState.InitState,this.selectedUrlIndex=0,this.retryCount=0,this.timeOutLimit=8e3,!(0,h.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);this.url=e,this.heartbeatTimer=null,this.connectionTimeoutTimer=null,this.connectURLStorage=new d.Storage(l.OKXCONNECTOR_CACHE_KEY+l.OKXCONNECTOR_CACHE_KEY)}get connecting(){return this.state==c.ConnectorState.Connecting}onPayload(e){if(void 0!==e.data){if(g.logDebug("get received data"),g.logDebug(e),"string"==typeof e.data&&"pong"===e.data)return void g.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);this.events.emit("payload",e.data)}}onClose(e){var t;g.logDebug("socket get closed: ",null===(t=this.socket)||void 0===t?void 0:t.url,e.code),this.socket=void 0,this.events.emit("close",e)}onError(e,t){const n={id:e,msg:t.toString()};this.events.emit("payload",n)}onopen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.state=c.ConnectorState.Connected,this.events.emit("open")}emitError(e){this.events.emit("fail",e)}heartbeat(){return a(this,void 0,void 0,(function*(){if(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.state==c.ConnectorState.Connected||this.state==c.ConnectorState.OnError){if(this.socket){if(this.socket.readyState===WebSocket.OPEN)g.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`),this.socket.send("ping"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3);else if(g.logDebug("socket not ready"),this.state==c.ConnectorState.Connected||this.state==c.ConnectorState.OnError){g.logDebug("socket reconnect by heartbeat with state",this.state,this.socket.readyState);try{yield this.tryRegistOpen()}catch(e){g.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}}else if(g.logDebug("socket not exist"),this.state==c.ConnectorState.Connected||this.state==c.ConnectorState.OnError){g.logDebug("socket reconnect by heartbeat");try{yield this.tryRegistOpen()}catch(e){g.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}}else g.logDebug("heart beat close")}))}registOpen(e=this.url,t=!1){if(!(0,h.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);return this.url=e,t||g.logDebug("Connection connect:",this.url,(new Date).toUTCString()),this.state=c.ConnectorState.Connecting,new URLSearchParams(e).get("origin"),new Promise(((t,n)=>{const r=new y(e,[]);g.logDebug("Connection connect Begin:",this.url,(new Date).toUTCString()),this.startTimeOutTimer(r),(0,h.hasBuiltInWebSocket)()?(g.logDebug("Add socket error handler"),r.onerror=()=>{n(new Error("socket error")),r.close()}):(g.logDebug("Add socket error handler"),r.on("error",(()=>{n(new Error("socket error")),r.close()}))),r.onopen=()=>{g.logDebug("socket opened"),this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED),this.onopen(r),this.heartbeat(),t(r)}}))}checkMaxRetry(){return g.logDebug("current retry count:",this.retryCount,"of",c.OKXCONNECTOR_WS_URL_LIST.length),this.retryCount>3*c.OKXCONNECTOR_WS_URL_LIST.length}connectionTryNext(){return a(this,void 0,void 0,(function*(){if(!this.checkMaxRetry()){this.retryCount+=1;let e=this.getNextSelectUrl();return g.logDebug("Connection retry:",e,(new Date).toUTCString()),this.registOpen(e,!0)}g.logDebug("Max Connection retry ",this.retryCount,(new Date).toUTCString())}))}startTimeOutTimer(e){this.connectionTimeoutTimer&&this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED),this.pendingSocket=e,this.connectionTimeoutTimer=setTimeout((()=>{this.pendingSocket&&this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)}),this.timeOutLimit)}resetTimeOutTimer(e){var t;if(e==c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)throw clearTimeout(this.connectionTimeoutTimer),null===(t=this.pendingSocket)||void 0===t||t.close(),this.pendingSocket=void 0,g.reportEvent(m.OKXReportType.LOG,"timeout",this.retryCount.toString()),new Error("socket timeout");this.pendingSocket=void 0,clearTimeout(this.connectionTimeoutTimer)}cacheSuccessUrlSelect(){this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(),l.OKXCONNECTOR_CACHE_KEY)}getNextSelectUrl(){return this.selectedUrlIndex+=1,this.selectedUrlIndex=this.selectedUrlIndex%c.OKXCONNECTOR_WS_URL_LIST.length,c.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex]}onVisibleChanged(){return a(this,void 0,void 0,(function*(){if("visible"!==document.visibilityState||(g.logDebug(`get changed ${this.state}, ${this.socket}`),this.state!=c.ConnectorState.Connected||void 0!==this.socket));else{g.logDebug("CONNECTION need reopen");try{yield this.tryRegistOpen()}catch(e){g.logError("regist open failed")}}}))}tryRegistOpen(){return a(this,arguments,void 0,(function*(e=this.url){if(this.connecting)return g.logDebug("tryRegistOpen => connecting state"),new Promise(((e,t)=>{this.events.once("fail",(e=>(g.logDebug("tryRegistOpen => connecting fail listener",e),t(e)))),this.events.once("open",(()=>void 0===this.socket?t(new Error("Connect lost")):e(this.socket)))}));g.logDebug("tryRegistOpen => try registOpen until retry limit is hit");let t=!1;for(;!this.checkMaxRetry()&&!this.socket;)try{g.logDebug("tryRegistOpen => call registOpen, try count:",this.retryCount,t),yield this.registOpen(e,t)}catch(n){g.logDebug("tryRegistOpen => registOpen failed",n),this.retryCount+=1,e=this.getNextSelectUrl(),t=!0}if(g.logDebug("tryRegistOpen => exit while loop",this.retryCount,this.socket),!this.socket&&this.checkMaxRetry())throw g.logDebug("tryRegistOpen => failed to open a socket",this.retryCount,this.socket),this.retryCount=0,this.state=c.ConnectorState.OnError,this.emitError(new Error("tryRegistOpen failed")),new p.OKXConnectError(p.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"Failed to connect")}))}connect(){return a(this,void 0,void 0,(function*(){try{yield this.tryRegistOpen(),document.removeEventListener("visibilitychange",this.onVisibleChanged.bind(this)),document.addEventListener("visibilitychange",this.onVisibleChanged.bind(this))}catch(e){throw g.logDebug("connect => failed to connect",e),e}}))}disconnect(){return a(this,void 0,void 0,(function*(){return this.state=c.ConnectorState.Disconnected,new Promise(((e,t)=>{void 0!==this.socket?(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close(),this.heartbeatTimer&&clearTimeout(this.heartbeatTimer)):e()}))}))}currentStatus(){return{state:this.state,url:this.url}}addListener(e,t,n,r,o){this.listenPayloadHandler&&this.events.removeListener("payload",this.listenPayloadHandler),this.listenPayloadHandler=i=>a(this,void 0,void 0,(function*(){var s;g.logDebug(`<<< get payload ${i}`);let a=(0,u.safeJsonParse)(i);if(a.params&&a.params.data){let i=null===(s=a.params.data)||void 0===s?void 0:s.message,c=!1;if(i&&o){let e=yield o(a.params.data);c=e.isSplitPackage&&!e.finalMessage,e.isSplitPackage&&(e.finalMessage&&e.finalMessage.length>0?(g.logDebug("CONNECT: update raw msg content"),i=e.finalMessage):(g.logDebug("CONNECT: skip raw msg content"),c=!0))}if(!c)try{let o=t(i);void 0===o?(g.logDebug("CONNECT: decrypt undefined"),r(e,"Decrypt undefined")):n(e,o)}catch(t){g.logDebug(`CONNECT: decrypt failed: ${t}`),r(e,t.message)}}})),this.events.on("payload",this.listenPayloadHandler),this.failHandler&&this.events.removeListener("fail",this.failHandler),this.failHandler=t=>{t?(g.logDebug(`CONNECT failed: ${t}`),r(e,t.message)):r(e,"Unkonow error")},this.events.on("fail",this.failHandler)}addPackageParse(e){this.payloadHandler&&this.events.removeListener("payload",this.payloadHandler),this.payloadHandler=t=>a(this,void 0,void 0,(function*(){g.logDebug(`CONNECTION @[${(new Date).toUTCString()}] <<<< received e:${t}`);let n=(0,u.safeJsonParse)(t);yield e(n)})),this.events.on("payload",this.payloadHandler)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}send(e,t){return a(this,void 0,void 0,(function*(){try{void 0===this.socket&&(g.logDebug(`>>> send payload undefined ${t}`),yield e()),g.logDebug(`CONNECTION @[${(new Date).toUTCString()}]>>> send payload ${(0,u.safeJsonStringify)(t)}`),this.socket&&this.socket.send((0,u.safeJsonStringify)(t))}catch(e){this.onError(t.id,e)}}))}getMsgPayloadFromHistory(e){return a(this,void 0,void 0,(function*(){if(void 0===e)return;let t={params:{data:e}},n=(0,u.safeJsonStringify)(e);g.logDebug("get received data from history"),g.logDebug(n),n=(0,u.safeJsonStringify)(t),this.events.emit("payload",n)}))}onOpen(e){this.openHandler&&this.events.removeListener("open",this.openHandler),this.openHandler=()=>a(this,void 0,void 0,(function*(){g.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> ws opened: `),yield e()})),this.events.on("open",this.openHandler),this.cacheSuccessUrlSelect()}}},2703:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionManager=void 0;const c=n(8362),l=n(1336),d=n(3028),u=n(76),h=n(829),f=n(228),g=n(897),p=n(174),m=n(7354),y=n(6729),v=n(3184),b=s(n(645)),C=n(645),w=n(293),_=n(4978),O=n(9213);t.ConnectionManager=class{constructor(e=void 0){this.events=new f.EventEmitter,this.splitManager=new O.ConnectionSplitPackages("dapp"),this.connectStorage=new g.Storage(d.OKXCONNECTOR_CACHE_KEY_DAPP+e,d.OKXCONNECTOR_CACHE_KEY_DAPP),this.tonsdkConnectStorage=new g.Storage(d.OKXCONNECTOR_TON_KEY+e,d.OKXCONNECTOR_TON_KEY),this.crypto=new m.SessionCrypto;let t=(0,_.isInTMA)();if((0,C.logDebug)("do init:",t),b.reportLog("connection manager do init"),t)try{const e=this.getCachedCryptoKeyPair();(0,C.logDebug)("use same pk:",e),this.crypto=new m.SessionCrypto(e)}catch(e){this.connectStorage.clearCache(),b.reportEvent(w.OKXReportType.LOG,"cache_fail","cache failed")}this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new c.OKXWalletConnector(h.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.connectedWalletPK="",this.currentTopic="",b.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)}refreshPackageId(){let e=Date.now();e==this.packageId&&(this.packageId=e+1),this.packageId=e}saveCryptoKeyPair(e){let t=(0,v.safeJsonStringify)(e);this.connectStorage.encryptStoreMsg(t,d.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){const e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_CRYPTO_KEY);return"string"==typeof e?(b.logDebug("get cached crypto key:"),b.logDebug(e),(0,v.safeJsonParse)(e)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,p.toHexString)(e.publicKey),secretKey:(0,p.toHexString)(e.secretKey)};b.logDebug("save jwt kp");let n=(0,v.safeJsonStringify)(t);b.logDebug(n),this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_JWT_KEY)}getCachedJWTKeyPair(){try{const e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_JWT_KEY);if("string"==typeof e){b.logDebug("get cached jwt kp:"),b.logDebug(e);let t=(0,v.safeJsonParse)(e);return b.logDebug("save jwt kp"),b.logDebug(t),{publicKey:(0,p.hexToByteArray)(t.publicKey),secretKey:(0,p.hexToByteArray)(t.secretKey)}}return(0,y.generateKeyPair)()}catch(e){return b.reportEvent(w.OKXReportType.LOG,"cache_fail","cache failed"),(0,y.generateKeyPair)()}}isWalletPKReady(){return b.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`),this.connectedWalletPK.length>0}makeJWT(e){return a(this,void 0,void 0,(function*(){return yield(0,y.signJWT)(e,u.OKXCONNECTOR_JWT_SIDE,u.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)}))}parsePackage(e){return a(this,arguments,void 0,(function*(e,t=!1){var n,r,o,i,s,c,l,u,h,f,g,p,m;if(this.events.emit(e.id,e),!t){yield this.sendACK(e.id,!0);let t=null===(n=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE))||void 0===n?void 0:n.content;if(t){let n=e;if(null===(o=null===(r=n.params)||void 0===r?void 0:r.data)||void 0===o?void 0:o.messageId){let e=this.splitManager.tryParseMessageSplitPayload(null===(s=null===(i=n.params)||void 0===i?void 0:i.data)||void 0===s?void 0:s.message);if(e){let r={topicId:null===(l=null===(c=n.params)||void 0===c?void 0:c.data)||void 0===l?void 0:l.topic,messageId:null===(h=null===(u=n.params)||void 0===u?void 0:u.data)||void 0===h?void 0:h.messageId,messageObject:e,publishedAt:null===(g=null===(f=n.params)||void 0===f?void 0:f.data)||void 0===g?void 0:g.publishedAt},o=yield this.splitManager.onReceivedPackageCheck(r);o.completeMessageIdList&&o.completeMessageIdList.forEach((e=>a(this,void 0,void 0,(function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}))))}else this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),null===(m=null===(p=n.params)||void 0===p?void 0:p.data)||void 0===m?void 0:m.messageId,t)}}}}))}restoreConnect(e){return a(this,void 0,void 0,(function*(){if(b.reportLog("connection manager restore connection"),b.logDebug(`connectionManager  restoreConenct   ${e}`),"string"!=typeof e||0===e.length)throw new Error("CONNECTION: invalid topic");b.logDebug("connectionManager  restoreConenct   disconnect"),yield this.disconnect(!0),this.connectStorage.saveContent(e,d.OKXCONNECTOR_TOKEN_CACHE),b.logDebug("connectionManager  restoreConenct   conect"),yield this.connect(!0)}))}getConnectInfo(){var e=(0,p.generateTopic)();return b.logDebug(`generate topic token: ${e}`),b.reportLog("connection manager generate connection info"),this.currentTopic=e,{channelId:e,clientId:this.crypto.stringifyKeypair().publicKey}}connect(){return a(this,arguments,void 0,(function*(e=!1){this.timeLog=(new Date).getTime(),(0,C.logDebug)("ConnectTime---enter->",this.timeLog),b.reportLog("connection manager begin connect");let t=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);var n=this.currentTopic;if(b.logDebug(`generate topic token: ${n}`),e){null!=t&&(b.logDebug(`read last connect id: ${t}`),n=t.content);var r=this.connectStorage.getItem(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);r&&(this.connectedWalletPK=r.content,(0,C.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`)),b.reportLog("connection manager do restore connection")}if(e)try{const e=this.getCachedCryptoKeyPair();e&&(this.crypto=new m.SessionCrypto(e))}catch(e){throw b.logError("get crypto key pair from cache failed"),b.reportEvent(w.OKXReportType.LOG,"cache_fail","cache failed"),this.connectStorage.clearCache(),new Error("crypto cache failed")}b.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`),this.connectStorage.saveContent(n,d.OKXCONNECTOR_TOKEN_CACHE);var o=yield this.makeJWT(n);return b.logDebug(`generate jwt token: ${o}`),this.connectStorage.saveContent(o,"jwt"),new Promise(((e,t)=>{this.connector.onOpen((()=>a(this,void 0,void 0,(function*(){b.logDebug("1. connector on open"),b.reportLog("1. connect ws open");const r=(new Date).getTime();(0,C.logDebug)("ConnectTime---open->",r-this.timeLog),this.events.once(this.packageId.toString(),(r=>a(this,void 0,void 0,(function*(){if(r&&r.error){b.logError("failed when login"),b.reportLog("2. connect login failed"),yield this.connector.disconnect();var o=new Error;o.message=r.error.message,o.name=r.error.code.toString(),t(o)}this.refreshPackageId(),this.events.once(this.packageId.toString(),(r=>a(this,void 0,void 0,(function*(){if(r&&r.error){b.logError("failed when subscribe"),b.reportLog("3. connect subscribe failed"),yield this.connector.disconnect();var o=new Error;o.message=r.error.message,o.name=r.error.code.toString(),t(o)}this.refreshPackageId(),b.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`),b.reportLog("4. subscribe callback then send fetch");const i=(new Date).getTime();(0,C.logDebug)("ConnectTime--subscribe callback->",i-this.timeLog),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),n),b.logDebug(`5. splitmanager init: ${this.packageId}`),b.reportLog("5. splitmanager init"),yield this.splitManager.init(this.sendRaw.bind(this)),e()})))),b.logDebug(`3. login callback then send subscribe: ${this.packageId}`),b.reportLog("3. connect subscribe failed");const i=(new Date).getTime();(0,C.logDebug)("ConnectTime---login callback->",i-this.timeLog),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,C.logDebug)("ConnectionManager connect error",e),t(e)}))}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_SUB,params:{topic:n}})})))),b.logDebug("2. login called"),b.reportLog("2. connection manager connect call login"),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,C.logDebug)("ConnectionManager connect error",e),t(e)}))}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_LOGIN,params:{token:o}}),this.connector.addPackageParse((e=>{var t;if(b.logDebug("connect: parse package"),b.logDebug(e),!("params"in e)||!("data"in e.params))return void this.parsePackage(e,!0);let n=null===(t=e.params.data)||void 0===t?void 0:t.message;if(void 0!==n){n=n.replace(/'/g,'"');let e=(0,v.safeJsonParse)(n);"string"!=typeof e&&"clientId"in e&&e.clientId&&e.clientId.length>0&&(this.connectedWalletPK=e.clientId,b.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`),this.connectStorage.saveContent(this.connectedWalletPK,d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()))}this.parsePackage(e,e.method===l.CONNECT_METHOD_RECEIVE)}))})))),this.connector.connect().catch((e=>{(0,C.logDebug)("ConnectionManager connect error",e),t(e)}))}))}))}disconnect(){return a(this,arguments,void 0,(function*(e=!1){yield this.connector.disconnect(),b.reportLog("connect disconnect"),this.connectStorage.clearCache(d.OKXCONNECTOR_TOKEN_CACHE),e||(this.connectStorage.clearCache(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.connectedWalletPK="",(0,C.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`))}))}updateProtocolVersion(e,t){this.splitManager.updateTopicSenderVersion(e,t)}addListener(e,t,n){this.connector.addListener((0,v.safeJsonStringify)(e),(e=>{if(e=e.replace(/'/g,'"'),b.logDebug(`addListener ===> ${e}`),void 0!==e){var t=(0,v.safeJsonParse)(e),n=t.message;let r;return n.trimStart().startsWith("{")?r=n:(t.clientId&&t.clientId.length>0&&(this.connectedWalletPK=t.clientId,this.connectStorage.saveContent(this.connectedWalletPK,d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),b.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`),b.logDebug(`this.cryptoKey  addListener   ${(0,p.toHexString)(this.crypto.keyPair.publicKey)}`),this.saveCryptoKeyPair(this.crypto.stringifyKeypair())),r=this.crypto.decrypt(n,this.connectedWalletPK)),b.logDebug(`addListener ===> ${r}`),r}}),t,n,(e=>new Promise(((t,n)=>a(this,void 0,void 0,(function*(){let n=this.splitManager.tryParseMessageSplitPayload(e.message);if(n){let r={topicId:e.topic,messageId:null==e?void 0:e.messageId,messageObject:n,publishedAt:null==e?void 0:e.publishedAt},o=yield this.splitManager.onReceivedPackageCheck(r);t(o)}else t({isSplitPackage:!1})}))))))}sendRaw(e){return a(this,void 0,void 0,(function*(){b.logDebug(`message send =====> ${e}`),b.reportLog("connect send raw msg");let t=e;b.logDebug(`message send =====encrypt message.length>>>> ${t.length}`);let n=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);b.logDebug(`message send =====topic>>>> ${null==n?void 0:n.content}`),this.refreshPackageId();const r={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:h.CONNECT_JSONRPC_VER,params:{message:{topic:null==n?void 0:n.content,message:t,ttl:h.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),(e=>a(this,void 0,void 0,(function*(){e&&e.error?b.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&b.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r),this.packageId}))}sendEncryptedMsg(e,t){return a(this,arguments,void 0,(function*(e,t,n=h.OKXCONNECTOR_MESSAGE_TTL){this.refreshPackageId();const r={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:h.CONNECT_JSONRPC_VER,params:{message:{topic:e,message:t,ttl:n}}};this.events.once(this.packageId.toString(),(e=>a(this,void 0,void 0,(function*(){e&&e.error?b.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&b.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}send(e){return a(this,arguments,void 0,(function*(e,t=h.OKXCONNECTOR_MESSAGE_TTL){if(b.logDebug(`message send =====> ${e}`),b.reportLog("connect send msg"),!this.isWalletPKReady())throw new Error("connection not finish");let n=this.crypto.encrypt(e,this.connectedWalletPK);b.logDebug(`message send =====encrypt message.length>>>> ${n.length}`),b.reportEvent(w.OKXReportType.LOG,"msg_size",n.length.toString());let r=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);return b.logDebug(`message send =====topic>>>> ${null==r?void 0:r.content}`),yield this.splitManager.sendSplitPackages(null==r?void 0:r.content,n,this.sendEncryptedMsg.bind(this),this.sendRaw.bind(this)),this.packageId}))}sendACK(e,t){return a(this,arguments,void 0,(function*(e,t,n=void 0){if(!0===t){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}else if(n){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,error:{code:n.code,message:n.message}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}}))}sendReceive(e,t,n){return a(this,void 0,void 0,(function*(){const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:n}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}sendFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,(function*(){this.events.once(e,(e=>a(this,void 0,void 0,(function*(){var n,r;if(e.result){var o=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let n=i[e];if(n&&n.topic==t){let e=n.messageId;b.reportLog("5. get fetch result"),this.splitManager.tryParseMessageSplitPayload(n.message)?(yield this.connector.getMsgPayloadFromHistory(n),b.logDebug("skip receive")):(yield this.connector.getMsgPayloadFromHistory(n),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t))}}o&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else b.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),b.logDebug("5. send fetch more"),b.reportLog("5. send fetch more");const n=(new Date).getTime();(0,C.logDebug)("ConnectTime---5->",n-this.timeLog);const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}cleanCache(){b.reportLog("connection cache clean called"),this.connectStorage.clearCache()}saveSessionContent(e,t){t||this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let n=(0,v.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){try{let t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,v.safeJsonParse)(t)}catch(t){this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}}getCurrentConnectionReady(){let e=!1;try{this.getCachedCryptoKeyPair()&&(e=!0)}catch(e){b.logError("check connection ready failed")}return this.isWalletPKReady()&&e}getCryptoKeyEnable(){let e=!1;try{this.getCachedCryptoKeyPair()&&(e=!0)}catch(e){b.logError("check connection ready failed")}return e}}},9213:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionSplitPackages=void 0;const l=n(3028),d=c(n(3790)),u=n(174),h=n(3184),f=s(n(645)),g=n(645),p="ConnectionReceiveKey",m="ConnectionSendKey",y="ConnectionSenderVersionKey";t.ConnectionSplitPackages=class{constructor(e){this.splitMessageSendArray=new Map,this.splitMessageReceivedArray=new Map,this.splitMessageSenderVersionMap=new Map,this.splitPackageCache=d.default.createInstance({name:l.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE+e})}init(e){return a(this,void 0,void 0,(function*(){if(yield this.recoverFromCache(),this.splitMessageSendArray.size>0){for(const[t,n]of this.splitMessageSendArray.entries())for(let r=0;r<n.length;){const o=n[r];try{yield e((0,h.safeJsonStringify)(o),t),f.logDebug(`Successfully sent payload: ${(0,h.safeJsonStringify)(o)} to topic: ${t}`),n.splice(r,1)}catch(e){f.logError(`Failed to send payload: ${(0,h.safeJsonStringify)(o)} to topic: ${t}`,e),o.retryCount=(o.retryCount||0)+1,o.retryCount>3?(f.logError(`Payload failed after 3 retries: ${(0,h.safeJsonStringify)(o)}`),n.splice(r,1)):r++}}yield this.syncCache()}}))}tryParseMessageSplitPayload(e){var t;let n;try{if(e.trimStart().startsWith("{")){let r=(0,h.safeJsonParse)(e);if(r&&r.protocol_version&&r.protocol_version>=2){let e=r;e.package_group_id&&(null===(t=e.package_group_id)||void 0===t?void 0:t.length)>0&&(n=r)}}else(0,g.logDebug)("not split packages")}catch(e){(0,g.logDebug)("not split packages")}return n}updateTopicSenderVersion(e,t){return a(this,void 0,void 0,(function*(){this.splitMessageSenderVersionMap.set(e,t),yield this.syncCache(),(0,g.logDebug)("get update topic sender version: ",e,t)}))}sendSplitPackages(e,t,n,r){return a(this,void 0,void 0,(function*(){if(!e)return void f.logError("sendSplitPackages invalid topic");let o=this.splitMessageSenderVersionMap.get(e),i=t.length;try{if(i<63e3)throw new Error(`no need to split (size:${i})`);if(!o||o&&o<2)throw new Error(`version not support split (version: ${o})`);const n=[];let s=63e3;for(let e=0;e<t.length;e+=s)e+s<t.length?n.push(t.slice(e,e+s)):n.push(t.slice(e));let a=(0,u.generateGroupId)(),c=n.map(((t,r)=>({topicId:e,protocol_version:2,total_count:n.length,package_index:r,package_group_id:a,content:t})));this.mergePackageArray(!0,c);for(let t=0;t<c.length;){const n=c[t],o=(0,h.safeJsonStringify)(n);try{yield r(o,e),f.logDebug(`Successfully sent payload: ${o} to topic: ${e}`),c.splice(t,1)}catch(r){f.logError(`Failed to send payload: ${o} to topic: ${e}`,r),n.retryCount=(n.retryCount||0)+1,n.retryCount>3?(f.logError(`Payload failed after 3 retries: ${o}`),c.splice(t,1)):t++}}this.splitMessageSendArray.set(e,[]),yield this.syncCache()}catch(r){(0,g.logDebug)("send split packages no split"),(0,g.logDebug)(r),yield n(e,t)}}))}onReceivedPackageCheck(e){return a(this,void 0,void 0,(function*(){this.mergePackageArray(!1,[e]);let t=new Map,n=e.topicId;this.splitMessageReceivedArray.forEach(((n,r)=>{r==e.topicId&&n.forEach((e=>{if(e.messageObject.package_group_id){let n=t.get(e.messageObject.package_group_id);n||(n=new Array),n.push(e),t.set(e.messageObject.package_group_id,n)}}))})),(0,g.logDebug)("on received message, check message cache");let r={isSplitPackage:!1};if(e.messageObject.package_group_id){r.isSplitPackage=!0;let o=t.get(e.messageObject.package_group_id);if(null==o?void 0:o.length){let t=new Set;if(o.forEach((e=>{void 0!==e.messageObject.package_index&&t.add(e.messageObject.package_index)})),t.size==e.messageObject.total_count){o.sort(((e,t)=>!e.messageObject.package_index&&0!==e.messageObject.package_index||!t.messageObject.package_index&&0!==t.messageObject.package_index?0:e.messageObject.package_index-t.messageObject.package_index));let e=o.reduce(((e,t)=>(e.push(t.messageObject.content),e)),[]),t=o.reduce(((e,t)=>(e.push(t.messageId),e)),[]);r.isSplitPackage=!0,r.finalMessage=e.join(""),r.completeMessageIdList=t;let i=this.splitMessageReceivedArray.get(n);i&&(i=i.filter((e=>!t.includes(e.messageId))),this.splitMessageReceivedArray.set(n,i)),yield this.syncCache()}}}return r}))}mergePackageArray(e,t){return a(this,void 0,void 0,(function*(){if((0,g.logDebug)("append sending array"),e){let e=t.filter((e=>{let t=e.topicId,n=!0,r=this.splitMessageSendArray.get(t);return null==r||r.forEach((t=>{t.package_group_id==e.package_group_id&&t.total_count==e.total_count&&t.package_index==e.package_index&&(n=!1)})),n}));if(e.length>0){let t=e[0].topicId,n=this.splitMessageSendArray.get(t);n||(n=new Array),n=n.concat(e),this.splitMessageSendArray.set(t,n),(0,g.logDebug)("append sending array (after filted): ",n)}}else{let e=t.filter((e=>{let t=e.topicId,n=!0,r=this.splitMessageReceivedArray.get(t);return null==r||r.forEach((t=>{t.messageId==e.messageId&&(n=!1)})),n}));if(e.length>0){let t=e[0].topicId,n=this.splitMessageReceivedArray.get(t);n||(n=new Array),n=n.concat(e),this.splitMessageReceivedArray.set(t,n),(0,g.logDebug)("append received array (after filted): ",n)}}}))}syncCache(){return a(this,void 0,void 0,(function*(){(0,g.logDebug)("sync split message cache"),yield this.splitPackageCache.setItem(p,this.splitMessageReceivedArray),yield this.splitPackageCache.setItem(m,this.splitMessageSendArray),yield this.splitPackageCache.setItem(y,this.splitMessageSenderVersionMap)}))}recoverFromCache(){return a(this,void 0,void 0,(function*(){let e=yield this.splitPackageCache.getItem(p);this.splitMessageReceivedArray=e||new Map;let t=yield this.splitPackageCache.getItem(m);this.splitMessageSendArray=t||new Map;let n=yield this.splitPackageCache.getItem(y);this.splitMessageSenderVersionMap=n||new Map}))}}},829:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectorState=t.CONNECT_PROTOCOL_VER=t.CONNECT_JSONRPC_VER=t.OKXCONNECTOR_MESSAGE_TTL=t.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE=t.OKXCONNECTOR_WS_URL_LIST=t.OKXCONNECTOR_WS_URL_IDX_KEY=t.OKXCONNECTOR_WS_URL_3=t.OKXCONNECTOR_WS_URL_2=t.OKXCONNECTOR_WS_URL_1=t.EVENT_EMITTER_MAX_LISTENERS=t.OKXCONNECTOR_PROTOCOL_VERSION=void 0,t.OKXCONNECTOR_PROTOCOL_VERSION=2,t.EVENT_EMITTER_MAX_LISTENERS=10,t.OKXCONNECTOR_WS_URL_1="wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_2="wss://wsdexpri.okx.ac/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_3="wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_IDX_KEY="wuik",t.OKXCONNECTOR_WS_URL_LIST=[t.OKXCONNECTOR_WS_URL_1,t.OKXCONNECTOR_WS_URL_2,t.OKXCONNECTOR_WS_URL_3],t.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE={TIME_OUT:3990,CANCELED:3991,FINISHED:3992},t.OKXCONNECTOR_MESSAGE_TTL=3e5,t.CONNECT_JSONRPC_VER="2.0",t.CONNECT_PROTOCOL_VER=2,t.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3,OnError:4}},8960:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Engine=void 0;const o=n(7718),i=n(829),s=n(5939),a=n(5711),c=n(2703),l=n(7431),d=n(4167);t.Engine=class{constructor(e){this.connectors=[],this.useConnector=void 0,this.connectionManager=new c.ConnectionManager(e),this.addConnectionListener()}getConnector(){if(this.useConnector)return this.useConnector}setAccountChangeListener(e){this.accountChangeListener=e,(0,s.logDebug)("setAccountChangeListener: engine",e);for(const t of this.connectors)t.setAccountChangeListener(e)}registerConnector(e){this.connectors=e;for(const t of e)t.setConnectionManager(this.connectionManager)}hasWsConnector(){for(const e of this.connectors)if(this.isWsConnector(e))return!0;return!1}isWsConnector(e){return!!e&&(e.getTag()===a.OKX_TG_WALLET||e.getTag()===a.OKX_APP_WALLET)}isInjectedConnector(e){return!!e&&e.getTag()===a.OKX_INJECT_WALLET}universalConnect(e,t,n){return r(this,void 0,void 0,(function*(){return this.addConnectionListener(),new Promise(((i,c)=>r(this,void 0,void 0,(function*(){var r,u,h,f;try{(0,s.logDebug)("engine universalConnect request :",JSON.stringify(e)),(0,s.logDebug)("engine universalConnect sessionConfig :",JSON.stringify(t));let p=[];e.forEach((e=>{let t=e.name;(t.startsWith("requestAccounts")||t.startsWith("ton"))&&p.push(e)})),(0,s.logDebug)("engine universalConnect universalRequest :",JSON.stringify(p));const m=this.connectionManager.getConnectInfo(),y=Date.now().toString();let v=null!==(r=t.openUniversalUrl)&&void 0!==r&&r;const b={protocolVer:Number(o.tonConnectSdkVersion),topic:m.channelId,clientId:m.clientId,requestId:y,dAppInfo:t.dappInfo,requests:p,redirect:null!==(u=null==t?void 0:t.redirect)&&void 0!==u?u:"none"},C=(0,s.encodeConnectParams)(b);b.redirect=null!==(h=null==t?void 0:t.redirect)&&void 0!==h?h:"none",(0,s.logDebug)("engine universalConnect ==>>universalConnectRequest:",JSON.stringify(b));var g="";v&&(g=(0,s.getOKXLink)(b,t.useMini,t.tmaReturnUrl),(0,s.logDebug)("engine universalConnect ==>>openOKXLink:",g));const w=()=>1==this.connectors.length&&this.connectors[0].getTag()===a.OKX_INJECT_WALLET?this.connectors[0].openWallet({connectRequest:b}):t.useMini?(0,s.openOKXTMAWalletlinkWithFallback)(g):(0,s.useShortLink)()?(0,s.openOKXUniversalLink)(g):(0,s.openOKXDeeplinkWithFallback)(g);(0,s.logDebug)("engine universalConnect ==>>openOKXLink:",g);const _=(0,s.isIos)();if(_&&v&&((0,s.logDebug)(`engine universalConnect ==>>isIOS: ${_}   openUniversalLink: ${v}`),w()),this.addOnConnectResultListener((e=>{var n,r,u,h;try{this.addOnConnectResultListener(void 0);let c=e;if("connect"==c.method){(0,s.logDebug)("engin  universalConnect success connectResponse:>>>",JSON.stringify(c));let e=(0,l.buildNameSpacesByConnectResponse)(c);if(!e)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);{let l;var f;switch((null===(r=null===(n=c.payload)||void 0===n?void 0:n.responses)||void 0===r?void 0:r[0])&&"walletName"in c.payload.responses[0]&&(l=c.payload.responses[0].walletName),null===(u=c.payload)||void 0===u?void 0:u.wallet.appName){case d.OKXWalletName:f=a.OKX_APP_WALLET;break;case d.OKXMiniWalletName:f=a.OKX_TG_WALLET;break;case d.OKXInjectWalletName:f=a.OKX_INJECT_WALLET}var g=this.connectors.find((e=>e.getTag()===f));if(!g)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);let h=Object.assign({topic:m.channelId,sessionConfig:t,namespaces:e},c.payload&&{wallet:Object.assign(Object.assign({},c.payload.wallet),{walletName:l})}),p=c.payload.responses.find((e=>"requestAccounts"===e.name));p&&p.connectRequestMethods&&(h.signResponse=p.connectRequestMethods),(0,s.logDebug)("engin  universalConnect success session:>>>",JSON.stringify(h)),this.isWsConnector(g)&&((0,s.logDebug)("engine update protocol version"),this.connectionManager.updateProtocolVersion(m.channelId,c.payload.wallet.maxProtocolVersion)),i(h),this.setUseConnector(g)}}else if("connect_error"==c.method&&null!=(null===(h=c.payload)||void 0===h?void 0:h.code))throw new o.OKXConnectError(c.payload.code)}catch(e){c(e)}})),this.hasWsConnector()){yield null===(f=this.connectionManager)||void 0===f?void 0:f.disconnect(!1);try{yield this.connectionManager.connect()}catch(e){throw(0,s.logDebug)("Engine universalConnect error",e),e}(0,s.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",n),this.sendSession(C)}if(!_&&v&&w(),(0,s.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",n),n){const e={connectRequest:b,redirect:t.redirect,tmaReturnUrl:t.tmaReturnUrl};(0,s.logDebug)("universalConnect connectInfoAndUrl info :",JSON.stringify(e)),n(e)}}catch(e){(0,s.logDebug)("Engine universalConnect catch error",e),c(e)}}))))}))}addOnConnectResultListener(e){for(const t of this.connectors)this.isInjectedConnector(t)&&t.setOnConnectResultListener(e);this.connectResultListener=e}openWallet(e,t){var n;t?t.openWallet(e):null===(n=this.getConnector())||void 0===n||n.openWallet(e)}send(e,t,n){return r(this,void 0,void 0,(function*(){var r;return null===(r=this.getConnector())||void 0===r?void 0:r.send(e,t,n)}))}clearData(){var e;null===(e=this.getConnector())||void 0===e||e.clearData()}addDisconnectListener(e){var t;null===(t=this.getConnector())||void 0===t||t.addDisconnectListener(e)}saveSessionContent(e,t){this.connectionManager.saveSessionContent(e,t)}getSessionContent(e){var t,n=this.connectionManager.getSessionContent(e);if(n){var r="";if("object"==typeof n&&(r=(0,a.getTagByappName)(null===(t=n.wallet)||void 0===t?void 0:t.appName)),this.connectors.find((e=>e.getTag()===r)))return n}}setConnectConnector(e){var t=(0,a.getTagByappName)(null==e?void 0:e.appName);t&&this.setUseConnector(this.connectors.find((e=>e.getTag()===t)))}setUseConnector(e){this.useConnector=e,this.isWsConnector(e)&&e.addConnectionListener()}setSessionConnectingListener(e){this.sessionConnectingListener=e}restoreconnect(e,t){return r(this,void 0,void 0,(function*(){var n;yield null===(n=this.getConnector())||void 0===n?void 0:n.restoreconnect(e,t)}))}restoreconnectFromTopic(e){return r(this,void 0,void 0,(function*(){this.isWsConnector(this.getConnector())&&(yield this.getConnector().restoreconnectFromTopic(e))}))}getCurrentConnectionReady(e){var t;return!!(null===(t=this.getConnector())||void 0===t?void 0:t.getCurrentConnectionReady(e))}connectManagerDisconnect(){return r(this,arguments,void 0,(function*(e=!1){var t;yield null===(t=this.getConnector())||void 0===t?void 0:t.connectManagerDisconnect(e)}))}sendSession(e){return r(this,void 0,void 0,(function*(){(0,s.logDebug)("[Connect] sendSession called:",e);const t=Date.now().toString();let n={method:"session_info",params:{protocolVersion:i.CONNECT_PROTOCOL_VER,sessionInfo:e}};yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},n),{requestId:t})))}))}addConnectionListener(){var e;null===(e=this.connectionManager)||void 0===e||e.addListener("sdk_response",((e,t)=>{var n=(0,s.safeJsonParse)(t);(0,s.logDebug)(`Engine ==>> addListener ==> success ==> ${n}`),"connect"===n.method||"connect_error"===n.method?this.connectResultListener&&this.connectResultListener(n):"session_connecting"===n.method&&((0,s.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener"),this.sessionConnectingListener&&((0,s.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener not null"),this.sessionConnectingListener(),this.sessionConnectingListener=void 0))}),(function(){}))}}},8152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Engine=t.WalletConnectionManager=t.ConnectionManager=t.OKXWalletConnector=void 0;var r=n(8362);Object.defineProperty(t,"OKXWalletConnector",{enumerable:!0,get:function(){return r.OKXWalletConnector}});var o=n(2703);Object.defineProperty(t,"ConnectionManager",{enumerable:!0,get:function(){return o.ConnectionManager}});var i=n(6872);Object.defineProperty(t,"WalletConnectionManager",{enumerable:!0,get:function(){return i.WalletConnectionManager}});var s=n(8960);Object.defineProperty(t,"Engine",{enumerable:!0,get:function(){return s.Engine}});var a=n(897);Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return a.Storage}})},6729:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MULTICODEC_ED25519_LENGTH=t.MULTICODEC_ED25519_HEADER=t.MULTICODEC_ED25519_BASE=t.MULTICODEC_ED25519_ENCODING=t.DID_METHOD=t.DID_PREFIX=t.DID_DELIMITER=t.KEY_PAIR_SEED_LENGTH=t.DATA_ENCODING=t.JSON_ENCODING=t.JWT_ENCODING=t.JWT_DELIMITER=t.JWT_IRIDIUM_TYP=t.JWT_IRIDIUM_ALG=t.JWTHeaderType=void 0,t.generateKeyPair=function(){return h.default.sign.keyPair()},t.decodeJSON=p,t.encodeJSON=m,t.encodeIss=y,t.decodeIss=v,t.encodeSig=b,t.decodeSig=C,t.encodeData=w,t.decodeData=function(e){var n,r;const o=(0,g.okxtoString)(e,t.DATA_ENCODING).split(t.JWT_DELIMITER);return{header:p(null!==(n=o[0])&&void 0!==n?n:"{}"),payload:p(null!==(r=o[1])&&void 0!==r?r:"{}")}},t.encodeJWT=_,t.decodeJWT=O,t.signJWT=function(e,n,r,o){return a(this,arguments,void 0,(function*(e,n,r,o,i=Math.floor(Date.now())){const s={alg:t.JWT_IRIDIUM_ALG,typ:t.JWT_IRIDIUM_TYP},a={iss:y(o.publicKey),sub:e,aud:n,act:"authenticate user",iat:i,exp:i+r},c=w({header:s,payload:a});return f.logDebug(`get sec kp: ${o.secretKey} {${o.secretKey.length}}`),_({header:s,payload:a,signature:h.default.sign.detached(c,o.secretKey)})}))},t.verifyJWT=function(e){return a(this,void 0,void 0,(function*(){const{header:n,payload:r,data:o,signature:i}=O(e);if(n.alg!==t.JWT_IRIDIUM_ALG||n.typ!==t.JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");const s=v(r.iss);return l.verify(s,o,i)}))};const l=s(n(4904)),d=n(3184),u=n(174),h=c(n(8947)),f=s(n(645)),g=n(3709);function p(e){return(0,d.safeJsonParse)((0,g.okxtoString)((0,g.okxfromString)(e,t.JWT_ENCODING),t.JSON_ENCODING))}function m(e){return(0,g.okxtoString)((0,g.okxfromString)((0,d.safeJsonStringify)(e),t.JSON_ENCODING),t.JWT_ENCODING)}function y(e){f.logDebug(`publicKey: ${(0,u.toHexString)(e)}`);var n=(0,g.okxtoString)(e,t.MULTICODEC_ED25519_ENCODING);return[t.DID_PREFIX,t.DID_METHOD,n].join(t.DID_DELIMITER)}function v(e){const[n,r,o]=e.split(t.DID_DELIMITER);if(n!==t.DID_PREFIX||r!==t.DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if(void 0===o)throw new Error("multicodec is undefined");const i=(0,g.okxfromString)(o,t.MULTICODEC_ED25519_ENCODING);if(void 0===i||i.length!==t.MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return i}function b(e){return(0,g.okxtoString)(e,t.JWT_ENCODING)}function C(e){return(0,g.okxfromString)(e,t.JWT_ENCODING)}function w(e){return(0,g.okxfromString)([m(e.header),m(e.payload)].join(t.JWT_DELIMITER),t.DATA_ENCODING)}function _(e){return[m(e.header),m(e.payload),b(e.signature)].join(t.JWT_DELIMITER)}function O(e){var n,r,o;const i=e.split(t.JWT_DELIMITER);return{header:p(null!==(n=i[0])&&void 0!==n?n:"{}"),payload:p(null!==(r=i[1])&&void 0!==r?r:"{}"),signature:C(null!==(o=i[2])&&void 0!==o?o:"{}"),data:(0,g.okxfromString)(i.slice(0,2).join(t.JWT_DELIMITER),t.DATA_ENCODING)}}t.JWTHeaderType="dapp",t.JWT_IRIDIUM_ALG="EdDSA",t.JWT_IRIDIUM_TYP="JWT",t.JWT_DELIMITER=".",t.JWT_ENCODING="base64url",t.JSON_ENCODING="utf8",t.DATA_ENCODING="utf8",t.KEY_PAIR_SEED_LENGTH=32,t.DID_DELIMITER=":",t.DID_PREFIX="did",t.DID_METHOD="key",t.MULTICODEC_ED25519_ENCODING="base58btc",t.MULTICODEC_ED25519_BASE="z",t.MULTICODEC_ED25519_HEADER="K36",t.MULTICODEC_ED25519_LENGTH=32},76:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXCONNECTOR_JWT_TTL=t.OKXCONNECTOR_JWT_WALLET_SIDE=t.OKXCONNECTOR_JWT_SIDE=void 0,t.OKXCONNECTOR_JWT_SIDE="wallet",t.OKXCONNECTOR_JWT_WALLET_SIDE="dapp",t.OKXCONNECTOR_JWT_TTL=864e5},7431:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildNameSpacesByConnectResponse=function(e){return o(e)},t.buildRequestAccountNameSpacesByConnectResponse=o,t.buildAccountNameSpaces=i;const r=n(645);function o(e){let t={};(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse start connectResponse111>>",JSON.stringify(e));let n=e.payload.responses.find((e=>"requestAccounts"===e.name));if(n&&n.accounts){let e=[];for(const t of n.accounts)"ton"===t.namespace?t.data&&t.data.ton_addr&&t.data.ton_addr.address&&t.data.ton_addr.address.length>0&&((0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse start TON>>",JSON.stringify(t)),e.push(t)):((0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse start other>>",JSON.stringify(t)),e.push(t));n.accounts=e}const o=e.payload.responses.find((e=>"ton_addr"===e.name)),s=e.payload.responses.find((e=>"ton_proof"===e.name));if(o&&!n){(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse adapt ton data >>");let e=o.address;e="ton:"+o.network+":"+e;let t={ton_addr:o};s&&(t.ton_proof=s),n={name:"requestAccounts",accounts:[{namespace:"ton",addresses:[e],methods:["ton_sendTransaction"],extra:{},data:t}]}}return(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>",JSON.stringify(n)),i(n.accounts,t),t}function i(e,t){e.forEach((e=>{var n=[],o=[];e.addresses.forEach((e=>{var t=e.split(":");if((0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse addressArr>>",t.length),t.length>=3){let i=t.slice(0,2).join(":");n.push(i),o.push(e),(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse chain:>>",i,"addressItem:",e)}})),e.data&&e.data.ton_addr&&(e.data.ton_addr.name="ton_addr"),e.data&&e.data.ton_proof&&(e.data.ton_proof.name="ton_proof"),t[e.namespace]={chains:n,accounts:o,methods:e.methods,extra:e.extra,payload:e.data},(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse result>>",JSON.stringify(t))}))}},897:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=void 0;const c=n(3028),l=a(n(8947)),d=n(174),u=n(5939),h=s(n(645)),f=n(5939),g=n(1396);class p{constructor(e,t=void 0){const n=(0,d.resolveLocalStorage)();this.storeKey="",this.cipherIV="",this.subKey=e,h.logDebug("--------get current local storage --------"),h.logDebug(n),this.synchronizedCache()}checkAndUpgradeCache(e,t){if(e&&e.length>0&&t&&t.length>0){h.logDebug("--------get current local storage --------"),h.logDebug(localStorage);const n=localStorage.getItem(p.cacheKey+e);if(null==n)return void h.logDebug("no pre cache content");h.logDebug(n),(null==n?void 0:n.length)>0&&(h.logDebug("write in cache content: ",e,"->",t),localStorage.setItem(p.cacheKey+t,n),h.logDebug("clean in cache content: ",e),localStorage.removeItem(p.cacheKey+e))}else h.logDebug("no pre cache key:",e)}saveContent(e,t,n="-"){let r={id:n,timestamp:Date.now().toString(),content:e};this.saveItem(r,t)}saveItem(e,t){let n=p.cacheKey+this.subKey;const r=(0,d.resolveLocalStorage)();h.logDebug(this.cache),h.logDebug(`get cache obj: ${this.cache}, ${t}, ${e}`),this.cache[t]=e;let o=(0,u.safeJsonStringify)(this.cache);h.logDebug(`STORAGE: ${t} @ ${this.cache}`),r.setItem(n,o)}getItem(e){return h.logDebug(`STORAGE >> getItem: ${e} @ ${this.cache}`),this.cache[e]}synchronizedCache(){const e=localStorage.getItem(p.cacheKey+this.subKey);if(null==e)return h.logDebug("with no cache"),void(this.cache={});if(h.logDebug(e),(null==e?void 0:e.length)>0){var t=(0,u.safeJsonParse)(e);this.cache=t}h.logDebug(`get cache obj: ${this.cache}`),void 0!==this.cache&&null!=this.cache||(this.cache={})}getCachedPBKDF2InfoKey(){var e,t,n,r;if(this.storeKey.length>0&&(null===(e=this.cipherIV)||void 0===e?void 0:e.length)>0)return{pw:this.storeKey,iv:this.cipherIV};let o=null===(t=this.getItem(c.OKXCONNECTOR_STORAGER_CRYPTO_SALT))||void 0===t?void 0:t.content;o||(o=(0,d.toHexString)(l.default.randomBytes(24)),this.saveContent(o,c.OKXCONNECTOR_STORAGER_CRYPTO_SALT));let i=null===(n=this.getItem(c.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD))||void 0===n?void 0:n.content;i||(i=(0,d.toHexString)(l.default.randomBytes(32)),this.saveContent(i,c.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD));let s=null===(r=this.getItem(c.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV))||void 0===r?void 0:r.content;if(!s){let e=l.default.randomBytes(16);s=(0,d.toHexString)(e),this.saveContent(s,c.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)}return this.cipherIV=s,this.storeKey=(0,g.PBKDF2)(i,o,{iterations:10}).toString(),{pw:this.storeKey,iv:this.cipherIV}}encryptStoreMsg(e,t){(0,f.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);let n=this.getCachedPBKDF2InfoKey();(0,f.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);var r=g.AES.encrypt(e,n.pw).toString();this.saveContent(r,t),(0,f.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`)}getAndDecrypt(e){(0,f.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);let t=this.getItem(e);if(t&&t.content){let e=this.getCachedPBKDF2InfoKey();(0,f.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);let n=g.AES.decrypt(t.content,e.pw).toString(g.enc.Utf8);return(0,f.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`),n}return null}clearCache(e=void 0){if(void 0===e){const e=(0,d.resolveLocalStorage)();this.cache={};let t=p.cacheKey+this.subKey;e.setItem(t,"")}else{let t=p.cacheKey+this.subKey;const n=(0,d.resolveLocalStorage)();h.logDebug(this.cache),this.cache[e]=null;let r=(0,u.safeJsonStringify)(this.cache);h.logDebug(`STORAGE: clean key ${e} @ ${this.cache}`),n.setItem(t,r)}}}t.Storage=p,p.cacheKey="OKXStorageKey"},3028:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE=t.OKXCONNECTOR_STORAGE_CIPHER_METHOD=t.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV=t.OKXCONNECTOR_STORAGER_CRYPTO_SALT=t.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD=t.OKXCONNECTOR_TON_KEY=t.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE=t.OKXCONNECTOR_TOKEN_CACHE=t.OKXCONNECTOR_JWT_KEY=t.OKXCONNECTOR_SESSION_PREFIX_KEY=t.OKXCONNECTOR_CRYPTO_KEY=t.OKXCONNECTOR_CACHE_KEY_DAPP=t.OKXCONNECTOR_CACHE_KEY=void 0,t.OKXCONNECTOR_CACHE_KEY="ck",t.OKXCONNECTOR_CACHE_KEY_DAPP="ck_dapp",t.OKXCONNECTOR_CRYPTO_KEY="cck_k",t.OKXCONNECTOR_SESSION_PREFIX_KEY="cspk_",t.OKXCONNECTOR_JWT_KEY="cjk_k",t.OKXCONNECTOR_TOKEN_CACHE="ct",t.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE="csp",t.OKXCONNECTOR_TON_KEY="OKXStorage_ctc",t.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD="scp",t.OKXCONNECTOR_STORAGER_CRYPTO_SALT="scs",t.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV="scpc",t.OKXCONNECTOR_STORAGE_CIPHER_METHOD="aes-256-cbc",t.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE="okx_connect_split_cache_key"},3954:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnectionManagerEvent=t.WalletConnectionManagerTopicInfoCacheKey=void 0,t.WalletConnectionManagerTopicInfoCacheKey="wcmtic",t.WalletConnectionManagerEvent={RECEIVE_REQUEST:"payload"}},6872:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnectionManager=void 0;const c=n(8362),l=n(1336),d=n(3028),u=n(76),h=n(829),f=n(3954),g=n(9213),p=n(228),m=n(897),y=n(174),v=n(7354),b=n(6729),C=n(3184),w=s(n(645)),_=n(645),O=n(5939);t.WalletConnectionManager=class{constructor(){this.events=new p.EventEmitter,this.communicateEvents=new p.EventEmitter,this.splitManager=new g.ConnectionSplitPackages("wallet"),w.logDebug("connect manager construct"),this.connectStorage=new m.Storage(d.OKXCONNECTOR_CACHE_KEY),this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new c.OKXWalletConnector(h.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.sessionCryptoInfoMap=new Map,this.inLogin=!1,this.isLogined=!1}refreshPackageId(e=0){let t=Date.now()+e;t==this.packageId&&(this.packageId=t+1),this.packageId=t}saveCryptoKeyPair(e,t){let n=(0,C.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_CRYPTO_KEY+e)}getCachedCryptoKeyPair(e){const t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_CRYPTO_KEY+e);return"string"==typeof t?(w.logDebug("get cached crypto key:"),w.logDebug(t),(0,C.safeJsonParse)(t)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,y.toHexString)(e.publicKey),secretKey:(0,y.toHexString)(e.secretKey)};w.logDebug("save jwt kp");let n=(0,C.safeJsonStringify)(t);w.logDebug(n),this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_JWT_KEY),w.logDebug("after save jwt kp")}getCachedJWTKeyPair(){const e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_JWT_KEY);if("string"==typeof e){w.logDebug("get cached jwt kp:"),w.logDebug(e);let t=(0,C.safeJsonParse)(e);return w.logDebug("save jwt kp"),w.logDebug(t),{publicKey:(0,y.hexToByteArray)(t.publicKey),secretKey:(0,y.hexToByteArray)(t.secretKey)}}return(0,b.generateKeyPair)()}isTopicPublicKeyExist(e){return w.logDebug(`isTopicPublicKeyExist  ===> ${e}`),this.sessionCryptoInfoMap.get(e)}makeJWT(e){return a(this,void 0,void 0,(function*(){return yield(0,b.signJWT)(e,u.OKXCONNECTOR_JWT_WALLET_SIDE,u.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)}))}parseInternalMsg(e){try{let t=(0,C.safeJsonParse)(e)["ivur-igbfft-ptjip"];if(t&&t.length>0)return(0,O.base64decode)(t,!0).toString()}catch(e){w.logError("parse internal msg",e)}}updateClientId(e,t){let n=this.sessionCryptoInfoMap.get(e);if((0,_.logDebug)("updateClientId",n,e,t),n&&t&&t.length>0){if(n.cid){let r=(0,y.getLastSixMd5Hash)(t);n.cid==r?n.dappPublicKey=t:w.logError("cid check failed",n,e,t)}else n.dappPublicKey=t;this.syncCacheSessionInfo()}return!1}parsePackage(e,t){return a(this,arguments,void 0,(function*(e,t,n=!1){var r,o,i,s,c,l,d,u,h,f,g,p,m,y,v,b,E;this.events.emit(t.id,t);let S=this.sessionCryptoInfoMap.get(e);w.logDebug("get sessionInfo for decrypt topic:",e),w.logDebug("get sessionInfo for decrypt:",t.id,e,S,this.sessionCryptoInfoMap);let N=!1;if(S&&t.params.data&&(null===(r=t.params.data)||void 0===r?void 0:r.message))if(null===(o=t.params.data)||void 0===o?void 0:o.isInternalData){let e=null===(i=t.params.data)||void 0===i?void 0:i.message,n=null===(s=t.params.data)||void 0===s?void 0:s.topic,r=this.parseInternalMsg(e);(0,_.logDebug)("parse internal origin: ",r),r&&r.length>0&&this.communicateEvents.emit("origin",r,n)}else try{let n=null===(c=t.params.data)||void 0===c?void 0:c.message;if(n.trimStart().startsWith("{")){let r=this.splitManager.tryParseMessageSplitPayload(n);if(r){(0,_.logDebug)("parse split msg object: ",r),N=!0;let n={topicId:null===(d=null===(l=t.params)||void 0===l?void 0:l.data)||void 0===d?void 0:d.topic,messageId:null===(h=null===(u=t.params)||void 0===u?void 0:u.data)||void 0===h?void 0:h.messageId,messageObject:r,publishedAt:null===(g=null===(f=t.params)||void 0===f?void 0:f.data)||void 0===g?void 0:g.publishedAt},o=yield this.splitManager.onReceivedPackageCheck(n);if(o.completeMessageIdList&&o.completeMessageIdList.forEach((t=>a(this,void 0,void 0,(function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),t,e)})))),o.finalMessage){let t=S.crypto.decryptWallet(o.finalMessage,S.dappPublicKey);(0,_.logDebug)("<<< receive msg from split:",e,t),this.communicateEvents.emit(e,t)}}else{let t=(0,C.safeJsonParse)(n);if(t.method){if("session_info"==t.method){let n=t.params.sessionInfo,r=(0,O.base64decode)(n,!1);(0,_.logDebug)("wallet connection manager requset base64Content:",r),(0,_.logDebug)("base64Content:"+r);let o=r.toObject();this.updateClientId(e,o.clientId)}(0,_.logDebug)("<<< parse raw msg:",e,t),this.communicateEvents.emit(e,n)}}}else{let n=S.crypto.decryptWallet(null===(p=t.params.data)||void 0===p?void 0:p.message,S.dappPublicKey);(0,_.logDebug)("<<< receive msg:",e,n),this.communicateEvents.emit(e,n)}}catch(n){let r=S.crypto.decryptWallet(null===(m=t.params.data)||void 0===m?void 0:m.message,S.dappPublicKey);(0,_.logDebug)("<<< receive msg:",e,r),this.communicateEvents.emit(e,r)}if(!n&&(yield this.sendACK(t.id,!0),e&&!N)){let n=t;(null===(v=null===(y=n.params)||void 0===y?void 0:y.data)||void 0===v?void 0:v.messageId)&&(this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),null===(E=null===(b=n.params)||void 0===b?void 0:b.data)||void 0===E?void 0:E.messageId,e))}}))}recovrySessionInfoFromCache(){let e=this.connectStorage.getAndDecrypt(f.WalletConnectionManagerTopicInfoCacheKey);if(w.logDebug("get cached sessionInfos:",e),e){let t=(0,C.safeJsonParse)(e);for(let e in t){let n=t[e];w.logDebug("make topicItem:",n);let r={topic:e,crypto:new v.SessionCrypto({publicKey:n.cryptoKeyPair.publicKey,secretKey:n.cryptoKeyPair.secretKey}),dappPublicKey:n.dappPublicKey,cid:n.cid};this.sessionCryptoInfoMap.set(e,r)}}w.logDebug("get cached sessionInfos map:",this.sessionCryptoInfoMap)}syncCacheSessionInfo(){let e={};for(let[t,n]of this.sessionCryptoInfoMap)w.logDebug("for each Keys",t),n&&(e[t]={cryptoKeyPair:n.crypto.stringifyKeypair(),dappPublicKey:n.dappPublicKey,cid:n.cid});let t=(0,C.safeJsonStringify)(e);w.logDebug("sync cache sessionInfos:",t),this.connectStorage.encryptStoreMsg(t,f.WalletConnectionManagerTopicInfoCacheKey)}cacheSessionInfo(e,t,n=!0){let r=t.dappPublicKey,o=[];for(let[e,t]of this.sessionCryptoInfoMap)w.logDebug("for each Keys",e),t.dappPublicKey==r&&(w.logDebug("duplicated dapp public key:",e,r),o.push(e));for(let[e,t]of this.sessionCryptoInfoMap)o.includes(e)&&this.sessionCryptoInfoMap.delete(e);return w.logDebug("cleaned connect session cache:",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.set(e,t),w.logDebug("cache sessionInfo:",e,t,this.sessionCryptoInfoMap),n&&this.syncCacheSessionInfo(),o}updateProtocolVersion(e,t){this.splitManager.updateTopicSenderVersion(e,t)}appendTopic(e,t,n){return a(this,void 0,void 0,(function*(){return(0,_.logDebug)("4.1. get append Topic:",e),new Promise(((r,o)=>a(this,void 0,void 0,(function*(){if(!this.isLogined){var i=new Error;return i.message="connection is not logined",i.name="append error",void o(i)}let s={topic:e,crypto:new v.SessionCrypto,dappPublicKey:t||"",cid:n},a=this.cacheSessionInfo(e,s,!1);yield this.subscribeTopics(Array.from([e])),this.refreshPackageId(),w.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${e}`),w.reportLog("5. subscribe callback then fetch append message");const c=(new Date).getTime();(0,_.logDebug)("Append --subscribe callback->",c-this.timeLog),r(a)}))))}))}confirmAppendingTopics(){this.syncCacheSessionInfo()}connect(){return a(this,void 0,void 0,(function*(){this.timeLog=(new Date).getTime(),(0,_.logDebug)("[Wallet] ConnectTime---enter->",this.timeLog),w.reportLog("wallet connect connect called");let e=Date.now().toString();var t=yield this.makeJWT(e);return w.logDebug(`generate jwt token: ${t}`),this.connectStorage.saveContent(t,"jwt"),this.recovrySessionInfoFromCache(),new Promise(((e,n)=>{this.inLogin=!0,this.connector.onOpen((()=>a(this,void 0,void 0,(function*(){w.logDebug("1. connector on open"),w.reportLog("1. wallet connect connect on open");const r=(new Date).getTime();(0,_.logDebug)("ConnectTime---open->",r-this.timeLog),this.events.once(this.packageId.toString(),(t=>a(this,void 0,void 0,(function*(){if(t&&t.error){w.logError("failed when login"),yield this.connector.disconnect();var r=new Error;r.message=t.error.message,r.name=t.error.code.toString(),n(r)}else this.isLogined=!0,e(),w.logDebug("3. subscribe cached topics",this.sessionCryptoInfoMap),w.reportLog("3. wallet connect connect subscribe cached topics"),this.sessionCryptoInfoMap.size>0&&(yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys())))})))),w.logDebug("2. login called"),w.reportLog("2. wallet connect login called"),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_LOGIN,params:{token:t}})})))),this.connector.connect().catch((e=>{(0,_.logDebug)("WalletConnectionManager connect error",e),n(e)})),this.connector.addPackageParse((e=>{var t,n;w.logDebug("connect: parse package"),w.logDebug(e),"params"in e&&"data"in e.params?(null===(t=e.params.data)||void 0===t?void 0:t.topic)&&this.parsePackage(null===(n=e.params.data)||void 0===n?void 0:n.topic,e,e.method===l.CONNECT_METHOD_RECEIVE):this.parsePackage("",e,!0)}))}))}))}getSessionPublicKey(e){if(this.isTopicPublicKeyExist(e)){let t=this.sessionCryptoInfoMap.get(e);if(t)return(0,y.toHexString)(t.crypto.keyPair.publicKey)}}getCurrentCachedTopicIdList(){return Array.from(this.sessionCryptoInfoMap.keys())}disconnect(){return a(this,arguments,void 0,(function*(e=!1){yield this.connector.disconnect(),this.connectStorage.clearCache(d.OKXCONNECTOR_TOKEN_CACHE),e||this.connectStorage.clearCache(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE)}))}sendRaw(e,t){return a(this,void 0,void 0,(function*(){t&&(yield this.sendMsg(t,e,h.OKXCONNECTOR_MESSAGE_TTL))}))}sendMsg(e,t,n){return a(this,void 0,void 0,(function*(){if(t){this.refreshPackageId();const r={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:h.CONNECT_JSONRPC_VER,params:{message:{topic:e,message:t,ttl:n}}};this.events.once(this.packageId.toString(),(e=>a(this,void 0,void 0,(function*(){e&&e.error?w.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&w.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}}))}send(e,t){return a(this,arguments,void 0,(function*(e,t,n=!1,r=h.OKXCONNECTOR_MESSAGE_TTL,o=!1){var i,s;if(w.logDebug(`message send =====> ${t}`),!this.isTopicPublicKeyExist(e))throw new Error("connection not finish");let a,c=null===(i=this.sessionCryptoInfoMap.get(e))||void 0===i?void 0:i.dappPublicKey,l=null===(s=this.sessionCryptoInfoMap.get(e))||void 0===s?void 0:s.crypto;o&&(a={message:t});let d=!1;if(l&&c&&!o&&(d=!0,a={message:l.encryptWallet(t,c)}),a){n&&l&&(a.clientId=(0,y.toHexString)(l.keyPair.publicKey));let t=(0,C.safeJsonStringify)(a);!o&&d?yield this.splitManager.sendSplitPackages(e,t,this.sendMsg.bind(this),this.sendRaw.bind(this)):yield this.sendMsg(e,t,r)}}))}sendACK(e,t){return a(this,arguments,void 0,(function*(e,t,n=void 0){if(!0===t){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}else if(n){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,error:{code:n.code,message:n.message}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}}))}sendReceive(e,t,n){return a(this,void 0,void 0,(function*(){const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:n}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}sendUnsubscribe(e){return a(this,void 0,void 0,(function*(){yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_UNSUB,params:{topic:e}}),this.sessionCryptoInfoMap.delete(e),this.syncCacheSessionInfo()}))}sendFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,(function*(){this.events.once(e,(e=>a(this,void 0,void 0,(function*(){var n,r;if(e.result){var o=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let n=i[e];if(n&&n.topic==t){let e=n.messageId;yield this.connector.getMsgPayloadFromHistory(n),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}}o&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else w.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),w.logDebug("5. send fetch more");const n=(new Date).getTime();(0,_.logDebug)("ConnectTime---5->",n-this.timeLog);const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}sendBatchFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,(function*(){this.events.once(e,(e=>a(this,void 0,void 0,(function*(){var n,r;if(e.result){var o=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let t=i[e];if(t&&t.topic)if(this.splitManager.tryParseMessageSplitPayload(t.message))yield this.connector.getMsgPayloadFromHistory(t);else{let n=t.messageId;yield this.connector.getMsgPayloadFromHistory(t),this.refreshPackageId(e),yield this.sendReceive(this.packageId.toString(),n,t.topic)}}o&&(this.refreshPackageId(),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),t))}else w.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),w.logDebug("5. send fetch more"),w.reportLog("5. send fetch more");const n=(new Date).getTime();(0,_.logDebug)("ConnectTime---5->",n-this.timeLog);const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_BATCH_FETCHMSG,params:{topics:t,withInternalData:!0}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}cleanCache(){return a(this,void 0,void 0,(function*(){this.connectStorage.clearCache()}))}saveSessionContent(e,t){t||this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let n=(0,C.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){let t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,C.safeJsonParse)(t)}subscribeTopics(e){return a(this,void 0,void 0,(function*(){(0,_.logDebug)("4. topicid list",e),w.reportLog("4. topicid list"),this.refreshPackageId();const t=(new Date).getTime();return(0,_.logDebug)("ConnectTime--subscribe callback->",t-this.timeLog),new Promise(((t,n)=>a(this,void 0,void 0,(function*(){let n=0;for(let r=0;r<e.length;++r){let o=e[r];this.refreshPackageId(r),this.events.once(this.packageId.toString(),(i=>a(this,void 0,void 0,(function*(){if(i&&i.error){w.logError("failed when subscribe"),yield this.connector.disconnect();var s=new Error;s.message=i.error.message,s.name=i.error.code.toString(),n+=1,n==e.length&&t()}this.refreshPackageId(r);const a=(new Date).getTime();(0,_.logDebug)("ConnectTime--subscribe callback->",a-this.timeLog),n+=1,n==e.length&&(w.logDebug(`5. send fetch msg: ${this.packageId}, ${o}`),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),e),yield this.splitManager.init(this.sendRaw.bind(this)),t())})))),w.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${o}`),w.reportLog("3. login callback then send subscribe");const i=(new Date).getTime();(0,_.logDebug)("ConnectTime---login callback->",i-this.timeLog),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_SUB,params:{topic:o}})}}))))}))}}},4129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppwalletConnector=void 0;const r=n(1141),o=n(5711),i=n(5939),s=n(3495);class a extends r.WsConnector{constructor(){super(),this.walletName="OKX App",this.walletNameKey="walletModal.mobileConnectionModal.connectApp"}getTag(){return o.OKX_APP_WALLET}openWallet(e){var t;if(e&&e.connectRequest){let n=e.connectRequest;if((0,i.logDebug)(`appwallet-connector openwallet before useSHortLink engineConnectInfo.connectRequest JSON ${JSON.stringify(e)}`),(0,i.useShortLink)()){let e=(0,i.getOKXLink)(n);(0,i.openOKXUniversalLink)(e)}else{(0,i.logDebug)(`appwallet-connector openwallet else connectRequest ${n}`);let r=(0,i.encodeConnectParams)(Object.assign(Object.assign({},n),{redirect:null!==(t=e.redirect)&&void 0!==t?t:"none"})),o=(0,i.getAppWalletDeepLink)(r);(0,i.openOKXDeeplinkWithFallback)(o)}}else(0,i.isOS)("android")?(0,i.openDeeplinkWithFallback)(s.stackDeepLink,(()=>{})):(0,i.openLinkBlank)(s.standardUniversalLink)}}t.AppwalletConnector=a},5711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_TG_WALLET=t.OKX_APP_WALLET=t.OKX_INJECT_WALLET=void 0,t.getTagByappName=function(e){var n="";if(e)switch(e){case r.OKXWalletName:n=t.OKX_APP_WALLET;break;case o.OKXMiniWalletName:n=t.OKX_TG_WALLET;break;case o.OKXInjectWalletName:n=t.OKX_INJECT_WALLET}return n};const r=n(7718),o=n(4167);t.OKX_INJECT_WALLET="okx_inject_wallet",t.OKX_APP_WALLET="okx_app_wallet",t.OKX_TG_WALLET="okx_tg_wallet"},5589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OkxwalletInjectTonsdkConnector=t.OkxwalletInjectConnector=t.WsConnector=t.TgwalletConnector=t.InjectConnector=t.getTagByappName=t.OKX_INJECT_WALLET=t.OKX_APP_WALLET=t.OKX_TG_WALLET=t.AppwalletConnector=void 0;var r=n(4129);Object.defineProperty(t,"AppwalletConnector",{enumerable:!0,get:function(){return r.AppwalletConnector}});var o=n(5711);Object.defineProperty(t,"OKX_TG_WALLET",{enumerable:!0,get:function(){return o.OKX_TG_WALLET}}),Object.defineProperty(t,"OKX_APP_WALLET",{enumerable:!0,get:function(){return o.OKX_APP_WALLET}}),Object.defineProperty(t,"OKX_INJECT_WALLET",{enumerable:!0,get:function(){return o.OKX_INJECT_WALLET}}),Object.defineProperty(t,"getTagByappName",{enumerable:!0,get:function(){return o.getTagByappName}});var i=n(862);Object.defineProperty(t,"InjectConnector",{enumerable:!0,get:function(){return i.InjectConnector}});var s=n(1795);Object.defineProperty(t,"TgwalletConnector",{enumerable:!0,get:function(){return s.TgwalletConnector}});var a=n(1141);Object.defineProperty(t,"WsConnector",{enumerable:!0,get:function(){return a.WsConnector}});var c=n(5164);Object.defineProperty(t,"OkxwalletInjectConnector",{enumerable:!0,get:function(){return c.OkxwalletInjectConnector}});var l=n(746);Object.defineProperty(t,"OkxwalletInjectTonsdkConnector",{enumerable:!0,get:function(){return l.OkxwalletInjectTonsdkConnector}})},862:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InjectConnector=void 0;const o=n(7718),i=n(5939),s=n(5711),a=n(2834),c=n(4167),l=n(9781),d=n(8459),u=n(6185),h=n(1603),f=n(9398),g=n(174),p=n(7431),m=n(7402);t.InjectConnector=class{constructor(){this.disconnectListener=[],this.providerMap=new Map,this.disconnectHandler=null,this.walletName="",this.walletNameKey="",this.enable=!0,this.providerMap.set(o.NameSpaceKeyEip155,new h.Eip155Provider),this.providerMap.set(o.NameSpaceKeySOL,new a.SolProvider),this.providerMap.set(o.NameSpaceKeyAptos,new l.AptosProvider),this.providerMap.set(o.NameSpaceKeyTON,new u.TONProvider),this.providerMap.set(o.NameSpaceKeySui,new f.SuiProvider),this.providerMap.set(o.NameSpaceKeyBtc,new m.BtcProvider)}setAccountChangeListener(e){(0,i.logDebug)("setAccountChangeListener: inject",e),this.accountChangeListener=e}setConnectionManager(e){this.connectionManager=e}getInjectProvider(e){if(e)for(const[t,n]of this.providerMap.entries())if(e.includes(t))return n}openWallet(e){return r(this,void 0,void 0,(function*(){var t,n,r;if((0,i.logDebug)("InjectEngine connect begin:",JSON.stringify(e)),!e)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);this.dappInfo=e.connectRequest.dAppInfo;var s=e.connectRequest;try{if(!window||!window.okxwallet)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);if(s.requests){let e=s.requests.find((e=>"requestAccounts"===e.name)),i=yield window.okxwallet.getVersion(),l={method:"connect",requestId:s.requestId,payload:{wallet:{platform:null!==(t=navigator.platform)&&void 0!==t?t:"/",appName:c.OKXInjectWalletName,appVersion:null!=i?i:"1.0.0",maxProtocolVersion:1},responses:[]}},u={name:"requestAccounts",accounts:[]};l.payload.responses.push(u),yield this.disconnect();const h=null!==(n=e.requiredNamespaces)&&void 0!==n?n:[],f=null!==(r=e.optionalNamespaces)&&void 0!==r?r:[];let g=!0,p=!1;if(h.length+f.length===1&&!(0,d.isDevice)("mobile")){const e=1===h.length?h[0]:f[0],t=this.getInjectProvider(e.namespace);(yield null==t?void 0:t.singleConnect(e,this.dappInfo))&&(p=!0,g=!1)}var a=yield this.getAccountByRequestWallets(g,!1,p,h,f);if(!a)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null");if(u.accounts.push(...a),0===u.accounts.length)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect connectAccounts is null");this.connectResultListener&&(this.disconnectHandler&&window.okxwallet.removeListener("disconnect",this.disconnectHandler),this.disconnectHandler=()=>{console.log("window.okxwallet disconnect:"),this.disconnectListener.forEach((e=>e())),this.disconnectListener=[]},window.okxwallet.on("disconnect",this.disconnectHandler),this.connectResultListener(l))}}catch(e){var l=o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR;e instanceof o.OKXConnectError&&(l=e.code,e.message),this.connectResultListener&&this.connectResultListener({requestId:"-1",method:"connect_error",payload:{code:l}})}}))}disconnect(){return r(this,void 0,void 0,(function*(){(0,i.logDebug)("InjectEngine ==>> disconnect  okxwallet.disconnect()"),window.okxwallet&&(yield window.okxwallet.disconnect(),(0,i.logDebug)("InjectEngine ==>> disconnect end okxwallet.disconnect()"))}))}getRequestId(){const e=Date.now().toString();return(0,i.logDebug)("InjectEngine ==>> getRequestId ==>",e),e}send(e,t){return r(this,void 0,void 0,(function*(){var n;try{(0,i.logDebug)("InjectEngine send  > request:",(0,i.safeJsonStringify)(e));let r=e;if("disconnect"===r.method)return yield this.disconnect(),this.disconnectListener.forEach((e=>e())),this.disconnectListener=[],void(null===(n=t.onAck)||void 0===n||n.call(t));yield this.checkWalletMatch();const s=this.getInjectProvider((0,i.getNamespaceKeyByChain)(r.chainId));if(s)return void s.send(r).then((e=>{var n;(0,i.logDebug)("InjectEngine ==>> send > result:",e),null===(n=t.resolve)||void 0===n||n.call(t,e)})).catch((n=>{var r;let s=n.code;4001===s&&(s=o.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);let a={requestId:this.getRequestId(),method:e.method,error:{code:s,message:n.message}};(0,i.logDebug)("InjectEngine ==>> send > errorResponse:",JSON.stringify(a)),null===(r=t.resolve)||void 0===r||r.call(t,a)}));throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED)}catch(e){return(0,i.logDebug)("InjectEngine ==>> send  ===> error:",e),Promise.reject(e)}}))}checkWalletMatch(){return r(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{var n;let r=null===(n=this.connectionManager)||void 0===n?void 0:n.getSessionContent("connectSession");r||t(new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)),this.restoreconnect(r,(n=>{n?e():t(new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED))}))}))}))}checkAccountChanged(){return r(this,void 0,void 0,(function*(){var e;try{let t=null===(e=this.connectionManager)||void 0===e?void 0:e.getSessionContent("connectSession");if(!t)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);(0,i.logDebug)("inject-connector checkAccountChanged --sessionInfo:",JSON.stringify(t));let n=this.getRequireNameSpaceFromSession(t);(0,i.logDebug)("inject-connector checkAccountChanged --requiredNamespaces:",JSON.stringify(n));let r=yield this.getAccountByRequestWallets(!1,!0,!1,n,[]);if((0,i.logDebug)("inject-connector checkAccountChanged --accounts:",JSON.stringify(r)),!r)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null");{let e={};(0,p.buildAccountNameSpaces)(r,e),this.compareAndModifyNamespaces(t.namespaces,e)||((0,i.logDebug)("inject-connector checkAccountChanged --result sessionLocal:",JSON.stringify(t)),this.accountChangeListener?((0,i.logDebug)("inject-connector checkAccountChanged -accountChangeListener:",this.accountChangeListener),this.accountChangeListener(t)):((0,i.logDebug)("inject-connector checkAccountChanged disconnect:"),yield this.disconnect()))}}catch(e){throw(0,i.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(e)),e}}))}compareAndModifyNamespaces(e,t){let n=!0;for(const r in e)if(t[r]){const o=e[r],s=t[r];(0,i.logDebug)("inject-connector checkAccountChanged ns1:",JSON.stringify(o)),(0,i.logDebug)("inject-connector checkAccountChanged ns2:",JSON.stringify(s)),JSON.stringify([...o.accounts].sort())===JSON.stringify([...s.accounts].sort())||(n=!1,o.accounts=[...s.accounts],o.extra=Object.assign({},s.extra),o.payload=Object.assign({},s.payload)),(0,i.logDebug)("inject-connector checkAccountChanged new ns1:",JSON.stringify(o))}return(0,i.logDebug)(`inject-connector checkAccountChanged compareAndModifyNamespaces ===> ${n}`),n}clearData(){this.connectResultListener=void 0}addDisconnectListener(e){this.disconnectListener.push(e)}setOnConnectResultListener(e){this.connectResultListener=e}connectManagerDisconnect(){return r(this,arguments,void 0,(function*(e=!1){}))}getCurrentConnectionReady(e){return!!e&&e.every((e=>{var t;return null===(t=this.getInjectProvider(e))||void 0===t?void 0:t.connectReady()}))}getTag(){return s.OKX_INJECT_WALLET}toJSON(){return"inject-connector"}getRequireNameSpaceFromSession(e){var t,n,r=[];for(let i in e.namespaces){let s=e.namespaces[i],a={namespace:i,chains:s.chains};if(i===o.NameSpaceKeyAptos){let e=[];s.chains.forEach((t=>{let n=(0,g.replaceChainNameToChainId)(t);e.push(n)})),a={namespace:i,chains:e}}else if(i===o.NameSpaceKeyTON){let e,r;(null===(t=s.payload)||void 0===t?void 0:t.ton_proof)&&(e=null===(n=s.payload)||void 0===n?void 0:n.ton_proof,e.proof.payload&&(r={name:"ton_proof",payload:e.proof.payload})),a={namespace:i,chains:s.chains,params:{ton_addr:{name:"ton_addr"},ton_proof:r}}}r.push(a)}return r}restoreconnect(e,t){var n;if(window.okxwallet){this.dappInfo=null===(n=e.sessionConfig)||void 0===n?void 0:n.dappInfo,(0,i.logDebug)("inject-connector restoreconnect --sessionInfo:",JSON.stringify(e));var r=this.getRequireNameSpaceFromSession(e);(0,i.logDebug)("inject-connector restoreconnect --requiredNamespaces:",JSON.stringify(r)),this.getAccountByRequestWallets(!1,!1,!1,r,[]).then((n=>{(0,i.logDebug)("inject-connector restoreconnect --accounts:",JSON.stringify(n));let r=!0;for(let t in e.namespaces){var s=n.find((e=>e.namespace===t)),a=e.namespaces[t].accounts;if(!s)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: accountItem error");let c=a;t===o.NameSpaceKeyAptos&&c&&c.length>0&&(c=a.map((e=>(0,g.replaceChainNameToChainId)(e)))),s.addresses.length===c.length&&s.addresses.slice().sort().every(((e,n)=>{if(t===o.NameSpaceKeyAptos){let t=c.slice().sort()[n];return(0,i.logDebug)("check aptos address -value and aptosAdd--",e,t),t===e}return e===c.slice().sort()[n]}))||(r=!1)}if(!r)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: address not as same as session");t(e)})).catch((e=>{(0,i.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(e)),t(null)}))}else t(null)}getAccountByRequestWallets(e,t,n,s,a){return r(this,void 0,void 0,(function*(){try{var r=[],c=[];if((0,d.isDevice)("mobile")){var l=yield window.okxwallet.connectWallet(e,{requiredNamespaces:s,optionalNamespaces:a});r.push(l)}else r=yield window.okxwallet.requestWallets(e);var u=[...null!=s?s:[],...null!=a?a:[]];let h,f=r[0];if((0,i.logDebug)(" InjectEngine connect connectAccounts:",JSON.stringify(f)),u&&f&&f.address)for(const[r,o]of this.providerMap.entries()){let i=yield o.parseConnectResponse(e,t,n,u,f,this.dappInfo);i&&(h=r,c.push(i))}let g=s.every((e=>{let t=c.find((t=>t.namespace===e.namespace));return!!t&&e.chains.every((e=>!!t.addresses.find((t=>t.startsWith(e+":")))))}));if((0,i.logDebug)("InjectEngine connect requiredNamespaces:",JSON.stringify(s)),(0,i.logDebug)("InjectEngine connect accountResult:",JSON.stringify(c)),!g)throw yield this.disconnect(),new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);return(0,d.isDevice)("mobile")||(this.configEventWithKey(h),yield window.okxwallet.requestWallets(e)),c}catch(e){if(e&&"object"==typeof e&&"code"in e&&4001===e.code)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}}))}configEventWithKey(e){var t,n;for(let e in this.providerMap)null===(t=this.providerMap.get(e))||void 0===t||t.removeListener();null===(n=this.getInjectProvider(e))||void 0===n||n.addListener((()=>{this.checkAccountChanged().catch((e=>{console.log("window.okxwallet configEventWithKey error: ",e)}))}))}}},5164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OkxwalletInjectConnector=void 0;const r=n(862);class o extends r.InjectConnector{constructor(){super(),this.walletName="OKX Wallet extension",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected"}}t.OkxwalletInjectConnector=o},746:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OkxwalletInjectTonsdkConnector=void 0;const o=n(862),i=n(7718),s=n(5939),a=n(8459);class c extends o.InjectConnector{constructor(){super(),this.walletName="OKX Wallet extension",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected"}checkWalletMatch(){return r(this,void 0,void 0,(function*(){var e,t,n;null===(e=this.connectionManager)||void 0===e||e.tonsdkConnectStorage.synchronizedCache();let r=null===(t=this.connectionManager)||void 0===t?void 0:t.tonsdkConnectStorage.getItem("ton_connect_info_adapter_universal");if(!r||!(null==r?void 0:r.content))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);const o=null==r?void 0:r.content;let c,l=JSON.parse(o),d=l.connectEvent.payload.items.find((e=>"name"in e&&"ton_addr"===e.name));if(this.dappInfo=l.dappInfo,d&&"address"in d&&(c=d.address),!c)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if((0,s.logDebug)(`inject-connector localTonaddress : ${c}`),(0,a.isDevice)("mobile")){let e;e={namespace:i.NameSpaceKeyTON,chains:[i.TON_CHAINS.MAINNET],params:{ton_addr:{name:"ton_addr"}}};let t=yield this.getAccountByRequestWallets(!1,!1,!1,[e],[]);if(t&&1==t.length){let e=null===(n=t[0].data)||void 0===n?void 0:n.ton_addr;if(c===(null==e?void 0:e.address))return}}else{let e=yield window.okxTonWallet.tonconnect.restoreConnection();if("connect"===e.event&&e.payload.items.find((e=>"ton_addr"===e.name)).address==c)return}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)}))}}t.OkxwalletInjectTonsdkConnector=c},1795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TgwalletConnector=void 0;const r=n(1141),o=n(5711),i=n(5939);class s extends r.WsConnector{constructor(){super(),this.walletName="OKX Mini Wallet",this.walletNameKey="walletModal.mobileConnectionModal.connectMini"}getTag(){return o.OKX_TG_WALLET}openWallet(e){var t,n;e&&e.connectRequest&&(n=(0,i.encodeTWAConnectURLParams)(Object.assign(Object.assign({},e.connectRequest),{redirect:"none"})));var r=(0,i.getTelegramWalletTWAUrl)(n,null!==(t=null==e?void 0:e.tmaReturnUrl)&&void 0!==t?t:"back");(0,i.openOKXTMAWalletlinkWithFallback)(r)}}t.TgwalletConnector=s},1141:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WsConnector=void 0;const o=n(3184),i=n(645);t.WsConnector=class{constructor(){this.disconnectListener=[],this.walletName="",this.walletNameKey="",this.enable=!0,this.pendingRequests=new Map,(0,i.getDefaultReporter)().beginReport()}setAccountChangeListener(e){this.accountChangeListener=e}setConnectionManager(e){this.connectionManager=e}addConnectionListener(){var e;null===(e=this.connectionManager)||void 0===e||e.addListener("sdk_response",((e,t)=>{var n=(0,o.safeJsonParse)(t);(0,i.logDebug)(`Engine ==>> addListener ==> success ==> ${n}`),this.handleResponse(e,n)}),(function(){}))}addDisconnectListener(e){this.disconnectListener.push(e)}connectManagerDisconnect(){return r(this,arguments,void 0,(function*(e=!1){var t;yield null===(t=this.connectionManager)||void 0===t?void 0:t.disconnect(e)}))}openWallet(e){}bindRequestForPromise(e,t){this.pendingRequests.set(e,t)}send(e,t,n){return r(this,void 0,void 0,(function*(){var r,s;(0,i.logDebug)("Engine ==>> send  request==>",JSON.stringify(e));const a=this.getRequestId();try{let c=yield null===(r=this.connectionManager)||void 0===r?void 0:r.send(JSON.stringify(Object.assign(Object.assign({},e),{requestId:a})),n);c&&(null===(s=this.connectionManager)||void 0===s||s.events.once(c.toString(),(e=>{var n;(0,i.logDebug)(`Engine ==> send => onAck => ${(0,o.safeJsonStringify)(e)}`),e&&e.result&&(null===(n=t.onAck)||void 0===n||n.call(t))}))),t.resolve&&this.bindRequestForPromise(a,t.resolve)}catch(e){return Promise.reject(e)}}))}restoreconnect(e,t){return r(this,void 0,void 0,(function*(){var n;yield null===(n=this.connectionManager)||void 0===n?void 0:n.restoreConnect(e.topic),t(e)}))}restoreconnectFromTopic(e){return r(this,void 0,void 0,(function*(){var t;yield null===(t=this.connectionManager)||void 0===t?void 0:t.restoreConnect(e)}))}getRequestId(){const e=Date.now().toString();return(0,i.logDebug)("Engine ==>> getRequestId ==>",e),e}handleResponse(e,t){if((0,i.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0,o.safeJsonStringify)(t)}`,e),"requestId"in t){(0,i.logDebug)("Engine ==>> handleResponse_2  ===> in response");let e=t.requestId;const n=this.pendingRequests.get(e);n?((0,i.logDebug)("Engine ==>> handleResponse_3  ===> find resolve:",n),n(t),this.pendingRequests.delete(e)):((0,i.logDebug)("Engine ==>> handleResponse_3  ===> not find resolve:"),"disconnect"===t.method&&(this.disconnectListener.forEach((e=>e())),this.disconnectListener=[],this.clearData()))}}getCurrentConnectionReady(){var e;return!!(null===(e=this.connectionManager)||void 0===e?void 0:e.getCurrentConnectionReady())}saveSessionContent(e,t){var n;null===(n=this.connectionManager)||void 0===n||n.saveSessionContent(e,t)}getSessionContent(e){var t;return null===(t=this.connectionManager)||void 0===t?void 0:t.getSessionContent(e)}setOnConnectResultListener(e){this.connectResultListener=e}getTag(){return""}toJSON(){return"ws-connector"}clearData(){this.pendingRequests.clear()}}},7354:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionCrypto=void 0;const o=r(n(8947)),i=n(174);t.SessionCrypto=class{constructor(e=void 0){this.nonceLength=24,this.sessionKeyPair=e?this.createKeypairFromString(e):this.createKeypair()}createKeypair(){return o.default.box.keyPair()}createKeypairFromString(e){return{publicKey:(0,i.hexToByteArray)(e.publicKey),secretKey:(0,i.hexToByteArray)(e.secretKey)}}createNonce(){return o.default.randomBytes(this.nonceLength)}get keyPair(){return this.sessionKeyPair}encrypt(e,t){const n=(new TextEncoder).encode(e),r=this.createNonce(),s=o.default.box(n,r,(0,i.hexToByteArray)(t),this.keyPair.secretKey);let a=(0,i.concatUint8Arrays)(r,s);var c=(0,i.toHexString)(a),l=(new TextEncoder).encode(c);return(0,i.base64encode)(l,!1)}encryptWallet(e,t){const n=(new TextEncoder).encode(e),r=this.createNonce(),s=o.default.box(n,r,(0,i.hexToByteArray)(t),this.keyPair.secretKey);let a=(0,i.concatUint8Arrays)(r,s);return(0,i.base64encode)(a,!1)}decrypt(e,t){let n=(0,i.base64decode)(e,!0).toUint8Array();const[r,s]=(0,i.splitToUint8Arrays)(n,this.nonceLength),a=o.default.box.open(s,r,(0,i.hexToByteArray)(t),this.keyPair.secretKey);if(!a)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${(0,i.toHexString)(this.keyPair.publicKey)} \n keypair secretkey: ${(0,i.toHexString)(this.keyPair.secretKey)}`);return(new TextDecoder).decode(a)}decryptWallet(e,t){let n=(0,i.base64decode)(e,!0),r=(0,i.hexToByteArray)(n.toString());const[s,a]=(0,i.splitToUint8Arrays)(r,this.nonceLength),c=o.default.box.open(a,s,(0,i.hexToByteArray)(t),this.keyPair.secretKey);if(!c)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${(0,i.toHexString)(this.keyPair.publicKey)} \n keypair secretkey: ${(0,i.toHexString)(this.keyPair.secretKey)}`);return(new TextDecoder).decode(c)}stringifyKeypair(){return{publicKey:(0,i.toHexString)(this.keyPair.publicKey),secretKey:(0,i.toHexString)(this.keyPair.secretKey)}}}},1761:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(8152),t),o(n(7718),t),o(n(5939),t),o(n(1603),t),o(n(5589),t)},3117:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtcMethods=t.SuiMethods=t.TONMethods=t.AptosMethods=t.SOLANAMethods=t.Eip55Methods=void 0,t.hasOKXInjectedProvider=function(){return void 0!==function(){const e=(t,n)=>{const[r,...o]=n.split("."),i=t[r];if(i)return 0===o.length?i:e(i,o.join("."))};if("undefined"!=typeof window)return e(window,"okxwallet")}()},t.Eip55Methods=["personal_sign","eth_signTypedData_v4","eth_sendTransaction","wallet_addEthereumChain","wallet_watchAsset","wallet_switchEthereumChain","eth_requestAccounts","eth_accounts","eth_chainId"],t.SOLANAMethods=["solana_signTransaction","solana_signMessage","solana_signAllTransactions","solana_signAndSendTransaction"],t.AptosMethods=["aptos_signMessage","aptos_signTransaction","aptos_signAndSubmitTransaction"],t.TONMethods=["ton_sendTransaction"],t.SuiMethods=["sui_signMessage","sui_signPersonalMessage","sui_signTransactionBlock","sui_signAndExecuteTransactionBlock"],t.BtcMethods=["btc_signMessage","btc_signPsbts","btc_send","btc_sendInscription","btc_signAndPushPsbt","btc_inscribeTransfer","btc_sendRunes"]},1603:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(3117),t),o(n(1933),t)},9781:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AptosProvider=void 0;const o=n(7718),i=n(5939),s=n(3117),a=n(8459),c=n(3790),l=Object.freeze(["637","70000060","70000066"]),d=new Map;d.set("aptos:637","Mainnet"),d.set("aptos:70000060","Movement Testnet"),d.set("aptos:70000066","Movement Mainnet"),t.AptosProvider=class{send(e){return r(this,void 0,void 0,(function*(){try{(0,i.logDebug)("AptosProvider send request:",(0,i.safeJsonStringify)(e)),yield this.restoreConnect();let t=yield window.okxwallet.aptos.network(),n=this.searchChainIdToInjectChainName(e.chainId);if((0,i.logDebug)("AptosProvider send network and searchNetwork:",t,"-----",n),!t||!n||t.toLowerCase()!==n.toLowerCase())throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Please switch your wallet link to '${n}'`);const r=e.method;let s;switch(r){case"aptos_signMessage":if(e.injectParams){let t=yield window.okxwallet.aptos.signMessage(e.injectParams);return s={method:e.method,result:t.signature,injectResult:t},(0,i.logDebug)("AptosProvider send result:",(0,i.safeJsonStringify)(s)),s}throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${r}'`);case"aptos_signTransaction":{(0,i.logDebug)("AptosProvider Method>>>> :",r);let t=yield window.okxwallet.aptos.signTransaction(e.params);return s={method:e.method,result:t},(0,i.logDebug)("AptosProvider send result:",(0,i.safeJsonStringify)(s)),s}case"aptos_signAndSubmitTransaction":{(0,i.logDebug)("AptosProvider Method>>>> :",r);let t=yield window.okxwallet.aptos.signAndSubmitTransaction(e.params);return s={method:e.method,result:t.hash},(0,i.logDebug)("AptosProvider send result:",(0,i.safeJsonStringify)(s)),s}default:throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,` method: '${r}'`)}}catch(e){throw(0,i.logDebug)("AptosProvider send error:",e),e}}))}searchChainIdToInjectChainName(e){let t=e;return d.forEach(((n,r)=>{e.includes(r)&&(t=n)})),t}connectReady(){return!0}disconnect(){}restoreConnect(){return(0,a.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(e,t,n,c,d,u){return r(this,void 0,void 0,(function*(){let e=[];c.forEach((t=>{t.namespace===o.NameSpaceKeyAptos&&e.push(...t.chains)}));let t,n=[],r={};if((0,i.logDebug)("AptosProvider parseConnectResponse connectChain",JSON.stringify(e)),!(0,a.isDevice)("mobile")&&e&&e.length>0){let e=yield window.okxwallet.aptos.connect();t=e.publicKey}if(e.forEach((e=>{let o=d.address.find((t=>l.includes(t.chainId)&&637===t.coinType||t.namespaceChainId===e));o&&(n.push(e+":"+o.address),r[e]={publicKey:o.publicKey?o.publicKey:t})})),(0,i.logDebug)("AptosProvider parseConnectResponse addresses",JSON.stringify(n)),n&&n.length>0)return{namespace:o.NameSpaceKeyAptos,addresses:n,methods:[...s.AptosMethods],extra:r}}))}connect(){return r(this,void 0,void 0,(function*(){return window.okxwallet.aptos.connect()}))}singleConnect(){return this.connect()}addListener(e){window.okxwallet.aptos.onAccountChange((t=>{console.log("window.okxwallet configEventWithKey_aptos:",Date.now(),c.key,JSON.stringify(t)),t&&e()}))}removeListener(){}}},2834:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SolProvider=void 0;const i=n(7718),s=n(5939),a=o(n(6763)),c=n(8459),l=n(3117);t.SolProvider=class{constructor(){this.accountChangedSolanaPublicKeyHandler=null}send(e){return r(this,void 0,void 0,(function*(){var t;try{yield this.restoreConnect(),(0,s.logDebug)("SolProvider send request:",JSON.stringify(e));const o=e.method;let c;if(!e.injectParams)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${o}'`);switch(o){case"solana_signMessage":if(e.injectParams&&"object"==typeof e.injectParams&&"message"in e.injectParams){var n=null===(t=e.injectParams)||void 0===t?void 0:t.message;const r=(new TextEncoder).encode(n),o=yield window.okxwallet.solana.signMessage(r,"utf8");return c={method:e.method,result:a.default.encode(o.signature)},(0,s.logDebug)("SolProvider send result:",JSON.stringify(o)),c}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${o}'`);case"solana_signTransaction":{let t=yield window.okxwallet.solana.signTransaction(e.injectParams);return(0,s.logDebug)("SolProvider send bufferResult:",JSON.stringify(t)),c={method:e.method,injectResult:t},(0,s.logDebug)("SolProvider send result:",(0,s.safeJsonStringify)(c)),c}case"solana_signAllTransactions":{let t=yield window.okxwallet.solana.signAllTransactions(e.injectParams);return(0,s.logDebug)("SolProvider send result:",(0,s.safeJsonStringify)(t)),c={method:e.method,injectResult:t},c}case"solana_signAndSendTransaction":var r=yield window.okxwallet.solana.signAndSendTransaction(e.injectParams);return(0,s.logDebug)("SolProvider send result:",(0,s.safeJsonStringify)(r)),c={method:e.method,injectResult:r},c;default:throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${o}'`)}}catch(e){throw(0,s.logDebug)("SolProvider send error:",e),e}}))}connectReady(){return!0}disconnect(){}restoreConnect(){return(0,c.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(e,t,n,o,a,c){return r(this,void 0,void 0,(function*(){let e=[];o.forEach((t=>{t.namespace===i.NameSpaceKeySOL&&e.push(...t.chains)}));let t=[],n={},r={};if(e.forEach((e=>{let o=a.address.find((t=>"501"===t.chainId&&501===t.coinType||t.namespaceChainId===e));o&&(t.push(e+":"+o.address),n[e]=r&&"publicKey"in r?r:{publicKey:o.publicKey})})),t&&t.length>0){let e={namespace:i.NameSpaceKeySOL,addresses:t,methods:[...l.SOLANAMethods],extra:n};return(0,s.logDebug)("parseConnectResponse nameSpaceResponse :",JSON.stringify(e)),e}}))}connect(){return r(this,void 0,void 0,(function*(){return window.okxwallet.solana.connect()}))}singleConnect(){return this.connect()}addListener(e){console.log("window.okxwallet configEventWithKey:","sol"),this.accountChangedSolanaPublicKeyHandler=t=>{console.log("window.okxwallet configEventWithKey_solana:",Date.now(),"sol",t),t&&e()},window.okxwallet.solana.on("accountChanged",this.accountChangedSolanaPublicKeyHandler)}removeListener(){this.accountChangedSolanaPublicKeyHandler&&window.okxwallet.solana.removeListener("accountChanged",this.accountChangedSolanaPublicKeyHandler)}}},6185:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TONProvider=void 0;const o=n(7718),i=n(5939),s=n(8459),a=n(3117);t.TONProvider=class{constructor(){this.signalChainConnectResult=void 0,this.accountChangedTONHandler=null}send(e){return r(this,void 0,void 0,(function*(){try{(0,i.logDebug)("TONProvider send request:",(0,i.safeJsonStringify)(e));let t=null;if("ton_sendTransaction"!==e.method)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);if(e.params&&(t={method:"sendTransaction",params:[JSON.stringify(e.params)],id:Date.now().toString()},(0,i.logDebug)("TONProvider tonParams first:",JSON.stringify(t))),t){const n=yield window.okxTonWallet.tonconnect.send(t);if((0,i.logDebug)("TONProvider send request result:",(0,i.safeJsonStringify)(n)),n.error)throw new o.OKXConnectError(n.error.code,n.error.message);return{result:n.result,method:e.method}}throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}catch(e){throw(0,i.logDebug)("TONProvider encountered an error:",e),e}}))}connectReady(){return!0}restoreConnect(){return Promise.resolve()}parseConnectResponse(e,t,n,c,l,d){return r(this,void 0,void 0,(function*(){try{let r=[];c.forEach((e=>{e.namespace===o.NameSpaceKeyTON&&r.push(...e.chains)}));let u=[],h={};if(r.forEach((e=>{(0,i.getChainId)(e);let t=l.address.find((t=>"607"===t.chainId&&607===t.coinType||t.namespaceChainId===e));t&&(u.push(e+":"+t.address),h[e]={publicKey:t.publicKey})})),(0,i.logDebug)("tonprovider parseConnectResponse needPop and addresses: ",e,JSON.stringify(u)),u&&u.length>0){let r,l=c.find((e=>e.namespace===o.NameSpaceKeyTON));if((0,i.logDebug)("tonprovider parseConnectResponse ton: ",JSON.stringify(l)),!(l&&l.params&&d&&d.manifestUrl))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl is nil");{this.dappInfo=d;let n=[l.params.ton_addr],o={manifestUrl:d.manifestUrl,items:n};(e||t)&&l.params.ton_proof&&n.push(l.params.ton_proof),(0,i.logDebug)("parseConnectResponse ton connect params: ",JSON.stringify(o)),r=(0,s.isDevice)("mobile")||e||t?yield window.okxTonWallet.tonconnect.connect(2,o):yield window.okxTonWallet.tonconnect.restoreConnection()}if(n&&this.signalChainConnectResult&&(r=this.signalChainConnectResult,this.signalChainConnectResult=void 0),(0,i.logDebug)("parseConnectResponse ton connect result: ",JSON.stringify(r)),r&&l){if("connect_error"===r.event)throw new o.OKXConnectError(r.payload.code,r.payload.message);{let e=r.payload.items.find((e=>"ton_addr"===e.name)),t=r.payload.items.find((e=>"ton_proof"===e.name));return(0,i.logDebug)("tonprovider connect isSignalChain: ",n),{namespace:o.NameSpaceKeyTON,addresses:u,methods:[...a.TONMethods],extra:h,data:{ton_addr:e,ton_proof:t,manifestUrl:d.manifestUrl}}}}}return}catch(e){throw(0,i.logDebug)("tonprovider parseConnectResponse error: ",JSON.stringify(e)),e}}))}connect(e,t){return r(this,void 0,void 0,(function*(){if(!(e&&t&&t.manifestUrl&&e.params))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl or params is nil");{this.dappInfo=t;let n=[e.params.ton_addr],r={manifestUrl:t.manifestUrl,items:n};e.params.ton_proof&&n.push(e.params.ton_proof),(0,i.logDebug)("tonprovider connect params: ",JSON.stringify(r));try{let e=yield window.okxTonWallet.tonconnect.connect(2,r);return(0,i.logDebug)("tonprovider connect tonResult: ",JSON.stringify(e)),this.signalChainConnectResult=e,e}catch(e){throw(0,i.logDebug)("tonprovider connect error: ",JSON.stringify(e)),new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"tonconnect error")}}}))}singleConnect(e,t){return this.connect(e,t)}addListener(e){console.log("window.okxwallet configEventWithKey:","ton"),this.accountChangedTONHandler=()=>{console.log("window.okxwallet configEventWithKey_TON:",Date.now(),"ton"),e()},window.okxTonWallet.tonconnect.on("accountChanged",this.accountChangedTONHandler)}removeListener(){this.accountChangedTONHandler&&window.okxTonWallet.tonconnect.off("accountChanged",this.accountChangedTONHandler)}}},7402:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BtcProvider=void 0;const o=n(7718),i=n(5939),s=n(3117),a=n(8459);t.BtcProvider=class{constructor(){this.accountChangedBtcHandler=null}connect(){return window.okxwallet.unisat.connect()}switchChain(e){return r(this,void 0,void 0,(function*(){let t=window.okxwallet.unisat;switch(e){case o.BTC_CHAINS.MAINNET:yield t.switchChain("BITCOIN_MAINNET");break;case o.BTC_CHAINS.FRACTAL:yield t.switchChain("FRACTAL_BITCOIN_MAINNET")}}))}connectReady(){return!0}parseConnectResponse(e,t,n,i,a){return r(this,void 0,void 0,(function*(){try{let e=[];i.forEach((t=>{t.namespace===o.NameSpaceKeyBtc&&e.push(...t.chains)}));let t=[],n={};if(0==e.length)return;const c=(e,t)=>e.find((e=>{const n="bitcoin"===e.name&&t===o.BTC_CHAINS.MAINNET||"fractalbitcoin"===e.name&&t===o.BTC_CHAINS.FRACTAL;return 0===e.coinType&&n||e.namespaceChainId===t})),l=e=>r(this,void 0,void 0,(function*(){let r=c(a.address,e);if(!r)return;t.push(e+":"+r.address);let o=yield this.connect();n[e]={publicKey:o.publicKey,compressedPublicKey:o.compressedPublicKey}})),d=e.map(l);return yield Promise.all(d),t&&t.length>0?{namespace:o.NameSpaceKeyBtc,addresses:t,methods:[...s.BtcMethods],extra:n}:void 0}catch(e){throw e}}))}restoreConnect(){return r(this,void 0,void 0,(function*(){return(0,a.isDevice)("mobile")?this.connect():Promise.resolve()}))}send(e){return r(this,void 0,void 0,(function*(){try{(0,i.logDebug)("btcProvider send request:",JSON.stringify(e));const t=e.method,n=e.chainId;if(yield this.restoreConnect(),yield this.switchChain(n),!e.params)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,`param is error method: '${t}'`);switch(t){case"btc_signMessage":{const{signStr:t,type:n}=e.params||{},r=yield window.okxwallet.unisat.signMessage(t,n);return{method:e.method,result:r}}case"btc_send":{const{from:t,to:n,value:r,satBytes:o}=e.params||{},i=yield window.okxwallet.unisat.send({from:t,to:n,value:r,satBytes:o});return{method:e.method,result:i}}case"btc_signPsbts":{const{psbtHexs:t,options:n}=e.params||{};let r;if(Array.isArray(t)&&1===t.length){let e;e=Array.isArray(n)?yield window.okxwallet.unisat.signPsbt(t[0],n.length>0&&"object"==typeof n[0]?n[0]:void 0):yield window.okxwallet.unisat.signPsbt(t[0]),r=[e]}else r=yield window.okxwallet.unisat.signPsbts(t,n);return{method:e.method,result:(0,i.safeJsonStringify)(r)}}case"btc_signAndPushPsbt":{const{psbtHex:t,options:n}=e.params||{},r=yield window.okxwallet.unisat.signPsbt(t,n),o=yield window.okxwallet.unisat.pushPsbt(r);return{method:e.method,result:(0,i.safeJsonStringify)({signedPsbt:r,txHash:o})}}case"btc_sendInscription":{const{address:t,inscriptionId:n,options:r}=e.injectParams||{},o=yield window.okxwallet.unisat.sendInscription(t,n,r);return{method:e.method,result:o}}case"btc_inscribeTransfer":{if((0,a.isDevice)("mobile"))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${t}'`);const{ticker:n,amount:r}=e.params||{},i=yield window.okxwallet.unisat.inscribeTransfer(n,r);return{method:e.method,result:i}}default:throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${t}'`)}}catch(e){throw(0,i.logDebug)("BtcProvider send error:",e),e}}))}singleConnect(e){return r(this,void 0,void 0,(function*(){return 1==e.chains.length&&this.connect()}))}addListener(e){this.accountChangedBtcHandler=t=>{console.log("window.okxwallet btc:",Date.now(),"btc",t),t&&t.length>0&&e()},window.okxwallet.unisat.on("accountsChanged",this.accountChangedBtcHandler)}removeListener(){window.okxwallet.unisat.removeListener("accountsChanged",this.accountChangedBtcHandler)}}},8427:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Eip155Provider=void 0;const o=n(7718),i=n(5939),s=n(8459),a=n(3117);t.Eip155Provider=class{constructor(){this.accountChangedEVMHandler=null}send(e){return r(this,void 0,void 0,(function*(){var t;try{(0,i.logDebug)("Eip155Provider send request:",(0,i.safeJsonStringify)(e)),yield this.restoreConnect();let n=null;switch(e.method){case"personal_sign":e.params&&"message"in e.params&&(n={method:e.method,params:[e.params.message,e.address]});break;case"eth_sendTransaction":case"wallet_addEthereumChain":case"wallet_switchEthereumChain":e.params&&(n={method:e.method,params:[e.params]});break;case"eth_signTypedData_v4":e.params&&"typedDataJson"in e.params&&(null===(t=e.params)||void 0===t?void 0:t.typedDataJson)&&"string"==typeof e.params.typedDataJson&&(n={method:e.method,params:[e.address,e.params.typedDataJson]});break;case"wallet_watchAsset":e.params&&(n={method:e.method,params:e.params});break;default:throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if(!n)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);if(("wallet_switchEthereumChain"===e.method||"wallet_addEthereumChain"===e.method)&&e.params&&"chainId"in e.params){(0,i.logDebug)("Eip155Provider send request switch requestParams:",(0,i.safeJsonStringify)(n));const t=parseInt(e.params.chainId,16).toString();yield window.okxwallet.request(n);const r=`eip155:${t}:${e.address}`;return(0,i.logDebug)("Eip155Provider send request switch result:",r),{result:r,method:e.method}}{const t=(0,i.getChainId)(e.chainId),r=`0x${Number(t).toString(16)}`;if((0,i.logDebug)("Eip155Provider current chainId:",t,r),r){yield window.okxwallet.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),(0,i.logDebug)("Eip155Provider send request requestParams:",r,(0,i.safeJsonStringify)(n));const t=yield window.okxwallet.request(n);return(0,i.logDebug)("Eip155Provider send request result:",(0,i.safeJsonStringify)(t)),{result:t,method:e.method}}}}catch(e){throw(0,i.logDebug)("Eip155Provider encountered an error:",e),e}}))}connectReady(){return!0}restoreConnect(){return(0,s.isDevice)("mobile")?window.okxwallet.request({method:"eth_requestAccounts"}):Promise.resolve()}parseConnectResponse(e,t,n,s,c,l){return r(this,void 0,void 0,(function*(){try{let e=[];s.forEach((t=>{t.namespace===o.NameSpaceKeyEip155&&e.push(...t.chains)}));let t=[],n={};return e.forEach((e=>{let r=(0,i.getChainId)(e),o=c.address.find((t=>t.chainId===r&&60===t.coinType||t.namespaceChainId===e));o&&(t.push(e+":"+o.address),n[e]={publicKey:o.publicKey})})),t&&t.length>0?{namespace:o.NameSpaceKeyEip155,addresses:t,methods:[...a.Eip55Methods],extra:n}:void 0}catch(e){throw e}}))}connect(){return r(this,void 0,void 0,(function*(){return window.okxwallet.request({method:"eth_requestAccounts"})}))}singleConnect(){return this.connect()}addListener(e){console.log("window.okxwallet configEventWithKey: eip155"),this.accountChangedEVMHandler=t=>{console.log("window.okxwallet configEventWithKey_evm:",Date.now(),"eip155",t),t&&t.length>0&&e()},window.okxwallet.on("accountsChanged",this.accountChangedEVMHandler)}removeListener(){this.accountChangedEVMHandler&&window.okxwallet.removeListener("accountsChanged",this.accountChangedEVMHandler)}}},1933:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(8427),t)},9398:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SuiProvider=void 0;const o=n(7718),i=n(5939),s=n(8459),a=n(3117);t.SuiProvider=class{constructor(){this.accountChangedHandler=null}connectReady(){return!0}getSuiPublicKey(){return r(this,void 0,void 0,(function*(){return(yield this.connect()).accounts[0].publicKey}))}parseConnectResponse(e,t,n,s,c,l){return r(this,void 0,void 0,(function*(){try{let e=[];s.forEach((t=>{t.namespace===o.NameSpaceKeySui&&e.push(...t.chains)}));let t=[],n={};if(0==e.length)return;const r=yield this.getSuiPublicKey();return e.forEach((e=>{var o;(0,i.getChainId)(e);let s=c.address.find((t=>784===t.coinType||t.namespaceChainId===e));s&&(t.push(e+":"+s.address),n[e]={publicKey:null!==(o=s.publicKey)&&void 0!==o?o:r})})),t&&t.length>0?{namespace:o.NameSpaceKeySui,addresses:t,methods:[...a.SuiMethods],extra:n}:void 0}catch(e){throw e}}))}restoreConnect(){return(0,s.isDevice)("mobile")?this.connect():Promise.resolve()}getSuiWallet(){return window.okxwallet.sui}send(e){return r(this,void 0,void 0,(function*(){try{yield this.restoreConnect(),(0,i.logDebug)("suiProvider send request:",JSON.stringify(e));const t=e.method;let n;if(e.injectParams&&this.getSuiWallet()){let r=e.injectParams;switch(t){case"sui_signTransactionBlock":n={method:"sui_signTransactionBlock",result:(yield this.getSuiWallet().features["sui:signTransactionBlock"].signTransactionBlock(r)).signature};break;case"sui_signAndExecuteTransactionBlock":n={method:"sui_signAndExecuteTransactionBlock",result:(yield this.getSuiWallet().features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(r)).digest};break;case"sui_signMessage":n={method:"sui_signMessage",result:(yield this.getSuiWallet().features["sui:signMessage"].signMessage(r)).signature};break;case"sui_signPersonalMessage":n={method:"sui_signPersonalMessage",result:(yield this.getSuiWallet().features["sui:signPersonalMessage"].signPersonalMessage(r)).signature}}}return n}catch(e){throw(0,i.logDebug)("suiProvider send error:",e),e}}))}connect(){return r(this,void 0,void 0,(function*(){var e;return null===(e=this.getSuiWallet())||void 0===e?void 0:e.features["standard:connect"].connect()}))}singleConnect(){return this.connect()}addListener(e){console.log("window.okxwallet configEventWithKey:","sui"),this.accountChangedHandler=t=>{console.log("window.okxwallet configEventWithKey_sui:",Date.now(),"sui",t),t&&e()},window.okxwallet.sui.on("accountChanged",this.accountChangedHandler)}removeListener(){this.accountChangedHandler&&window.okxwallet.sui.removeListener("accountChanged",this.accountChangedHandler)}}},142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMES_CHAINS=t.TON_CHAINS=t.COSMOS_CHAINS=t.APTOS_CHAINS=t.SUI_CHAINS=t.SOLANA_CHAINS=t.BTC_CHAINS=void 0;const r=n(5080);t.BTC_CHAINS={MAINNET:"btc:mainnet",FRACTAL:"fractal:mainnet"},t.SOLANA_CHAINS={MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",SONIC_TESTNET:"sonic:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"},t.SUI_CHAINS={MAINNET:"sui:mainnet"},t.APTOS_CHAINS={MAINNET:"aptos:mainnet",MOVEMENT_MAINNET:"movement:mainnet",MOVEMENT_TESTNET:"movement:testnet"},t.COSMOS_CHAINS={COSMOS_MAINNET:"cosmos:cosmoshub-4"},t.TON_CHAINS={MAINNET:"ton:-239"},t.NAMES_CHAINS={[r.NameSpaceKeyBtc]:Object.values(t.BTC_CHAINS),[r.NameSpaceKeySOL]:Object.values(t.SOLANA_CHAINS),[r.NameSpaceKeyTON]:Object.values(t.TON_CHAINS),[r.NameSpaceKeySui]:Object.values(t.SUI_CHAINS),[r.NameSpaceKeyAptos]:Object.values(t.APTOS_CHAINS),[r.NameSpaceKeyCosmos]:Object.values(t.COSMOS_CHAINS)}},241:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IEngine=t.ISignClient=t.ISignClientEvents=t.IEngineEvents=void 0;const o=r(n(228));class i extends o.default{constructor(){super()}}t.IEngineEvents=i;class s extends o.default{constructor(){super()}}t.ISignClientEvents=s,t.ISignClient=class{constructor(e){this.data=e}},t.IEngine=class{constructor(e){this.client=e}}},5919:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXWalletName=t.creatOKXInjectWalletInfo=t.creatOKXMiniAppWalletInfo=t.creatOKXWalletInfo=t.ISignClientEvents=t.IEngine=t.IEngineEvents=t.ISignClient=t.getBigIntRpcId=t.formatJsonRpcRequest=t.isJsonRpcError=t.isJsonRpcResponse=t.parseConnectionError=t.isHttpUrl=t.formatJsonRpcError=void 0;var i=n(2143);Object.defineProperty(t,"formatJsonRpcError",{enumerable:!0,get:function(){return i.formatJsonRpcError}}),Object.defineProperty(t,"isHttpUrl",{enumerable:!0,get:function(){return i.isHttpUrl}}),Object.defineProperty(t,"parseConnectionError",{enumerable:!0,get:function(){return i.parseConnectionError}}),Object.defineProperty(t,"isJsonRpcResponse",{enumerable:!0,get:function(){return i.isJsonRpcResponse}}),Object.defineProperty(t,"isJsonRpcError",{enumerable:!0,get:function(){return i.isJsonRpcError}}),Object.defineProperty(t,"formatJsonRpcRequest",{enumerable:!0,get:function(){return i.formatJsonRpcRequest}}),Object.defineProperty(t,"getBigIntRpcId",{enumerable:!0,get:function(){return i.getBigIntRpcId}});var s=n(241);Object.defineProperty(t,"ISignClient",{enumerable:!0,get:function(){return s.ISignClient}}),Object.defineProperty(t,"IEngineEvents",{enumerable:!0,get:function(){return s.IEngineEvents}}),Object.defineProperty(t,"IEngine",{enumerable:!0,get:function(){return s.IEngine}}),Object.defineProperty(t,"ISignClientEvents",{enumerable:!0,get:function(){return s.ISignClientEvents}}),o(n(5889),t);var a=n(4167);Object.defineProperty(t,"creatOKXWalletInfo",{enumerable:!0,get:function(){return a.creatOKXWalletInfo}}),Object.defineProperty(t,"creatOKXMiniAppWalletInfo",{enumerable:!0,get:function(){return a.creatOKXMiniAppWalletInfo}}),Object.defineProperty(t,"creatOKXInjectWalletInfo",{enumerable:!0,get:function(){return a.creatOKXInjectWalletInfo}}),Object.defineProperty(t,"OKXWalletName",{enumerable:!0,get:function(){return a.OKXWalletName}})},2143:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};function o(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return"result"in e}function s(e){return"error"in e}Object.defineProperty(t,"__esModule",{value:!0}),t.isJsonRpcPayload=o,t.isJsonRpcRequest=function(e){return o(e)&&"method"in e},t.isJsonRpcResponse=function(e){return o(e)&&(i(e)||s(e))},t.isJsonRpcResult=i,t.isJsonRpcError=s,t.payloadId=h,t.getBigIntRpcId=function(){return BigInt(Date.now())*BigInt(1e6)+BigInt(u.getNextValue())},t.formatJsonRpcRequest=function(e,t,n){return{id:n||h(),jsonrpc:"2.0",method:e,params:t}},t.formatJsonRpcResult=function(e,t){return{id:e,jsonrpc:"2.0",result:t}},t.formatJsonRpcError=function(e,t,n){return{id:e,jsonrpc:"2.0",error:m(t,n)}},t.isReservedErrorCode=f,t.getError=g,t.getErrorByCode=p,t.formatErrorMessage=m,t.isHttpUrl=function(e){return y(e,"^https?:")},t.isWsUrl=function(e){return y(e,"^wss?:")},t.parseConnectionError=function(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e};const a=n(4606),c=r(n(8947));class l{constructor(e){this.i=1,8===e?new Uint8Array(1):16===e?new Uint16Array(1):new Uint32Array(1),this.initialValue=e?c.default.randomBytes(e/8)[0]:0}getNextValue(){return this.initialValue+this.i++}}const d=new l(8),u=new l(16);function h(){return 1e3*Date.now()+d.getNextValue()}function f(e){return a.RESERVED_ERROR_CODES.includes(e)}function g(e){return Object.keys(a.STANDARD_ERROR_MAP).includes(e)?a.STANDARD_ERROR_MAP[e]:a.STANDARD_ERROR_MAP[a.DEFAULT_ERROR]}function p(e){return Object.values(a.STANDARD_ERROR_MAP).find((t=>t.code===e))||a.STANDARD_ERROR_MAP[a.DEFAULT_ERROR]}function m(e,t){return void 0===e?g(a.INTERNAL_ERROR):("string"==typeof e&&(e=Object.assign(Object.assign({},g(a.SERVER_ERROR)),{message:e})),void 0!==t&&(e.data=t),f(e.code)&&(e=p(e.code)),e)}function y(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==n&&new RegExp(t).test(n)}},9894:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_ITEM_ERROR_CODES=void 0,function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"}(n||(t.CONNECT_ITEM_ERROR_CODES=n={}))},4957:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TONCHAIN=void 0,function(e){e.MAINNET="-239"}(n||(t.TONCHAIN=n={}))},5889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_ITEM_ERROR_CODES=t.TONCHAIN=void 0;var r=n(4957);Object.defineProperty(t,"TONCHAIN",{enumerable:!0,get:function(){return r.TONCHAIN}});var o=n(9894);Object.defineProperty(t,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return o.CONNECT_ITEM_ERROR_CODES}})},4167:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXInjectWalletName=t.OKXMiniWalletName=t.OKXWalletName=void 0,t.creatOKXWalletInfo=function(){return{appName:"okxAppWallet",name:t.OKXWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}},t.creatOKXMiniAppWalletInfo=function(){return{appName:"okxMiniApp",name:t.OKXMiniWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}},t.creatOKXInjectWalletInfo=function(){return{appName:"okxInjectWallet",name:t.OKXInjectWalletName,imageUrl:""}},t.OKXWalletName="OKX Wallet",t.OKXMiniWalletName="OKX Mini Wallet",t.OKXInjectWalletName="OKX Inject Wallet"},3495:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_MINI_WALLET_NAME=t.OKX_APP_WALLET_NAME=t.stackDeepLink=t.tgwalletAppName=t.tgwalletName=t.tonConnectSdkVersion=t.shortUniversalLink=t.standardDeeplink=t.downloadUrl=t.standardUniversalLink=t.okxDeeplink=void 0,t.getTestTwaUrl=function(){return window.okxTesttwaUrl},t.getTestTgTwaUrl=function(){return window.okxTestTgtwaUrl},t.getBotNameAndAppName=function(e){const t=new URL(e).pathname.split("/").filter(Boolean);if(t.length>=2)return{botName:t[0],appName:t[1]}},t.okxDeeplink="okx://web3",t.standardUniversalLink="undefined"!=typeof window&&window.location.hostname.includes("okx.com")?"https://link.okx.com/download":"https://www.okx.com/download",t.downloadUrl="https://www.okx.com/download",t.standardDeeplink=`${t.okxDeeplink}/wallet/connect`,t.shortUniversalLink="https://www.okx.com/ul/connect",t.tonConnectSdkVersion="1",t.tgwalletName="OKX_WALLET_BOT",t.tgwalletAppName="start",t.stackDeepLink="okx://web3?stack=true",t.OKX_APP_WALLET_NAME="OKX Wallet",t.OKX_MINI_WALLET_NAME="OKX Mini Wallet"},4523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_CONNECT_ERROR_CODES=t.OKXConnectError=void 0;var r=n(4606);Object.defineProperty(t,"OKXConnectError",{enumerable:!0,get:function(){return r.OKXConnectError}}),Object.defineProperty(t,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return r.OKX_CONNECT_ERROR_CODES}})},4606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR=t.STANDARD_ERROR_MAP=t.SERVER_ERROR_CODE_RANGE=t.RESERVED_ERROR_CODES=t.SERVER_ERROR=t.INTERNAL_ERROR=t.INVALID_PARAMS=t.METHOD_NOT_FOUND=t.INVALID_REQUEST=t.PARSE_ERROR=t.OKX_CONNECT_ERROR_CODES=t.OKXConnectError=void 0;class n extends Error{constructor(e,t){null==t&&(t=function(e){return e==r.UNKNOWN_ERROR?"unknown error":e==r.BAD_REQUEST_ERROR?"bad request error":e==r.ALREADY_CONNECTED_ERROR?"already connected error":e==r.NOT_CONNECTED_ERROR?"not connected error":e==r.UNKNOWN_APP_ERROR?"unknown app error":e==r.USER_REJECTS_ERROR?"user rejects error":e==r.USER_REJECTS_ERROR_CAUSE_REGISTER?"wallet address are registering":e==r.METHOD_NOT_SUPPORTED?"method not supported":e==r.CONNECTION_ERROR?"connect error":e==r.CHAIN_NOT_SUPPORTED?"chain not supported":"unknown error"}(e)),super(t),this.code=e,this.message=`${n.prefix} ${t?"\n"+t:""}`,Object.setPrototypeOf(this,n.prototype)}toJSON(){return{message:this.message,code:this.code}}}var r;t.OKXConnectError=n,n.prefix="[OKX_CONNECT_SDK_ERROR]",function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.ALREADY_CONNECTED_ERROR=11]="ALREADY_CONNECTED_ERROR",e[e.NOT_CONNECTED_ERROR=12]="NOT_CONNECTED_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.USER_REJECTS_ERROR_CAUSE_REGISTER=301]="USER_REJECTS_ERROR_CAUSE_REGISTER",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e[e.CHAIN_NOT_SUPPORTED=500]="CHAIN_NOT_SUPPORTED",e[e.WALLET_NOT_SUPPORTED=600]="WALLET_NOT_SUPPORTED",e[e.CONNECTION_ERROR=700]="CONNECTION_ERROR"}(r||(t.OKX_CONNECT_ERROR_CODES=r={})),t.PARSE_ERROR="PARSE_ERROR",t.INVALID_REQUEST="INVALID_REQUEST",t.METHOD_NOT_FOUND="METHOD_NOT_FOUND",t.INVALID_PARAMS="INVALID_PARAMS",t.INTERNAL_ERROR="INTERNAL_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],t.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],t.STANDARD_ERROR_MAP={[t.PARSE_ERROR]:{code:-32700,message:"Parse error"},[t.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[t.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[t.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[t.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[t.SERVER_ERROR]:{code:-32e3,message:"Server error"}},t.DEFAULT_ERROR=t.SERVER_ERROR},7718:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.NAMES_CHAINS=t.TON_CHAINS=t.COSMOS_CHAINS=t.APTOS_CHAINS=t.SUI_CHAINS=t.SOLANA_CHAINS=t.BTC_CHAINS=t.downloadUrl=t.okxDeeplink=t.tonConnectSdkVersion=t.standardDeeplink=t.standardUniversalLink=t.NameSpaceKeyStarknet=t.NameSpaceKeyTron=t.NameSpaceKeyCosmos=t.NameSpaceKeyAptos=t.NameSpaceKeyBtc=t.NameSpaceKeySui=t.NameSpaceKeyTON=t.NameSpaceKeySOL=t.NameSpaceKeyEip155=void 0,o(n(4523),t);var i=n(5080);Object.defineProperty(t,"NameSpaceKeyEip155",{enumerable:!0,get:function(){return i.NameSpaceKeyEip155}}),Object.defineProperty(t,"NameSpaceKeySOL",{enumerable:!0,get:function(){return i.NameSpaceKeySOL}}),Object.defineProperty(t,"NameSpaceKeyTON",{enumerable:!0,get:function(){return i.NameSpaceKeyTON}}),Object.defineProperty(t,"NameSpaceKeySui",{enumerable:!0,get:function(){return i.NameSpaceKeySui}}),Object.defineProperty(t,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return i.NameSpaceKeyBtc}}),Object.defineProperty(t,"NameSpaceKeyAptos",{enumerable:!0,get:function(){return i.NameSpaceKeyAptos}}),Object.defineProperty(t,"NameSpaceKeyCosmos",{enumerable:!0,get:function(){return i.NameSpaceKeyCosmos}}),Object.defineProperty(t,"NameSpaceKeyTron",{enumerable:!0,get:function(){return i.NameSpaceKeyTron}}),Object.defineProperty(t,"NameSpaceKeyStarknet",{enumerable:!0,get:function(){return i.NameSpaceKeyStarknet}});var s=n(3495);Object.defineProperty(t,"standardUniversalLink",{enumerable:!0,get:function(){return s.standardUniversalLink}}),Object.defineProperty(t,"standardDeeplink",{enumerable:!0,get:function(){return s.standardDeeplink}}),Object.defineProperty(t,"tonConnectSdkVersion",{enumerable:!0,get:function(){return s.tonConnectSdkVersion}}),Object.defineProperty(t,"okxDeeplink",{enumerable:!0,get:function(){return s.okxDeeplink}}),Object.defineProperty(t,"downloadUrl",{enumerable:!0,get:function(){return s.downloadUrl}}),o(n(5919),t);var a=n(142);Object.defineProperty(t,"BTC_CHAINS",{enumerable:!0,get:function(){return a.BTC_CHAINS}}),Object.defineProperty(t,"SOLANA_CHAINS",{enumerable:!0,get:function(){return a.SOLANA_CHAINS}}),Object.defineProperty(t,"SUI_CHAINS",{enumerable:!0,get:function(){return a.SUI_CHAINS}}),Object.defineProperty(t,"APTOS_CHAINS",{enumerable:!0,get:function(){return a.APTOS_CHAINS}}),Object.defineProperty(t,"COSMOS_CHAINS",{enumerable:!0,get:function(){return a.COSMOS_CHAINS}}),Object.defineProperty(t,"TON_CHAINS",{enumerable:!0,get:function(){return a.TON_CHAINS}}),Object.defineProperty(t,"NAMES_CHAINS",{enumerable:!0,get:function(){return a.NAMES_CHAINS}})},5080:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NameSpaceKeyStarknet=t.NameSpaceKeyTron=t.NameSpaceKeyCosmos=t.NameSpaceKeyAptos=t.NameSpaceKeyBtc=t.NameSpaceKeySui=t.NameSpaceKeyTON=t.NameSpaceKeySOL=t.NameSpaceKeyEip155=void 0,t.NameSpaceKeyEip155="eip155",t.NameSpaceKeySOL="solana",t.NameSpaceKeyTON="ton",t.NameSpaceKeySui="sui",t.NameSpaceKeyBtc="btc",t.NameSpaceKeyAptos="aptos",t.NameSpaceKeyCosmos="cosmos",t.NameSpaceKeyTron="tron",t.NameSpaceKeyStarknet="starknet"},6295:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function r(e,t){return n(this,void 0,void 0,(function*(){return new Promise(((n,r)=>{var o,i;if(null===(o=null==t?void 0:t.signal)||void 0===o?void 0:o.aborted)return void r(new Error("Delay aborted"));const s=setTimeout((()=>n()),e);null===(i=null==t?void 0:t.signal)||void 0===i||i.addEventListener("abort",(()=>{clearTimeout(s),r(new Error("Delay aborted"))}))}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.callForSuccess=function(e,t){return n(this,void 0,void 0,(function*(){var n,o;const i=null!==(n=null==t?void 0:t.attempts)&&void 0!==n?n:3,s=null!==(o=null==t?void 0:t.delayMs)&&void 0!==o?o:800;if("function"!=typeof e)throw new Error("Expected a function, got "+typeof e);let a,c=0;for(;c<i;)try{return yield e()}catch(e){a=e,c++,c<i&&(yield r(s))}throw a}))},t.delay=r},5939:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getNamespaceKeyByChain=t.chainName2IdMap=t.replaceChainIdToChainName=t.replaceChainNameToChainId=t.checkMetaData=t.versionCompare=t.isBrowser=t.isOS=t.isMobileUserAgent=t.openDeeplinkWithFallback=t.openLinkBlank=t.openLink=t.getChainId=t.useShortLink=t.toSafeBase64FromBase64=t.isValidObject=t.isIos=t.base64decode=t.base64encode=t.splitToUint8Arrays=t.concatUint8Arrays=t.toHexString=t.hexToByteArray=t.getOKXLink=t.openOKXUniversalLink=t.getAppWalletShortDeepLink=t.encodeTWAConnectURLParams=t.encodeConnectParams=t.openOKXTMAWalletlinkWithFallback=t.getTelegramWalletTWAUrl=t.getAppWalletDeepLink=t.encodeTelegramUrlParameters=t.isTelegramUrl=t.openOKXDeeplinkWithFallback=t.openOKXDeeplink=t.getUniversalLink=t.safeJsonStringify=t.safeJsonParse=t.getDefaultReporter=t.reportEvent=t.reportLog=t.logWarning=t.logError=t.logDebug=t.callForSuccess=void 0;var i=n(6295);Object.defineProperty(t,"callForSuccess",{enumerable:!0,get:function(){return i.callForSuccess}});var s=n(645);Object.defineProperty(t,"logDebug",{enumerable:!0,get:function(){return s.logDebug}}),Object.defineProperty(t,"logError",{enumerable:!0,get:function(){return s.logError}}),Object.defineProperty(t,"logWarning",{enumerable:!0,get:function(){return s.logWarning}}),Object.defineProperty(t,"reportLog",{enumerable:!0,get:function(){return s.reportLog}}),Object.defineProperty(t,"reportEvent",{enumerable:!0,get:function(){return s.reportEvent}}),Object.defineProperty(t,"getDefaultReporter",{enumerable:!0,get:function(){return s.getDefaultReporter}}),o(n(7064),t),o(n(293),t);var a=n(3184);Object.defineProperty(t,"safeJsonParse",{enumerable:!0,get:function(){return a.safeJsonParse}}),Object.defineProperty(t,"safeJsonStringify",{enumerable:!0,get:function(){return a.safeJsonStringify}});var c=n(4978);Object.defineProperty(t,"getUniversalLink",{enumerable:!0,get:function(){return c.getUniversalLink}}),Object.defineProperty(t,"openOKXDeeplink",{enumerable:!0,get:function(){return c.openOKXDeeplink}}),Object.defineProperty(t,"openOKXDeeplinkWithFallback",{enumerable:!0,get:function(){return c.openOKXDeeplinkWithFallback}}),Object.defineProperty(t,"isTelegramUrl",{enumerable:!0,get:function(){return c.isTelegramUrl}}),Object.defineProperty(t,"encodeTelegramUrlParameters",{enumerable:!0,get:function(){return c.encodeTelegramUrlParameters}}),Object.defineProperty(t,"getAppWalletDeepLink",{enumerable:!0,get:function(){return c.getAppWalletDeepLink}}),Object.defineProperty(t,"getTelegramWalletTWAUrl",{enumerable:!0,get:function(){return c.getTelegramWalletTWAUrl}}),Object.defineProperty(t,"openOKXTMAWalletlinkWithFallback",{enumerable:!0,get:function(){return c.openOKXTMAWalletlinkWithFallback}}),Object.defineProperty(t,"encodeConnectParams",{enumerable:!0,get:function(){return c.encodeConnectParams}}),Object.defineProperty(t,"encodeTWAConnectURLParams",{enumerable:!0,get:function(){return c.encodeTWAConnectURLParams}}),Object.defineProperty(t,"getAppWalletShortDeepLink",{enumerable:!0,get:function(){return c.getAppWalletShortDeepLink}}),Object.defineProperty(t,"openOKXUniversalLink",{enumerable:!0,get:function(){return c.openOKXUniversalLink}}),Object.defineProperty(t,"getOKXLink",{enumerable:!0,get:function(){return c.getOKXLink}});var l=n(174);Object.defineProperty(t,"hexToByteArray",{enumerable:!0,get:function(){return l.hexToByteArray}}),Object.defineProperty(t,"toHexString",{enumerable:!0,get:function(){return l.toHexString}}),Object.defineProperty(t,"concatUint8Arrays",{enumerable:!0,get:function(){return l.concatUint8Arrays}}),Object.defineProperty(t,"splitToUint8Arrays",{enumerable:!0,get:function(){return l.splitToUint8Arrays}}),Object.defineProperty(t,"base64encode",{enumerable:!0,get:function(){return l.base64encode}}),Object.defineProperty(t,"base64decode",{enumerable:!0,get:function(){return l.base64decode}}),Object.defineProperty(t,"isIos",{enumerable:!0,get:function(){return l.isIos}}),Object.defineProperty(t,"isValidObject",{enumerable:!0,get:function(){return l.isValidObject}}),Object.defineProperty(t,"toSafeBase64FromBase64",{enumerable:!0,get:function(){return l.toSafeBase64FromBase64}}),Object.defineProperty(t,"useShortLink",{enumerable:!0,get:function(){return l.useShortLink}}),Object.defineProperty(t,"getChainId",{enumerable:!0,get:function(){return l.getChainId}});var d=n(6032);Object.defineProperty(t,"openLink",{enumerable:!0,get:function(){return d.openLink}}),Object.defineProperty(t,"openLinkBlank",{enumerable:!0,get:function(){return d.openLinkBlank}}),Object.defineProperty(t,"openDeeplinkWithFallback",{enumerable:!0,get:function(){return d.openDeeplinkWithFallback}}),Object.defineProperty(t,"isMobileUserAgent",{enumerable:!0,get:function(){return d.isMobileUserAgent}}),Object.defineProperty(t,"isOS",{enumerable:!0,get:function(){return d.isOS}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return d.isBrowser}});var u=n(7680);Object.defineProperty(t,"versionCompare",{enumerable:!0,get:function(){return u.versionCompare}});var h=n(4514);Object.defineProperty(t,"checkMetaData",{enumerable:!0,get:function(){return h.checkMetaData}});var f=n(174);Object.defineProperty(t,"replaceChainNameToChainId",{enumerable:!0,get:function(){return f.replaceChainNameToChainId}}),Object.defineProperty(t,"replaceChainIdToChainName",{enumerable:!0,get:function(){return f.replaceChainIdToChainName}}),Object.defineProperty(t,"chainName2IdMap",{enumerable:!0,get:function(){return f.chainName2IdMap}}),Object.defineProperty(t,"getNamespaceKeyByChain",{enumerable:!0,get:function(){return f.getNamespaceKeyByChain}})},645:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultReporter=function(){return a},t.logDebug=function(...e){if("undefined"!=typeof console)try{(o||(null===window||void 0===window?void 0:window.okxLogDebug))&&console.log(`[OKX_CONNECT_SDK] ${c} `,...e)}catch(e){}},t.logError=function(...e){if("undefined"!=typeof console)try{if((o||(null===window||void 0===window?void 0:window.okxLogDebug))&&console.error(`[OKX_CONNECT_SDK] ${c} `,...e),i||!o){let t="";t+=[...e].reduce(((e,t)=>{"string"==typeof t||"object"==typeof t&&JSON.stringify(t)})),a.sendRecordContent(t,s.OKXReportType.LOG,"")}}catch(e){}},t.logWarning=function(...e){if("undefined"!=typeof console)try{(o||(null===window||void 0===window?void 0:window.okxLogDebug))&&console.warn(`[OKX_CONNECT_SDK] ${c} `,...e)}catch(e){}},t.reportEvent=function(e,t,n){return r(this,void 0,void 0,(function*(){yield a.sendRecordContent(n,e,t)}))},t.reportLog=function(e){return r(this,arguments,void 0,(function*(e,t="default"){}))};const o=!1,i=!1,s=n(293),a=new s.OKXReporter,c=n(2211).version},8459:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaNotTouch=t.mediaTouch=t.maxWidth=void 0,t.isDevice=function(e){var n;const a=(0,i.getWindow)();if(!a)return"desktop"===e;if((0,o.isTmaPlatform)("weba"))return!0;const c=a.innerWidth;switch(e){case"desktop":return c>t.maxWidth.tablet;case"tablet":return c>t.maxWidth.mobile;default:let e=c<=t.maxWidth.mobile||(0,r.isOS)("ios","android","ipad");if(e){const t=!!(null===(n=(0,i.getWindow)())||void 0===n?void 0:n.TelegramWebviewProxy),r=navigator.maxTouchPoints||0;t&&0===r&&(e=!1),(0,s.logDebug)("isDevice mobile isTelegram and maxTouchPoints:",e,t,r)}return e}},t.media=function(e){switch(e){case"mobile":return`@media (max-width: ${t.maxWidth.mobile}px)`;case"tablet":return`@media (max-width: ${t.maxWidth.tablet}px) (min-width: ${t.maxWidth.mobile}px)`;default:return`@media (min-width: ${t.maxWidth.tablet}px)`}},t.mediaMin=function(e){return`@media (min-width: ${e}px)`},t.mediaMax=function(e){return`@media (max-width: ${e}px)`},t.mediaMinMax=function(e,t){return`@media (min-width: ${e}px) and (max-width: ${t}px)`};const r=n(6032),o=n(7680),i=n(4978),s=n(645);t.maxWidth={mobile:440,tablet:1020},t.mediaTouch="@media (hover: none)",t.mediaNotTouch="@media not all and (hover: none)"},293:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXReporter=t.OKXReportSide=t.OKXReportType=t.versionStr=void 0;const i=o(n(4945)),s=n(645),a=n(4978),c=n(5939),l=o(n(3790)),d=o(n(8947));t.versionStr="1.7.3";const u=["https://www.okx.com/dappstat/wallet-connect","https://www.okx.ac/dappstat/wallet-connect"],h="OKX_RP_UUID_CK",f={headers:{Accept:"*/*","Content-Type":"text/plain"},method:"POST"};t.OKXReportType={PAGE_IN:"page_in",PAGE_OUT:"page_out",CLICK:"click",LOG:"log"},t.OKXReportSide={DAPP:"dapp",WALLET:"wallet"},t.OKXReporter=class{constructor(){this.currentSide=t.OKXReportSide.DAPP,this.currentVersion=t.versionStr,this.storage=l.default.createInstance({name:"OKXReporter"}),this.recordList=new Array,this.currentUUID=(0,c.toHexString)(d.default.randomBytes(16))}configVersionAndSide(e,t,n){this.currentVersion=e,this.currentSide=t,this.appName=n}get recordCacheKey(){return"OKX_RP_CK@"+this.appName}get reportPlatform(){return(0,c.isMobileUserAgent)()?(0,c.isIos)()?"iOS":"android":"pc"}beginReport(){return r(this,void 0,void 0,(function*(){this.startErrorCatching();let e=yield this.storage.getItem(this.recordCacheKey),t=yield this.storage.getItem(h);t?this.currentUUID=t:this.storage.setItem(h,this.currentUUID),e&&(this.recordList=e,(0,s.logDebug)("resume records from cache length: ",this.recordList.length),yield this.sendCachedRecords())}))}startErrorCatching(){(0,a.getWindow)()&&(0,s.logDebug)("begin capture console error")}cachedErrors(){return this.recordList}sendRecord(e){return r(this,void 0,void 0,(function*(){return new Promise(((t,n)=>r(this,void 0,void 0,(function*(){try{const o=JSON.stringify(e);(0,s.logDebug)("[REPORT] record: ",o);const a=yield((e,...t)=>r(void 0,[e,...t],void 0,(function*(e,t={},n=5e3){for(const r of e)try{const e=new AbortController,o=e.signal,s=(0,i.default)(r,Object.assign(Object.assign({},t),{signal:o})),a=new Promise(((t,r)=>setTimeout((()=>{e.abort(),r(new Error("Request timed out"))}),n))),c=yield Promise.race([s,a]);if(c.ok)return c;if(502==c.status)return console.error("Fetch error status 502",r),c}catch(e){console.error(`Fetch error for ${r}:`,e)}throw console.error("'All fetch attempts failed.'"),new Error("All fetch attempts failed.")})))(u,Object.assign(Object.assign({},f),{body:o}));(0,s.logDebug)("[REPORT] get rsp:",a),a&&a.status&&200==a.status?(this.recordList=this.recordList.filter((t=>t.timestamp!=e.timestamp||t.content!=e.content)),yield this.storage.setItem(this.recordCacheKey,this.recordList),t(!0)):n(!1)}catch(e){(0,s.logDebug)("send record error:",e),t(!0)}}))))}))}sendRecordContent(e,t,n){return r(this,void 0,void 0,(function*(){var r,o,i,s;let c=null===(r=(0,a.getWindow)())||void 0===r?void 0:r.location.pathname,l=null===(o=(0,a.getWindow)())||void 0===o?void 0:o.location.origin;c&&l&&(l+=c);let d=null===(i=(0,a.getWindow)())||void 0===i?void 0:i.navigator.language,u=null===(s=(0,a.getWindow)())||void 0===s?void 0:s.navigator.userAgent,h=this.reportPlatform,f={uuid:this.currentUUID,version:this.currentVersion,content:e,action:n,side:this.currentSide,timestamp:(new Date).getTime(),url:l,lang:d,type:t,platform:h,"user-agent":u};yield this.markRecordItem(f),yield this.sendRecord(f)}))}sendCachedRecords(){return r(this,void 0,void 0,(function*(){return new Promise(((e,t)=>r(this,void 0,void 0,(function*(){let n=this.recordList.map((e=>this.sendRecord(e)));(0,s.logDebug)("[REPORT] submit & clean recorded caches begin @",(new Date).toUTCString()),Promise.allSettled(n).then((n=>{(0,s.logDebug)("[REPORT] submit & clean recorded caches ends @",(new Date).toUTCString());let r=[];n.forEach(((e,t)=>{"rejected"==e.status&&r.push(t)})),this.recordList=this.recordList.filter(((e,t)=>!r.includes(t))),this.storage.setItem(this.recordCacheKey,this.recordList).then((function(t){e()})).catch((function(e){t(e)}))}))}))))}))}markRecordItem(e){return r(this,void 0,void 0,(function*(){if(this.recordList.push(e),this.recordList.length>100){let e=this.recordList.length-100;this.recordList.splice(0,e)}return new Promise(((t,n)=>{this.storage.setItem(this.recordCacheKey,this.recordList).then((function(n){t(e)})).catch((function(e){n(e)}))}))}))}markRecord(e,t,n,o){return r(this,void 0,void 0,(function*(){var r,i,s,c;let l=null===(r=(0,a.getWindow)())||void 0===r?void 0:r.location.pathname,d=null===(i=(0,a.getWindow)())||void 0===i?void 0:i.location.origin;l&&d&&(d+=l);let u=null===(s=(0,a.getWindow)())||void 0===s?void 0:s.navigator.language,h=this.reportPlatform,f=null===(c=(0,a.getWindow)())||void 0===c?void 0:c.navigator.userAgent,g={uuid:this.currentUUID,version:this.currentVersion,content:e,action:n,side:o,timestamp:(new Date).getTime(),url:d,lang:u,type:t,platform:h,"user-agent":f};return yield this.markRecordItem(g)}))}}},7064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Report_WalletType_Key=t.Report_ConnectDapp_ConnectAndSign_Click=t.Report_Proceed_QRCode_Click=t.Report_ChooseType_Download_Click=t.Report_ChooseType_ConnectWallet_Click=t.Report_Proceed_Retry_Click=t.Report_ChooseType_ConnectWallet_View=t.Report_Loading_ConnectWallet_View=t.Report_Proceed_QRCode_View=t.Report_Proceed_Proceed_View=void 0,t.Report_Proceed_Proceed_View="OKXConnectSDK_Proceed_Proceed_View",t.Report_Proceed_QRCode_View="OKXConnectSDK_Proceed_QRCode_View",t.Report_Loading_ConnectWallet_View="OKXConnectSDK_Loading_ConnectWallet_View",t.Report_ChooseType_ConnectWallet_View="OKXConnectSDK_ChooseType_ConnectWallet_View",t.Report_Proceed_Retry_Click="OKXConnectSDK_Proceed_Retry_Click",t.Report_ChooseType_ConnectWallet_Click="OKXConnectSDK_ChooseType_ConnectWallet_Click",t.Report_ChooseType_Download_Click="OKXConnectSDK_ChooseType_Download_Click",t.Report_Proceed_QRCode_Click="OKXConnectSDK_Proceed_QRCode_Click",t.Report_ConnectDapp_ConnectAndSign_Click="OKXConnectSDK_ConnectDapp_ConnectAndSign_Click",t.Report_WalletType_Key="wallet_type"},4514:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkMetaData=function(e){if(!e)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"You have to specify a `dappMetaData`in the options.");if(!e.name)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"dappName is required");if(!e.icon)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"icon is required");return!0};const r=n(7718)},3184:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonParse=function(e){if("string"!=typeof e)throw(0,r.logDebug)(e),new Error("Cannot safe json parse value of type "+typeof e);try{return i(e)}catch(t){return console.error("safeJsonParse error:",t),e}},t.safeJsonStringify=function(e){return"string"==typeof e?e:o(e)||""};const r=n(645),o=e=>JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString()+"n":t)),i=e=>{const t=e.replace(/:(\b\d{17,}|\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,((e,t)=>`:"${t}n"`));try{return JSON.parse(t,((e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))}catch(t){return JSON.parse(e)}}},3709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.okxfromString=function(e,t="utf8"){const n=l[t];if((0,o.logDebug)("okxfromstring ====> "),!n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)},t.okxtoString=function(e,t="utf8"){const n=l[t];if((0,o.logDebug)("okxtoString ====> "),!n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)},t.alloc=function(e=0){return new Uint8Array(e)},t.allocUnsafe=i;const r=n(2571),o=n(645);function i(e=0){return new Uint8Array(e)}function s(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const a=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),c=s("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++){let r=e[n];r&&String.fromCharCode(r)&&(t+=String.fromCharCode(r))}return t}),(e=>{const t=i((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),l=Object.assign({utf8:a,"utf-8":a,hex:r.bases.base16,latin1:c,ascii:c,binary:c},r.bases)},7680:(e,t,n)=>{"use strict";var r,o,i,s,a,c,l;Object.defineProperty(t,"__esModule",{value:!0}),t.isTmaPlatform=function(...e){return e.includes(p)},t.isInTMA=y,t.inTg=function(){return v()||y()},t.isInTelegramBrowser=v,t.sendExpand=function(){C("web_app_expand",{})},t.sendOpenTelegramLink=function(e,t){const n=new URL(e);if("http:"!==n.protocol&&"https:"!==n.protocol){if(t)return t();throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url protocol is not supported: ${n}`)}if("t.me"!==n.hostname){if(t)return t();throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url host is not supported: ${n}`)}const r=n.pathname+n.search;b()||_(m,"6.1")>=0?C("web_app_open_tg_link",{path_full:r}):(0,f.openLinkBlank)("https://t.me"+r)},t.versionCompare=_;const d=n(4978),u=n(645),h=n(7718),f=n(6032);let g={};try{g=function(e){let t={};if(!(e=e.replace(/^#/,"")).length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=w(e),t;let n=e.indexOf("?");if(n>=0){let r=e.substr(0,n);t._path=w(r),e=e.substr(n+1)}let r=function(e){let t={};if(!e.length)return t;let n,r,o,i,s=e.split("&");for(n=0;n<s.length;n++)r=s[n].split("="),o=w(r[0]),i=null==r[1]?null:w(r[1]),t[o]=i;return t}(e);for(let e in r)t[e]=r[e];return t}(location.hash.toString())}catch(e){}let p="unknown";if((null==g?void 0:g.tgWebAppPlatform)&&(p=null!==(r=g.tgWebAppPlatform)&&void 0!==r?r:"unknown"),"unknown"===p){const e=(0,d.getWindow)();p=null!==(s=null===(i=null===(o=null==e?void 0:e.Telegram)||void 0===o?void 0:o.WebApp)||void 0===i?void 0:i.platform)&&void 0!==s?s:"unknown"}let m="6.0";if((null==g?void 0:g.tgWebAppVersion)&&(m=g.tgWebAppVersion),!m){const e=(0,d.getWindow)();m=null!==(l=null===(c=null===(a=null==e?void 0:e.Telegram)||void 0===a?void 0:a.WebApp)||void 0===c?void 0:c.version)&&void 0!==l?l:"6.0"}function y(){var e;return"unknown"!==p||!!(null===(e=(0,d.getWindow)())||void 0===e?void 0:e.TelegramWebviewProxy)}function v(){var e;const t=!!(null===(e=(0,d.getWindow)())||void 0===e?void 0:e.TelegramWebview);return(y()||t)&&"unknown"===p}function b(){try{const e=(0,d.getWindow)();return!!e&&null!=e.parent&&e!==e.parent}catch(e){return!1}}function C(e,t){try{const n=(0,d.getWindow)();if(!n)throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to parent window: window is not defined");if(void 0!==n.TelegramWebviewProxy)(0,u.logDebug)("postEvent",e,t),n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));else if(n.external&&"notify"in n.external)(0,u.logDebug)("postEvent",e,t),n.external.notify(JSON.stringify({eventType:e,eventData:t}));else{if(!b())throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to TMA");{const r="*",o=JSON.stringify({eventType:e,eventData:t});(0,u.logDebug)("postEvent",e,t),n.parent.postMessage(o,r)}}}catch(e){(0,u.logError)(`Can't post event to parent window: ${e}`)}}function w(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch(t){return e}}function _(e,t){"string"!=typeof e&&(e=""),"string"!=typeof t&&(t="");let n,r,o,i,s=e.replace(/^\s+|\s+$/g,"").split("."),a=t.replace(/^\s+|\s+$/g,"").split(".");for(n=Math.max(s.length,a.length),r=0;r<n;r++)if(o=parseInt(s[r])||0,i=parseInt(a[r])||0,o!==i)return o>i?1:-1;return 0}},4978:(e,t,n)=>{"use strict";var r,o,i,s;Object.defineProperty(t,"__esModule",{value:!0}),t.removeUrlLastSlash=f,t.addPathToUrl=function(e,t){return f(e)+"/"+t},t.getUniversalLink=g,t.openOKXDeeplink=function(e){var t;const n=g(e),r=!!(null===(t=m())||void 0===t?void 0:t.TelegramWebviewProxy);console.log("openOKXDeeplink fullUrl:",n),!(0,d.isIos)()||(0,d.isInIOSLine)()?r?window.open(e,"_blank"):window.location.href=e:p(n)},t.openOKXUniversalLink=p,t.openOKXDeeplinkWithFallback=function(e){var t;const n=g(e),r=!!(null===(t=m())||void 0===t?void 0:t.TelegramWebviewProxy);console.log("openOKXDeeplinkWithFallback fullUrl:",n);let o=!1;a.standardUniversalLink,console.log("openOKXDeeplinkWithFallback standardUniversalLink:",a.standardUniversalLink);let i=null,s=()=>{console.log("fallbackToDownloadPage :empty")},c=(0,d.isInIOSChrome)()||(0,d.isInIOSLine)()||(0,d.isInIOSLark)()||(0,d.isInIOSWeChat)();if((0,d.isIos)()?c&&(s=()=>{console.log("windowOpen --\x3e fallbackToDownloadPage --",o),o||(console.log("windowOpen --\x3e fallbackToDownloadPage universal link"),window.open(n,"_self"))}):s=()=>{o||(i?i.open(n,"_self"):window.open(n,"_blank"))},!(0,d.isIos)()||c){r?i=window.open(e,"_blank"):(console.log("windowOpen --\x3e deeplinkUrl"),window.location.href=e),setTimeout(s,3e3);let t=0,n=setInterval((()=>{t++,console.log("windowOpen --\x3e interval:",t,document.hidden,document.visibilityState),document.hidden&&(o=!0),(t>10||document.hidden)&&(clearInterval(n),console.log("windowOpen :cleat: ${count}"))}),200);window.addEventListener("blur",(()=>{console.log("windowOpen :blur"),o=!0}),{once:!0}),document.addEventListener("visibilitychange",(()=>{console.log("windowOpen :visibilitychange:",document.visibilityState),"hidden"===document.visibilityState&&(o=!0)}))}else r?window.open(n,"_blank"):(console.log("windowOpen[before]: ",Date.now()),(null===window||void 0===window?void 0:window.okxLogDebug)?window.open(n,"_blank"):window.open(n,"_self"),console.log("windowOpen[after]: ",Date.now()))},t.getWindow=m,t.isTelegramUrl=function(e){if(!e)return!1;const t=new URL(e);return"tg:"===t.protocol||"t.me"===t.hostname},t.encodeTelegramUrlParameters=function(e){let t=e;return t=t.replace(/\./g,"%2E"),t=t.replace(/-/g,"%2D"),t=t.replace(/_/g,"%5F"),t=t.replace(/&/g,"-"),t=t.replace(/=/g,"__"),t=t.replace(/%/g,"--"),t},t.encodeConnectParams=y,t.encodeTWAConnectURLParams=v,t.getAppWalletDeepLink=function(e){return`${a.standardDeeplink}?param=${e}`},t.getAppWalletShortDeepLink=b,t.getTelegramWalletTWAUrl=C,t.openOKXTMAWalletlinkWithFallback=function(e){var t,n,r,o,i;(0,c.logDebug)("[TWA] open link:",e,"isInTMA ==> ",E()),E()?(null===(n=null===(t=m())||void 0===t?void 0:t.Telegram)||void 0===n?void 0:n.WebApp)?null===(i=null===(o=null===(r=m())||void 0===r?void 0:r.Telegram)||void 0===o?void 0:o.WebApp)||void 0===i||i.openTelegramLink(e):(0,u.sendOpenTelegramLink)(e):(0,l.getTestTwaUrl)()?window.open(e,"_blank"):window.open(e,"_self")},t.isInTMA=E,t.isInTelegramBrowser=function(){var e;const t=!!(null===(e=m())||void 0===e?void 0:e.TelegramWebview);return(E()||t)&&"unknown"===O},t.getOKXLink=function(e,t=!1,n){if((0,c.logDebug)(`url  getOKXLink() called connectRequest==> ${JSON.stringify(e)}  useMini=> ${t}  tmaReturnUrl==> ${n}`),t)return C(e?v(e):void 0,null!=n?n:"back");if((0,d.useShortLink)())return e?b(e.topic,e.clientId):l.shortUniversalLink;if(e){const t=y(e);return`${a.standardDeeplink}?param=${t}`}return a.standardDeeplink};const a=n(7718),c=n(645),l=n(3495),d=n(174),u=n(7680),h=n(829);function f(e){return"/"===e.slice(-1)?e.slice(0,-1):e}function g(e,t=!1){console.log("getUniversalLink deeplinkUrl:",e,", useStandardUniversalLink:",t);const n=encodeURIComponent(e);return console.log("getUniversalLink standardUniversalLink:",a.standardUniversalLink),console.log("getUniversalLink standardUniversalLink:",`${a.standardUniversalLink}?deeplink=${n}`),`${a.standardUniversalLink}?deeplink=${n}`}function p(e){(0,d.isIos)()?E()?window.open(e,"_blank"):(console.log("windowOpen[before]: ",Date.now()),(null===window||void 0===window?void 0:window.okxLogDebug)?window.open(e,"_blank"):window.open(e,"_self"),console.log("windowOpen[after]: ",Date.now())):window.open(e,"_blank")}function m(){if("undefined"!=typeof window)return window}function y(e){let t=Object.assign(Object.assign({},e),{protocolVersion:h.CONNECT_PROTOCOL_VER});const n=JSON.stringify(t);(0,c.logDebug)("url encodeConnectParams connectRequestStr ",n);const r=(new TextEncoder).encode(n),o=btoa(String.fromCharCode(...r));return(0,c.logDebug)("url encodeConnectParams base64Encoded ",o),o}function v(e){const t=JSON.stringify({topic:e.topic,clientId:e.clientId});(0,c.logDebug)("url encodeConnectParams connectRequestStr",t);const n=(new TextEncoder).encode(t);return btoa(String.fromCharCode(...n))}function b(e,t){return`${l.shortUniversalLink}?topic=${e}${(0,d.getLastSixMd5Hash)(t)}`}function C(e,t){let n={okxconnect:"",redirect:"",extraparams:"",fromtg:!1};e&&(n.okxconnect=e),t&&(n.redirect=t),E()?n.fromtg=!0:n.fromtg=!1,(0,c.logDebug)("getTelegramWalletTWAUrl redirect:",n.redirect);let r=JSON.stringify(n);const o=(new TextEncoder).encode(r),i=btoa(String.fromCharCode(...o)),s=(0,d.toSafeBase64FromBase64)(i);if((0,c.logDebug)("[TWA] open link:",n,i),e||t){if(E())return(0,l.getTestTgTwaUrl)()?`${(0,l.getTestTgTwaUrl)()}?startapp=${s}`:`https://t.me/${l.tgwalletName}/start?startapp=${s}`;if((0,l.getTestTwaUrl)())return`${(0,l.getTestTwaUrl)()}?tgWebAppStartParam=${s}`;if((0,l.getTestTgTwaUrl)()){let e=(0,l.getBotNameAndAppName)((0,l.getTestTgTwaUrl)());if(e){let{botName:t,appName:n}=e;return`tg://resolve?domain=${t}&appname=${n}&startapp=${s}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}&startapp=${s}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}&startapp=${s}`}if(E())return(0,l.getTestTgTwaUrl)()?`${(0,l.getTestTgTwaUrl)()}`:`https://t.me/${l.tgwalletName}/start`;if((0,l.getTestTwaUrl)())return`${(0,l.getTestTwaUrl)()}`;if((0,l.getTestTgTwaUrl)()){let e=(0,l.getBotNameAndAppName)((0,l.getTestTgTwaUrl)());if(e){let{botName:t,appName:n}=e;return`tg://resolve?domain=${t}&appname=${n}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}`}function w(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch(t){return e}}let _={};try{_=function(e){let t={};if(!(e=e.replace(/^#/,"")).length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=w(e),t;let n=e.indexOf("?");if(n>=0){let r=e.substr(0,n);t._path=w(r),e=e.substr(n+1)}let r=function(e){let t={};if(!e.length)return t;let n,r,o,i,s=e.split("&");for(n=0;n<s.length;n++)r=s[n].split("="),o=w(r[0]),i=null==r[1]?null:w(r[1]),t[o]=i;return t}(e);for(let e in r)t[e]=r[e];return t}(location.hash.toString())}catch(e){}let O="unknown";if((null==_?void 0:_.tgWebAppPlatform)&&(O=null!==(r=_.tgWebAppPlatform)&&void 0!==r?r:"unknown"),"unknown"===O){const e=m();O=null!==(s=null===(i=null===(o=null==e?void 0:e.Telegram)||void 0===o?void 0:o.WebApp)||void 0===i?void 0:i.platform)&&void 0!==s?s:"unknown"}function E(){var e;return"unknown"!==O||!!(null===(e=m())||void 0===e?void 0:e.TelegramWebviewProxy)}},174:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.chainName2IdMap=t.isValidObject=t.RANDOM_LENGTH=t.isBrowser=t.resolveLocalStorage=t.hasLocalStorage=t.hasBuiltInWebSocket=t.resolveWebSocketImplementation=void 0,t.hexToByteArray=function(e){if(e.length%2!=0)throw new Error(`Cannot convert ${e} to bytesArray`);const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t},t.getChainId=function(e){return e.includes(":")?e.split(":")[1]:e},t.toHexString=function(e){let t="";return e.forEach((e=>{t+=("0"+(255&e).toString(16)).slice(-2)})),t},t.concatUint8Arrays=function(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n},t.splitToUint8Arrays=function(e,t){if(t>=e.length)throw new Error("Index is out of buffer");return[e.slice(0,t),e.slice(t)]},t.base64encode=function(e,t){let n;return e instanceof Uint8Array?n=e:("string"!=typeof e&&(e=(0,c.safeJsonStringify)(e)),n=i.default.decodeUTF8(e)),function(e,t){const n=i.default.encodeBase64(e);return t?encodeURIComponent(n):n}(n,t)},t.base64decode=function(e,t){const n=function(e,t){return t&&(e=decodeURIComponent(e)),i.default.decodeBase64(e)}(e,t);return{toString:()=>i.default.encodeUTF8(n),toObject(){try{return(0,c.safeJsonParse)(i.default.encodeUTF8(n))}catch(e){return null}},toUint8Array:()=>n}},t.checkWSUrl=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!t||!t.length)return!1;let n=t[0];return void 0!==n&&new RegExp("^wss?:").test(n)},t.hashKey=g,t.generateRandomBytes32=p,t.generateTopic=function(){let e=p();return(0,l.logDebug)(`generate topic called ${e}`),g((0,s.toString)(e,f))},t.generateGroupId=function(){let e=o.default.randomBytes(16);return(0,l.logDebug)(`generate groupid called ${e}`),g((0,s.toString)(e,f))},t.isInIOSLine=function(){return navigator.userAgent.includes("Safari Line/")&&m()},t.isInIOSLark=function(){return navigator.userAgent.includes("Lark/")&&m()},t.isInIOSChrome=function(){return navigator.userAgent.includes("CriOS/")&&m()},t.isInIOSWeChat=function(){return navigator.userAgent.includes("MicroMessenger/")&&m()},t.isIos=m,t.getLastSixMd5Hash=function(e){return u.default.MD5(e).toString().slice(-6)},t.toSafeBase64FromBase64=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},t.useShortLink=function(){return!1},t.replaceChainNameToChainId=function(e){return t.chainName2IdMap.forEach(((t,n)=>{e.includes(n)&&(e=e.replace(n,t))})),e},t.replaceChainIdToChainName=function(e){return t.chainName2IdMap.forEach(((t,n)=>{e.includes(t)&&(e=e.replace(t,n))})),e},t.getNamespaceKeyByChain=function(e){for(const[t,n]of Object.entries(h.NAMES_CHAINS))if(Object.values(n).includes(e))return t;return e};const o=r(n(8947)),i=r(n(6386)),s=n(9609),a=n(204),c=n(3184),l=n(645),d=n(3709),u=r(n(1396)),h=n(7718),f="base16";function g(e,t=f){(0,l.logDebug)(`hash key called ${e}`);const n=(0,a.hash)((0,d.okxfromString)(e,t));return(0,s.toString)(n,t)}function p(){return o.default.randomBytes(t.RANDOM_LENGTH)}function m(){const e=navigator.userAgent,t=navigator.maxTouchPoints||0,n=/iPad|iPhone|iPod/.test(e)&&!window.MSStream,r=e.includes("Mac")&&t>1;return(0,l.logDebug)(`utils isIos >>>isIOSDevice: ${n}    >> isIPadOS: ${r}`),n||r}t.resolveWebSocketImplementation=()=>"undefined"!=typeof WebSocket?WebSocket:void 0!==n.g&&void 0!==n.g.WebSocket?n.g.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:"undefined"!=typeof self&&void 0!==self.WebSocket?self.WebSocket:WebSocket,t.hasBuiltInWebSocket=()=>"undefined"!=typeof WebSocket||void 0!==n.g&&void 0!==n.g.WebSocket||"undefined"!=typeof window&&void 0!==window.WebSocket||"undefined"!=typeof self&&void 0!==self.WebSocket,t.hasLocalStorage=()=>void 0!==n.g&&void 0!==n.g.localStorage||"undefined"!=typeof window&&void 0!==window.localStorage,t.resolveLocalStorage=()=>void 0!==n.g&&void 0!==n.g.localStorage?n.g.localStorage:"undefined"!=typeof window&&void 0!==window.localStorage?window.localStorage:localStorage,t.isBrowser=()=>"undefined"!=typeof window,t.RANDOM_LENGTH=32,t.isValidObject=e=>Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length,t.chainName2IdMap=new Map,t.chainName2IdMap.set("aptos:mainnet","aptos:637"),t.chainName2IdMap.set("movement:testnet","aptos:70000060"),t.chainName2IdMap.set("movement:mainnet","aptos:70000066"),t.chainName2IdMap.set("soon:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000069"),t.chainName2IdMap.set("soon:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","svm:70000067"),t.chainName2IdMap.set("eclipse:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000068")},6032:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.openLink=a,t.openLinkBlank=function(e){a(e,"_blank")},t.openDeeplinkWithFallback=function(e,t){const n=setTimeout((()=>{d("safari")||l("android")&&d("firefox")||t()}),500);window.addEventListener("blur",(()=>clearTimeout(n)),{once:!0}),l("android")&&(0,s.inTg)()?a(e,"_blank"):a(e,"_self")},t.isMobileUserAgent=function(){let e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.slice(0,4)))&&(e=!0),e;var t},t.getUserAgent=c,t.isOS=l,t.isBrowser=d;const o=r(n(7232)),i=n(645),s=n(7680);function a(e,t="_self"){(0,i.logDebug)("openLink",e,t),window.open(e,t,"noopener noreferrer")}function c(){var e,t,n;const r=(new o.default).getResult(),i=null===(e=r.os.name)||void 0===e?void 0:e.toLowerCase();let s;switch(!0){case"ipad"===(null===(t=r.device.model)||void 0===t?void 0:t.toLowerCase()):s="ipad";break;case"ios"===i:s="ios";break;case"android"===i:s="android";break;case"mac os"===i:s="macos";break;case"linux"===i:s="linux";break;case null==i?void 0:i.includes("windows"):s="windows"}const a=null===(n=r.browser.name)||void 0===n?void 0:n.toLowerCase();let c;switch(!0){case"chrome"===a:c="chrome";break;case"firefox"===a:c="firefox";break;case null==a?void 0:a.includes("safari"):c="safari";break;case null==a?void 0:a.includes("opera"):c="opera"}return{os:s,browser:c}}function l(...e){return e.includes(c().os)}function d(...e){return e.includes(c().browser)}},6671:(e,t,n)=>{var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g,o=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},o="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,s="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function g(e){this.map={},e instanceof g?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&s&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||d(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return p(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(s)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,o,i=p(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,n=m(t=new FileReader),o=(r=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?r[1]:"utf-8",t.readAsText(e,o),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}g.prototype.append=function(e,t){e=u(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},g.prototype.delete=function(e){delete this.map[u(e)]},g.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},g.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},g.prototype.set=function(e,t){this.map[u(e)]=h(t)},g.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},g.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},g.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},g.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},i&&(g.prototype[Symbol.iterator]=g.prototype.entries);var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,o,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new g(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new g(t.headers)),this.method=(o=(n=t.method||this.method||"GET").toUpperCase(),C.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function O(e,t){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new g(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var E=[301,302,303,307,308];O.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(o,i){var a=new w(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function d(){l.abort()}if(l.onload=function(){var e,t,n={statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new g,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();try{t.append(r,o)}catch(e){console.warn("Response "+e.message)}}})),t)};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?n.status=200:n.status=l.status,n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;setTimeout((function(){o(new O(r,n))}),0)},l.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){i(new t.DOMException("Aborted","AbortError"))}),0)},l.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(s?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof g||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach((function(e){f.push(u(e)),l.setRequestHeader(e,h(n.headers[e]))})),a.headers.forEach((function(e,t){-1===f.indexOf(t)&&l.setRequestHeader(t,e)}))}else a.headers.forEach((function(e,t){l.setRequestHeader(t,e)}));a.signal&&(a.signal.addEventListener("abort",d),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",d)}),l.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,r.fetch||(r.fetch=S,r.Headers=g,r.Request=w,r.Response=O),t.Headers=g,t.Request=w,t.Response=O,t.fetch=S}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var i=r.fetch?r:o;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},4997:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_METHOD_BATCH_FETCHMSG=t.CONNECT_METHOD_FETCHMSG=t.CONNECT_METHOD_RECEIVE=t.CONNECT_METHOD_UNSUB=t.CONNECT_METHOD_SUB=t.CONNECT_METHOD_PUBLISH=t.CONNECT_METHOD_LOGIN=t.CONNECT_METHOD_PUSH=void 0,t.CONNECT_METHOD_PUSH="push",t.CONNECT_METHOD_LOGIN="login",t.CONNECT_METHOD_PUBLISH="publish",t.CONNECT_METHOD_SUB="subscribe",t.CONNECT_METHOD_UNSUB="unsubscribe",t.CONNECT_METHOD_RECEIVE="receive",t.CONNECT_METHOD_FETCHMSG="fetchMessages",t.CONNECT_METHOD_BATCH_FETCHMSG="batchFetchMessages"},5069:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXWalletConnector=void 0;const c=n(9074),l=n(9221),d=n(1734),u=n(9088),h=n(8105),f=n(228),g=s(n(458)),p=n(9599),m=n(3960),y=(0,h.resolveWebSocketImplementation)();t.OKXWalletConnector=class{constructor(e){if(this.events=new f.EventEmitter,this.state=c.ConnectorState.InitState,this.selectedUrlIndex=0,this.retryCount=0,this.timeOutLimit=8e3,!(0,h.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);this.url=e,this.heartbeatTimer=null,this.connectionTimeoutTimer=null,this.connectURLStorage=new d.Storage(l.OKXCONNECTOR_CACHE_KEY+l.OKXCONNECTOR_CACHE_KEY)}get connecting(){return this.state==c.ConnectorState.Connecting}onPayload(e){if(void 0!==e.data){if(g.logDebug("get received data"),g.logDebug(e),"string"==typeof e.data&&"pong"===e.data)return void g.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);this.events.emit("payload",e.data)}}onClose(e){var t;g.logDebug("socket get closed: ",null===(t=this.socket)||void 0===t?void 0:t.url,e.code),this.socket=void 0,this.events.emit("close",e)}onError(e,t){const n={id:e,msg:t.toString()};this.events.emit("payload",n)}onopen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.state=c.ConnectorState.Connected,this.events.emit("open")}emitError(e){this.events.emit("fail",e)}heartbeat(){return a(this,void 0,void 0,(function*(){if(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.state==c.ConnectorState.Connected||this.state==c.ConnectorState.OnError){if(this.socket){if(this.socket.readyState===WebSocket.OPEN)g.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`),this.socket.send("ping"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3);else if(g.logDebug("socket not ready"),this.state==c.ConnectorState.Connected||this.state==c.ConnectorState.OnError){g.logDebug("socket reconnect by heartbeat with state",this.state,this.socket.readyState);try{yield this.tryRegistOpen()}catch(e){g.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}}else if(g.logDebug("socket not exist"),this.state==c.ConnectorState.Connected||this.state==c.ConnectorState.OnError){g.logDebug("socket reconnect by heartbeat");try{yield this.tryRegistOpen()}catch(e){g.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}}else g.logDebug("heart beat close")}))}registOpen(e=this.url,t=!1){if(!(0,h.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);return this.url=e,t||g.logDebug("Connection connect:",this.url,(new Date).toUTCString()),this.state=c.ConnectorState.Connecting,new URLSearchParams(e).get("origin"),new Promise(((t,n)=>{const r=new y(e,[]);g.logDebug("Connection connect Begin:",this.url,(new Date).toUTCString()),this.startTimeOutTimer(r),(0,h.hasBuiltInWebSocket)()?(g.logDebug("Add socket error handler"),r.onerror=()=>{n(new Error("socket error")),r.close()}):(g.logDebug("Add socket error handler"),r.on("error",(()=>{n(new Error("socket error")),r.close()}))),r.onopen=()=>{g.logDebug("socket opened"),this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED),this.onopen(r),this.heartbeat(),t(r)}}))}checkMaxRetry(){return g.logDebug("current retry count:",this.retryCount,"of",c.OKXCONNECTOR_WS_URL_LIST.length),this.retryCount>3*c.OKXCONNECTOR_WS_URL_LIST.length}connectionTryNext(){return a(this,void 0,void 0,(function*(){if(!this.checkMaxRetry()){this.retryCount+=1;let e=this.getNextSelectUrl();return g.logDebug("Connection retry:",e,(new Date).toUTCString()),this.registOpen(e,!0)}g.logDebug("Max Connection retry ",this.retryCount,(new Date).toUTCString())}))}startTimeOutTimer(e){this.connectionTimeoutTimer&&this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED),this.pendingSocket=e,this.connectionTimeoutTimer=setTimeout((()=>{this.pendingSocket&&this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)}),this.timeOutLimit)}resetTimeOutTimer(e){var t;if(e==c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)throw clearTimeout(this.connectionTimeoutTimer),null===(t=this.pendingSocket)||void 0===t||t.close(),this.pendingSocket=void 0,g.reportEvent(m.OKXReportType.LOG,"timeout",this.retryCount.toString()),new Error("socket timeout");this.pendingSocket=void 0,clearTimeout(this.connectionTimeoutTimer)}cacheSuccessUrlSelect(){this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(),l.OKXCONNECTOR_CACHE_KEY)}getNextSelectUrl(){return this.selectedUrlIndex+=1,this.selectedUrlIndex=this.selectedUrlIndex%c.OKXCONNECTOR_WS_URL_LIST.length,c.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex]}onVisibleChanged(){return a(this,void 0,void 0,(function*(){if("visible"!==document.visibilityState||(g.logDebug(`get changed ${this.state}, ${this.socket}`),this.state!=c.ConnectorState.Connected||void 0!==this.socket));else{g.logDebug("CONNECTION need reopen");try{yield this.tryRegistOpen()}catch(e){g.logError("regist open failed")}}}))}tryRegistOpen(){return a(this,arguments,void 0,(function*(e=this.url){if(this.connecting)return g.logDebug("tryRegistOpen => connecting state"),new Promise(((e,t)=>{this.events.once("fail",(e=>(g.logDebug("tryRegistOpen => connecting fail listener",e),t(e)))),this.events.once("open",(()=>void 0===this.socket?t(new Error("Connect lost")):e(this.socket)))}));g.logDebug("tryRegistOpen => try registOpen until retry limit is hit");let t=!1;for(;!this.checkMaxRetry()&&!this.socket;)try{g.logDebug("tryRegistOpen => call registOpen, try count:",this.retryCount,t),yield this.registOpen(e,t)}catch(n){g.logDebug("tryRegistOpen => registOpen failed",n),this.retryCount+=1,e=this.getNextSelectUrl(),t=!0}if(g.logDebug("tryRegistOpen => exit while loop",this.retryCount,this.socket),!this.socket&&this.checkMaxRetry())throw g.logDebug("tryRegistOpen => failed to open a socket",this.retryCount,this.socket),this.retryCount=0,this.state=c.ConnectorState.OnError,this.emitError(new Error("tryRegistOpen failed")),new p.OKXConnectError(p.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"Failed to connect")}))}connect(){return a(this,void 0,void 0,(function*(){try{yield this.tryRegistOpen(),document.removeEventListener("visibilitychange",this.onVisibleChanged.bind(this)),document.addEventListener("visibilitychange",this.onVisibleChanged.bind(this))}catch(e){throw g.logDebug("connect => failed to connect",e),e}}))}disconnect(){return a(this,void 0,void 0,(function*(){return this.state=c.ConnectorState.Disconnected,new Promise(((e,t)=>{void 0!==this.socket?(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close(),this.heartbeatTimer&&clearTimeout(this.heartbeatTimer)):e()}))}))}currentStatus(){return{state:this.state,url:this.url}}addListener(e,t,n,r,o){this.listenPayloadHandler&&this.events.removeListener("payload",this.listenPayloadHandler),this.listenPayloadHandler=i=>a(this,void 0,void 0,(function*(){var s;g.logDebug(`<<< get payload ${i}`);let a=(0,u.safeJsonParse)(i);if(a.params&&a.params.data){let i=null===(s=a.params.data)||void 0===s?void 0:s.message,c=!1;if(i&&o){let e=yield o(a.params.data);c=e.isSplitPackage&&!e.finalMessage,e.isSplitPackage&&(e.finalMessage&&e.finalMessage.length>0?(g.logDebug("CONNECT: update raw msg content"),i=e.finalMessage):(g.logDebug("CONNECT: skip raw msg content"),c=!0))}if(!c)try{let o=t(i);void 0===o?(g.logDebug("CONNECT: decrypt undefined"),r(e,"Decrypt undefined")):n(e,o)}catch(t){g.logDebug(`CONNECT: decrypt failed: ${t}`),r(e,t.message)}}})),this.events.on("payload",this.listenPayloadHandler),this.failHandler&&this.events.removeListener("fail",this.failHandler),this.failHandler=t=>{t?(g.logDebug(`CONNECT failed: ${t}`),r(e,t.message)):r(e,"Unkonow error")},this.events.on("fail",this.failHandler)}addPackageParse(e){this.payloadHandler&&this.events.removeListener("payload",this.payloadHandler),this.payloadHandler=t=>a(this,void 0,void 0,(function*(){g.logDebug(`CONNECTION @[${(new Date).toUTCString()}] <<<< received e:${t}`);let n=(0,u.safeJsonParse)(t);yield e(n)})),this.events.on("payload",this.payloadHandler)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}send(e,t){return a(this,void 0,void 0,(function*(){try{void 0===this.socket&&(g.logDebug(`>>> send payload undefined ${t}`),yield e()),g.logDebug(`CONNECTION @[${(new Date).toUTCString()}]>>> send payload ${(0,u.safeJsonStringify)(t)}`),this.socket&&this.socket.send((0,u.safeJsonStringify)(t))}catch(e){this.onError(t.id,e)}}))}getMsgPayloadFromHistory(e){return a(this,void 0,void 0,(function*(){if(void 0===e)return;let t={params:{data:e}},n=(0,u.safeJsonStringify)(e);g.logDebug("get received data from history"),g.logDebug(n),n=(0,u.safeJsonStringify)(t),this.events.emit("payload",n)}))}onOpen(e){this.openHandler&&this.events.removeListener("open",this.openHandler),this.openHandler=()=>a(this,void 0,void 0,(function*(){g.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> ws opened: `),yield e()})),this.events.on("open",this.openHandler),this.cacheSuccessUrlSelect()}}},304:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionManager=void 0;const c=n(5069),l=n(4997),d=n(9221),u=n(4841),h=n(9074),f=n(228),g=n(1734),p=n(8105),m=n(7253),y=n(1370),v=n(6173),b=s(n(458)),C=n(458),w=n(3960),_=n(2369),O=n(8998);t.ConnectionManager=class{constructor(e=void 0){this.events=new f.EventEmitter,this.splitManager=new O.ConnectionSplitPackages("dapp"),this.connectStorage=new g.Storage(d.OKXCONNECTOR_CACHE_KEY_DAPP+e,d.OKXCONNECTOR_CACHE_KEY_DAPP),this.tonsdkConnectStorage=new g.Storage(d.OKXCONNECTOR_TON_KEY+e,d.OKXCONNECTOR_TON_KEY),this.crypto=new m.SessionCrypto;let t=(0,_.isInTMA)();if((0,C.logDebug)("do init:",t),b.reportLog("connection manager do init"),t)try{const e=this.getCachedCryptoKeyPair();(0,C.logDebug)("use same pk:",e),this.crypto=new m.SessionCrypto(e)}catch(e){this.connectStorage.clearCache(),b.reportEvent(w.OKXReportType.LOG,"cache_fail","cache failed")}this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new c.OKXWalletConnector(h.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.connectedWalletPK="",this.currentTopic="",b.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)}refreshPackageId(){let e=Date.now();e==this.packageId&&(this.packageId=e+1),this.packageId=e}saveCryptoKeyPair(e){let t=(0,v.safeJsonStringify)(e);this.connectStorage.encryptStoreMsg(t,d.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){const e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_CRYPTO_KEY);return"string"==typeof e?(b.logDebug("get cached crypto key:"),b.logDebug(e),(0,v.safeJsonParse)(e)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,p.toHexString)(e.publicKey),secretKey:(0,p.toHexString)(e.secretKey)};b.logDebug("save jwt kp");let n=(0,v.safeJsonStringify)(t);b.logDebug(n),this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_JWT_KEY)}getCachedJWTKeyPair(){try{const e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_JWT_KEY);if("string"==typeof e){b.logDebug("get cached jwt kp:"),b.logDebug(e);let t=(0,v.safeJsonParse)(e);return b.logDebug("save jwt kp"),b.logDebug(t),{publicKey:(0,p.hexToByteArray)(t.publicKey),secretKey:(0,p.hexToByteArray)(t.secretKey)}}return(0,y.generateKeyPair)()}catch(e){return b.reportEvent(w.OKXReportType.LOG,"cache_fail","cache failed"),(0,y.generateKeyPair)()}}isWalletPKReady(){return b.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`),this.connectedWalletPK.length>0}makeJWT(e){return a(this,void 0,void 0,(function*(){return yield(0,y.signJWT)(e,u.OKXCONNECTOR_JWT_SIDE,u.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)}))}parsePackage(e){return a(this,arguments,void 0,(function*(e,t=!1){var n,r,o,i,s,c,l,u,h,f,g,p,m;if(this.events.emit(e.id,e),!t){yield this.sendACK(e.id,!0);let t=null===(n=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE))||void 0===n?void 0:n.content;if(t){let n=e;if(null===(o=null===(r=n.params)||void 0===r?void 0:r.data)||void 0===o?void 0:o.messageId){let e=this.splitManager.tryParseMessageSplitPayload(null===(s=null===(i=n.params)||void 0===i?void 0:i.data)||void 0===s?void 0:s.message);if(e){let r={topicId:null===(l=null===(c=n.params)||void 0===c?void 0:c.data)||void 0===l?void 0:l.topic,messageId:null===(h=null===(u=n.params)||void 0===u?void 0:u.data)||void 0===h?void 0:h.messageId,messageObject:e,publishedAt:null===(g=null===(f=n.params)||void 0===f?void 0:f.data)||void 0===g?void 0:g.publishedAt},o=yield this.splitManager.onReceivedPackageCheck(r);o.completeMessageIdList&&o.completeMessageIdList.forEach((e=>a(this,void 0,void 0,(function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}))))}else this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),null===(m=null===(p=n.params)||void 0===p?void 0:p.data)||void 0===m?void 0:m.messageId,t)}}}}))}restoreConnect(e){return a(this,void 0,void 0,(function*(){if(b.reportLog("connection manager restore connection"),b.logDebug(`connectionManager  restoreConenct   ${e}`),"string"!=typeof e||0===e.length)throw new Error("CONNECTION: invalid topic");b.logDebug("connectionManager  restoreConenct   disconnect"),yield this.disconnect(!0),this.connectStorage.saveContent(e,d.OKXCONNECTOR_TOKEN_CACHE),b.logDebug("connectionManager  restoreConenct   conect"),yield this.connect(!0)}))}getConnectInfo(){var e=(0,p.generateTopic)();return b.logDebug(`generate topic token: ${e}`),b.reportLog("connection manager generate connection info"),this.currentTopic=e,{channelId:e,clientId:this.crypto.stringifyKeypair().publicKey}}connect(){return a(this,arguments,void 0,(function*(e=!1){this.timeLog=(new Date).getTime(),(0,C.logDebug)("ConnectTime---enter->",this.timeLog),b.reportLog("connection manager begin connect");let t=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);var n=this.currentTopic;if(b.logDebug(`generate topic token: ${n}`),e){null!=t&&(b.logDebug(`read last connect id: ${t}`),n=t.content);var r=this.connectStorage.getItem(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);r&&(this.connectedWalletPK=r.content,(0,C.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`)),b.reportLog("connection manager do restore connection")}if(e)try{const e=this.getCachedCryptoKeyPair();e&&(this.crypto=new m.SessionCrypto(e))}catch(e){throw b.logError("get crypto key pair from cache failed"),b.reportEvent(w.OKXReportType.LOG,"cache_fail","cache failed"),this.connectStorage.clearCache(),new Error("crypto cache failed")}b.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`),this.connectStorage.saveContent(n,d.OKXCONNECTOR_TOKEN_CACHE);var o=yield this.makeJWT(n);return b.logDebug(`generate jwt token: ${o}`),this.connectStorage.saveContent(o,"jwt"),new Promise(((e,t)=>{this.connector.onOpen((()=>a(this,void 0,void 0,(function*(){b.logDebug("1. connector on open"),b.reportLog("1. connect ws open");const r=(new Date).getTime();(0,C.logDebug)("ConnectTime---open->",r-this.timeLog),this.events.once(this.packageId.toString(),(r=>a(this,void 0,void 0,(function*(){if(r&&r.error){b.logError("failed when login"),b.reportLog("2. connect login failed"),yield this.connector.disconnect();var o=new Error;o.message=r.error.message,o.name=r.error.code.toString(),t(o)}this.refreshPackageId(),this.events.once(this.packageId.toString(),(r=>a(this,void 0,void 0,(function*(){if(r&&r.error){b.logError("failed when subscribe"),b.reportLog("3. connect subscribe failed"),yield this.connector.disconnect();var o=new Error;o.message=r.error.message,o.name=r.error.code.toString(),t(o)}this.refreshPackageId(),b.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`),b.reportLog("4. subscribe callback then send fetch");const i=(new Date).getTime();(0,C.logDebug)("ConnectTime--subscribe callback->",i-this.timeLog),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),n),b.logDebug(`5. splitmanager init: ${this.packageId}`),b.reportLog("5. splitmanager init"),yield this.splitManager.init(this.sendRaw.bind(this)),e()})))),b.logDebug(`3. login callback then send subscribe: ${this.packageId}`),b.reportLog("3. connect subscribe failed");const i=(new Date).getTime();(0,C.logDebug)("ConnectTime---login callback->",i-this.timeLog),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,C.logDebug)("ConnectionManager connect error",e),t(e)}))}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_SUB,params:{topic:n}})})))),b.logDebug("2. login called"),b.reportLog("2. connection manager connect call login"),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,C.logDebug)("ConnectionManager connect error",e),t(e)}))}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_LOGIN,params:{token:o}}),this.connector.addPackageParse((e=>{var t;if(b.logDebug("connect: parse package"),b.logDebug(e),!("params"in e)||!("data"in e.params))return void this.parsePackage(e,!0);let n=null===(t=e.params.data)||void 0===t?void 0:t.message;if(void 0!==n){n=n.replace(/'/g,'"');let e=(0,v.safeJsonParse)(n);"string"!=typeof e&&"clientId"in e&&e.clientId&&e.clientId.length>0&&(this.connectedWalletPK=e.clientId,b.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`),this.connectStorage.saveContent(this.connectedWalletPK,d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()))}this.parsePackage(e,e.method===l.CONNECT_METHOD_RECEIVE)}))})))),this.connector.connect().catch((e=>{(0,C.logDebug)("ConnectionManager connect error",e),t(e)}))}))}))}disconnect(){return a(this,arguments,void 0,(function*(e=!1){yield this.connector.disconnect(),b.reportLog("connect disconnect"),this.connectStorage.clearCache(d.OKXCONNECTOR_TOKEN_CACHE),e||(this.connectStorage.clearCache(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.connectedWalletPK="",(0,C.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`))}))}updateProtocolVersion(e,t){this.splitManager.updateTopicSenderVersion(e,t)}addListener(e,t,n){this.connector.addListener((0,v.safeJsonStringify)(e),(e=>{if(e=e.replace(/'/g,'"'),b.logDebug(`addListener ===> ${e}`),void 0!==e){var t=(0,v.safeJsonParse)(e),n=t.message;let r;return n.trimStart().startsWith("{")?r=n:(t.clientId&&t.clientId.length>0&&(this.connectedWalletPK=t.clientId,this.connectStorage.saveContent(this.connectedWalletPK,d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),b.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`),b.logDebug(`this.cryptoKey  addListener   ${(0,p.toHexString)(this.crypto.keyPair.publicKey)}`),this.saveCryptoKeyPair(this.crypto.stringifyKeypair())),r=this.crypto.decrypt(n,this.connectedWalletPK)),b.logDebug(`addListener ===> ${r}`),r}}),t,n,(e=>new Promise(((t,n)=>a(this,void 0,void 0,(function*(){let n=this.splitManager.tryParseMessageSplitPayload(e.message);if(n){let r={topicId:e.topic,messageId:null==e?void 0:e.messageId,messageObject:n,publishedAt:null==e?void 0:e.publishedAt},o=yield this.splitManager.onReceivedPackageCheck(r);t(o)}else t({isSplitPackage:!1})}))))))}sendRaw(e){return a(this,void 0,void 0,(function*(){b.logDebug(`message send =====> ${e}`),b.reportLog("connect send raw msg");let t=e;b.logDebug(`message send =====encrypt message.length>>>> ${t.length}`);let n=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);b.logDebug(`message send =====topic>>>> ${null==n?void 0:n.content}`),this.refreshPackageId();const r={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:h.CONNECT_JSONRPC_VER,params:{message:{topic:null==n?void 0:n.content,message:t,ttl:h.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),(e=>a(this,void 0,void 0,(function*(){e&&e.error?b.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&b.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r),this.packageId}))}sendEncryptedMsg(e,t){return a(this,arguments,void 0,(function*(e,t,n=h.OKXCONNECTOR_MESSAGE_TTL){this.refreshPackageId();const r={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:h.CONNECT_JSONRPC_VER,params:{message:{topic:e,message:t,ttl:n}}};this.events.once(this.packageId.toString(),(e=>a(this,void 0,void 0,(function*(){e&&e.error?b.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&b.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}send(e){return a(this,arguments,void 0,(function*(e,t=h.OKXCONNECTOR_MESSAGE_TTL){if(b.logDebug(`message send =====> ${e}`),b.reportLog("connect send msg"),!this.isWalletPKReady())throw new Error("connection not finish");let n=this.crypto.encrypt(e,this.connectedWalletPK);b.logDebug(`message send =====encrypt message.length>>>> ${n.length}`),b.reportEvent(w.OKXReportType.LOG,"msg_size",n.length.toString());let r=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);return b.logDebug(`message send =====topic>>>> ${null==r?void 0:r.content}`),yield this.splitManager.sendSplitPackages(null==r?void 0:r.content,n,this.sendEncryptedMsg.bind(this),this.sendRaw.bind(this)),this.packageId}))}sendACK(e,t){return a(this,arguments,void 0,(function*(e,t,n=void 0){if(!0===t){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}else if(n){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,error:{code:n.code,message:n.message}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}}))}sendReceive(e,t,n){return a(this,void 0,void 0,(function*(){const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:n}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}sendFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,(function*(){this.events.once(e,(e=>a(this,void 0,void 0,(function*(){var n,r;if(e.result){var o=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let n=i[e];if(n&&n.topic==t){let e=n.messageId;b.reportLog("5. get fetch result"),this.splitManager.tryParseMessageSplitPayload(n.message)?(yield this.connector.getMsgPayloadFromHistory(n),b.logDebug("skip receive")):(yield this.connector.getMsgPayloadFromHistory(n),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t))}}o&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else b.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),b.logDebug("5. send fetch more"),b.reportLog("5. send fetch more");const n=(new Date).getTime();(0,C.logDebug)("ConnectTime---5->",n-this.timeLog);const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return b.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}cleanCache(){b.reportLog("connection cache clean called"),this.connectStorage.clearCache()}saveSessionContent(e,t){t||this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let n=(0,v.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){try{let t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,v.safeJsonParse)(t)}catch(t){this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}}getCurrentConnectionReady(){let e=!1;try{this.getCachedCryptoKeyPair()&&(e=!0)}catch(e){b.logError("check connection ready failed")}return this.isWalletPKReady()&&e}getCryptoKeyEnable(){let e=!1;try{this.getCachedCryptoKeyPair()&&(e=!0)}catch(e){b.logError("check connection ready failed")}return e}}},8998:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionSplitPackages=void 0;const l=n(9221),d=c(n(3790)),u=n(8105),h=n(6173),f=s(n(458)),g=n(458),p="ConnectionReceiveKey",m="ConnectionSendKey",y="ConnectionSenderVersionKey";t.ConnectionSplitPackages=class{constructor(e){this.splitMessageSendArray=new Map,this.splitMessageReceivedArray=new Map,this.splitMessageSenderVersionMap=new Map,this.splitPackageCache=d.default.createInstance({name:l.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE+e})}init(e){return a(this,void 0,void 0,(function*(){if(yield this.recoverFromCache(),this.splitMessageSendArray.size>0){for(const[t,n]of this.splitMessageSendArray.entries())for(let r=0;r<n.length;){const o=n[r];try{yield e((0,h.safeJsonStringify)(o),t),f.logDebug(`Successfully sent payload: ${(0,h.safeJsonStringify)(o)} to topic: ${t}`),n.splice(r,1)}catch(e){f.logError(`Failed to send payload: ${(0,h.safeJsonStringify)(o)} to topic: ${t}`,e),o.retryCount=(o.retryCount||0)+1,o.retryCount>3?(f.logError(`Payload failed after 3 retries: ${(0,h.safeJsonStringify)(o)}`),n.splice(r,1)):r++}}yield this.syncCache()}}))}tryParseMessageSplitPayload(e){var t;let n;try{if(e.trimStart().startsWith("{")){let r=(0,h.safeJsonParse)(e);if(r&&r.protocol_version&&r.protocol_version>=2){let e=r;e.package_group_id&&(null===(t=e.package_group_id)||void 0===t?void 0:t.length)>0&&(n=r)}}else(0,g.logDebug)("not split packages")}catch(e){(0,g.logDebug)("not split packages")}return n}updateTopicSenderVersion(e,t){return a(this,void 0,void 0,(function*(){this.splitMessageSenderVersionMap.set(e,t),yield this.syncCache(),(0,g.logDebug)("get update topic sender version: ",e,t)}))}sendSplitPackages(e,t,n,r){return a(this,void 0,void 0,(function*(){if(!e)return void f.logError("sendSplitPackages invalid topic");let o=this.splitMessageSenderVersionMap.get(e),i=t.length;try{if(i<63e3)throw new Error(`no need to split (size:${i})`);if(!o||o&&o<2)throw new Error(`version not support split (version: ${o})`);const n=[];let s=63e3;for(let e=0;e<t.length;e+=s)e+s<t.length?n.push(t.slice(e,e+s)):n.push(t.slice(e));let a=(0,u.generateGroupId)(),c=n.map(((t,r)=>({topicId:e,protocol_version:2,total_count:n.length,package_index:r,package_group_id:a,content:t})));this.mergePackageArray(!0,c);for(let t=0;t<c.length;){const n=c[t],o=(0,h.safeJsonStringify)(n);try{yield r(o,e),f.logDebug(`Successfully sent payload: ${o} to topic: ${e}`),c.splice(t,1)}catch(r){f.logError(`Failed to send payload: ${o} to topic: ${e}`,r),n.retryCount=(n.retryCount||0)+1,n.retryCount>3?(f.logError(`Payload failed after 3 retries: ${o}`),c.splice(t,1)):t++}}this.splitMessageSendArray.set(e,[]),yield this.syncCache()}catch(r){(0,g.logDebug)("send split packages no split"),(0,g.logDebug)(r),yield n(e,t)}}))}onReceivedPackageCheck(e){return a(this,void 0,void 0,(function*(){this.mergePackageArray(!1,[e]);let t=new Map,n=e.topicId;this.splitMessageReceivedArray.forEach(((n,r)=>{r==e.topicId&&n.forEach((e=>{if(e.messageObject.package_group_id){let n=t.get(e.messageObject.package_group_id);n||(n=new Array),n.push(e),t.set(e.messageObject.package_group_id,n)}}))})),(0,g.logDebug)("on received message, check message cache");let r={isSplitPackage:!1};if(e.messageObject.package_group_id){r.isSplitPackage=!0;let o=t.get(e.messageObject.package_group_id);if(null==o?void 0:o.length){let t=new Set;if(o.forEach((e=>{void 0!==e.messageObject.package_index&&t.add(e.messageObject.package_index)})),t.size==e.messageObject.total_count){o.sort(((e,t)=>!e.messageObject.package_index&&0!==e.messageObject.package_index||!t.messageObject.package_index&&0!==t.messageObject.package_index?0:e.messageObject.package_index-t.messageObject.package_index));let e=o.reduce(((e,t)=>(e.push(t.messageObject.content),e)),[]),t=o.reduce(((e,t)=>(e.push(t.messageId),e)),[]);r.isSplitPackage=!0,r.finalMessage=e.join(""),r.completeMessageIdList=t;let i=this.splitMessageReceivedArray.get(n);i&&(i=i.filter((e=>!t.includes(e.messageId))),this.splitMessageReceivedArray.set(n,i)),yield this.syncCache()}}}return r}))}mergePackageArray(e,t){return a(this,void 0,void 0,(function*(){if((0,g.logDebug)("append sending array"),e){let e=t.filter((e=>{let t=e.topicId,n=!0,r=this.splitMessageSendArray.get(t);return null==r||r.forEach((t=>{t.package_group_id==e.package_group_id&&t.total_count==e.total_count&&t.package_index==e.package_index&&(n=!1)})),n}));if(e.length>0){let t=e[0].topicId,n=this.splitMessageSendArray.get(t);n||(n=new Array),n=n.concat(e),this.splitMessageSendArray.set(t,n),(0,g.logDebug)("append sending array (after filted): ",n)}}else{let e=t.filter((e=>{let t=e.topicId,n=!0,r=this.splitMessageReceivedArray.get(t);return null==r||r.forEach((t=>{t.messageId==e.messageId&&(n=!1)})),n}));if(e.length>0){let t=e[0].topicId,n=this.splitMessageReceivedArray.get(t);n||(n=new Array),n=n.concat(e),this.splitMessageReceivedArray.set(t,n),(0,g.logDebug)("append received array (after filted): ",n)}}}))}syncCache(){return a(this,void 0,void 0,(function*(){(0,g.logDebug)("sync split message cache"),yield this.splitPackageCache.setItem(p,this.splitMessageReceivedArray),yield this.splitPackageCache.setItem(m,this.splitMessageSendArray),yield this.splitPackageCache.setItem(y,this.splitMessageSenderVersionMap)}))}recoverFromCache(){return a(this,void 0,void 0,(function*(){let e=yield this.splitPackageCache.getItem(p);this.splitMessageReceivedArray=e||new Map;let t=yield this.splitPackageCache.getItem(m);this.splitMessageSendArray=t||new Map;let n=yield this.splitPackageCache.getItem(y);this.splitMessageSenderVersionMap=n||new Map}))}}},9074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectorState=t.CONNECT_PROTOCOL_VER=t.CONNECT_JSONRPC_VER=t.OKXCONNECTOR_MESSAGE_TTL=t.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE=t.OKXCONNECTOR_WS_URL_LIST=t.OKXCONNECTOR_WS_URL_IDX_KEY=t.OKXCONNECTOR_WS_URL_3=t.OKXCONNECTOR_WS_URL_2=t.OKXCONNECTOR_WS_URL_1=t.EVENT_EMITTER_MAX_LISTENERS=t.OKXCONNECTOR_PROTOCOL_VERSION=void 0,t.OKXCONNECTOR_PROTOCOL_VERSION=2,t.EVENT_EMITTER_MAX_LISTENERS=10,t.OKXCONNECTOR_WS_URL_1="wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_2="wss://wsdexpri.okx.ac/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_3="wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_IDX_KEY="wuik",t.OKXCONNECTOR_WS_URL_LIST=[t.OKXCONNECTOR_WS_URL_1,t.OKXCONNECTOR_WS_URL_2,t.OKXCONNECTOR_WS_URL_3],t.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE={TIME_OUT:3990,CANCELED:3991,FINISHED:3992},t.OKXCONNECTOR_MESSAGE_TTL=3e5,t.CONNECT_JSONRPC_VER="2.0",t.CONNECT_PROTOCOL_VER=2,t.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3,OnError:4}},3313:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Engine=void 0;const o=n(9599),i=n(9074),s=n(9088),a=n(2638),c=n(304),l=n(7422),d=n(1398);t.Engine=class{constructor(e){this.connectors=[],this.useConnector=void 0,this.connectionManager=new c.ConnectionManager(e),this.addConnectionListener()}getConnector(){if(this.useConnector)return this.useConnector}setAccountChangeListener(e){this.accountChangeListener=e,(0,s.logDebug)("setAccountChangeListener: engine",e);for(const t of this.connectors)t.setAccountChangeListener(e)}registerConnector(e){this.connectors=e;for(const t of e)t.setConnectionManager(this.connectionManager)}hasWsConnector(){for(const e of this.connectors)if(this.isWsConnector(e))return!0;return!1}isWsConnector(e){return!!e&&(e.getTag()===a.OKX_TG_WALLET||e.getTag()===a.OKX_APP_WALLET)}isInjectedConnector(e){return!!e&&e.getTag()===a.OKX_INJECT_WALLET}universalConnect(e,t,n){return r(this,void 0,void 0,(function*(){return this.addConnectionListener(),new Promise(((i,c)=>r(this,void 0,void 0,(function*(){var r,u,h,f;try{(0,s.logDebug)("engine universalConnect request :",JSON.stringify(e)),(0,s.logDebug)("engine universalConnect sessionConfig :",JSON.stringify(t));let p=[];e.forEach((e=>{let t=e.name;(t.startsWith("requestAccounts")||t.startsWith("ton"))&&p.push(e)})),(0,s.logDebug)("engine universalConnect universalRequest :",JSON.stringify(p));const m=this.connectionManager.getConnectInfo(),y=Date.now().toString();let v=null!==(r=t.openUniversalUrl)&&void 0!==r&&r;const b={protocolVer:Number(o.tonConnectSdkVersion),topic:m.channelId,clientId:m.clientId,requestId:y,dAppInfo:t.dappInfo,requests:p,redirect:null!==(u=null==t?void 0:t.redirect)&&void 0!==u?u:"none"},C=(0,s.encodeConnectParams)(b);b.redirect=null!==(h=null==t?void 0:t.redirect)&&void 0!==h?h:"none",(0,s.logDebug)("engine universalConnect ==>>universalConnectRequest:",JSON.stringify(b));var g="";v&&(g=(0,s.getOKXLink)(b,t.useMini,t.tmaReturnUrl),(0,s.logDebug)("engine universalConnect ==>>openOKXLink:",g));const w=()=>1==this.connectors.length&&this.connectors[0].getTag()===a.OKX_INJECT_WALLET?this.connectors[0].openWallet({connectRequest:b}):t.useMini?(0,s.openOKXTMAWalletlinkWithFallback)(g):(0,s.useShortLink)()?(0,s.openOKXUniversalLink)(g):(0,s.openOKXDeeplinkWithFallback)(g);(0,s.logDebug)("engine universalConnect ==>>openOKXLink:",g);const _=(0,s.isIos)();if(_&&v&&((0,s.logDebug)(`engine universalConnect ==>>isIOS: ${_}   openUniversalLink: ${v}`),w()),this.addOnConnectResultListener((e=>{var n,r,u,h;try{this.addOnConnectResultListener(void 0);let c=e;if("connect"==c.method){(0,s.logDebug)("engin  universalConnect success connectResponse:>>>",JSON.stringify(c));let e=(0,l.buildNameSpacesByConnectResponse)(c);if(!e)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);{let l;var f;switch((null===(r=null===(n=c.payload)||void 0===n?void 0:n.responses)||void 0===r?void 0:r[0])&&"walletName"in c.payload.responses[0]&&(l=c.payload.responses[0].walletName),null===(u=c.payload)||void 0===u?void 0:u.wallet.appName){case d.OKXWalletName:f=a.OKX_APP_WALLET;break;case d.OKXMiniWalletName:f=a.OKX_TG_WALLET;break;case d.OKXInjectWalletName:f=a.OKX_INJECT_WALLET}var g=this.connectors.find((e=>e.getTag()===f));if(!g)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);let h=Object.assign({topic:m.channelId,sessionConfig:t,namespaces:e},c.payload&&{wallet:Object.assign(Object.assign({},c.payload.wallet),{walletName:l})}),p=c.payload.responses.find((e=>"requestAccounts"===e.name));p&&p.connectRequestMethods&&(h.signResponse=p.connectRequestMethods),(0,s.logDebug)("engin  universalConnect success session:>>>",JSON.stringify(h)),this.isWsConnector(g)&&((0,s.logDebug)("engine update protocol version"),this.connectionManager.updateProtocolVersion(m.channelId,c.payload.wallet.maxProtocolVersion)),i(h),this.setUseConnector(g)}}else if("connect_error"==c.method&&null!=(null===(h=c.payload)||void 0===h?void 0:h.code))throw new o.OKXConnectError(c.payload.code)}catch(e){c(e)}})),this.hasWsConnector()){yield null===(f=this.connectionManager)||void 0===f?void 0:f.disconnect(!1);try{yield this.connectionManager.connect()}catch(e){throw(0,s.logDebug)("Engine universalConnect error",e),e}(0,s.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",n),this.sendSession(C)}if(!_&&v&&w(),(0,s.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",n),n){const e={connectRequest:b,redirect:t.redirect,tmaReturnUrl:t.tmaReturnUrl};(0,s.logDebug)("universalConnect connectInfoAndUrl info :",JSON.stringify(e)),n(e)}}catch(e){(0,s.logDebug)("Engine universalConnect catch error",e),c(e)}}))))}))}addOnConnectResultListener(e){for(const t of this.connectors)this.isInjectedConnector(t)&&t.setOnConnectResultListener(e);this.connectResultListener=e}openWallet(e,t){var n;t?t.openWallet(e):null===(n=this.getConnector())||void 0===n||n.openWallet(e)}send(e,t,n){return r(this,void 0,void 0,(function*(){var r;return null===(r=this.getConnector())||void 0===r?void 0:r.send(e,t,n)}))}clearData(){var e;null===(e=this.getConnector())||void 0===e||e.clearData()}addDisconnectListener(e){var t;null===(t=this.getConnector())||void 0===t||t.addDisconnectListener(e)}saveSessionContent(e,t){this.connectionManager.saveSessionContent(e,t)}getSessionContent(e){var t,n=this.connectionManager.getSessionContent(e);if(n){var r="";if("object"==typeof n&&(r=(0,a.getTagByappName)(null===(t=n.wallet)||void 0===t?void 0:t.appName)),this.connectors.find((e=>e.getTag()===r)))return n}}setConnectConnector(e){var t=(0,a.getTagByappName)(null==e?void 0:e.appName);t&&this.setUseConnector(this.connectors.find((e=>e.getTag()===t)))}setUseConnector(e){this.useConnector=e,this.isWsConnector(e)&&e.addConnectionListener()}setSessionConnectingListener(e){this.sessionConnectingListener=e}restoreconnect(e,t){return r(this,void 0,void 0,(function*(){var n;yield null===(n=this.getConnector())||void 0===n?void 0:n.restoreconnect(e,t)}))}restoreconnectFromTopic(e){return r(this,void 0,void 0,(function*(){this.isWsConnector(this.getConnector())&&(yield this.getConnector().restoreconnectFromTopic(e))}))}getCurrentConnectionReady(e){var t;return!!(null===(t=this.getConnector())||void 0===t?void 0:t.getCurrentConnectionReady(e))}connectManagerDisconnect(){return r(this,arguments,void 0,(function*(e=!1){var t;yield null===(t=this.getConnector())||void 0===t?void 0:t.connectManagerDisconnect(e)}))}sendSession(e){return r(this,void 0,void 0,(function*(){(0,s.logDebug)("[Connect] sendSession called:",e);const t=Date.now().toString();let n={method:"session_info",params:{protocolVersion:i.CONNECT_PROTOCOL_VER,sessionInfo:e}};yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},n),{requestId:t})))}))}addConnectionListener(){var e;null===(e=this.connectionManager)||void 0===e||e.addListener("sdk_response",((e,t)=>{var n=(0,s.safeJsonParse)(t);(0,s.logDebug)(`Engine ==>> addListener ==> success ==> ${n}`),"connect"===n.method||"connect_error"===n.method?this.connectResultListener&&this.connectResultListener(n):"session_connecting"===n.method&&((0,s.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener"),this.sessionConnectingListener&&((0,s.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener not null"),this.sessionConnectingListener(),this.sessionConnectingListener=void 0))}),(function(){}))}}},5023:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Engine=t.WalletConnectionManager=t.ConnectionManager=t.OKXWalletConnector=void 0;var r=n(5069);Object.defineProperty(t,"OKXWalletConnector",{enumerable:!0,get:function(){return r.OKXWalletConnector}});var o=n(304);Object.defineProperty(t,"ConnectionManager",{enumerable:!0,get:function(){return o.ConnectionManager}});var i=n(6083);Object.defineProperty(t,"WalletConnectionManager",{enumerable:!0,get:function(){return i.WalletConnectionManager}});var s=n(3313);Object.defineProperty(t,"Engine",{enumerable:!0,get:function(){return s.Engine}});var a=n(1734);Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return a.Storage}})},1370:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MULTICODEC_ED25519_LENGTH=t.MULTICODEC_ED25519_HEADER=t.MULTICODEC_ED25519_BASE=t.MULTICODEC_ED25519_ENCODING=t.DID_METHOD=t.DID_PREFIX=t.DID_DELIMITER=t.KEY_PAIR_SEED_LENGTH=t.DATA_ENCODING=t.JSON_ENCODING=t.JWT_ENCODING=t.JWT_DELIMITER=t.JWT_IRIDIUM_TYP=t.JWT_IRIDIUM_ALG=t.JWTHeaderType=void 0,t.generateKeyPair=function(){return h.default.sign.keyPair()},t.decodeJSON=p,t.encodeJSON=m,t.encodeIss=y,t.decodeIss=v,t.encodeSig=b,t.decodeSig=C,t.encodeData=w,t.decodeData=function(e){var n,r;const o=(0,g.okxtoString)(e,t.DATA_ENCODING).split(t.JWT_DELIMITER);return{header:p(null!==(n=o[0])&&void 0!==n?n:"{}"),payload:p(null!==(r=o[1])&&void 0!==r?r:"{}")}},t.encodeJWT=_,t.decodeJWT=O,t.signJWT=function(e,n,r,o){return a(this,arguments,void 0,(function*(e,n,r,o,i=Math.floor(Date.now())){const s={alg:t.JWT_IRIDIUM_ALG,typ:t.JWT_IRIDIUM_TYP},a={iss:y(o.publicKey),sub:e,aud:n,act:"authenticate user",iat:i,exp:i+r},c=w({header:s,payload:a});return f.logDebug(`get sec kp: ${o.secretKey} {${o.secretKey.length}}`),_({header:s,payload:a,signature:h.default.sign.detached(c,o.secretKey)})}))},t.verifyJWT=function(e){return a(this,void 0,void 0,(function*(){const{header:n,payload:r,data:o,signature:i}=O(e);if(n.alg!==t.JWT_IRIDIUM_ALG||n.typ!==t.JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");const s=v(r.iss);return l.verify(s,o,i)}))};const l=s(n(4904)),d=n(6173),u=n(8105),h=c(n(8947)),f=s(n(458)),g=n(6910);function p(e){return(0,d.safeJsonParse)((0,g.okxtoString)((0,g.okxfromString)(e,t.JWT_ENCODING),t.JSON_ENCODING))}function m(e){return(0,g.okxtoString)((0,g.okxfromString)((0,d.safeJsonStringify)(e),t.JSON_ENCODING),t.JWT_ENCODING)}function y(e){f.logDebug(`publicKey: ${(0,u.toHexString)(e)}`);var n=(0,g.okxtoString)(e,t.MULTICODEC_ED25519_ENCODING);return[t.DID_PREFIX,t.DID_METHOD,n].join(t.DID_DELIMITER)}function v(e){const[n,r,o]=e.split(t.DID_DELIMITER);if(n!==t.DID_PREFIX||r!==t.DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if(void 0===o)throw new Error("multicodec is undefined");const i=(0,g.okxfromString)(o,t.MULTICODEC_ED25519_ENCODING);if(void 0===i||i.length!==t.MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return i}function b(e){return(0,g.okxtoString)(e,t.JWT_ENCODING)}function C(e){return(0,g.okxfromString)(e,t.JWT_ENCODING)}function w(e){return(0,g.okxfromString)([m(e.header),m(e.payload)].join(t.JWT_DELIMITER),t.DATA_ENCODING)}function _(e){return[m(e.header),m(e.payload),b(e.signature)].join(t.JWT_DELIMITER)}function O(e){var n,r,o;const i=e.split(t.JWT_DELIMITER);return{header:p(null!==(n=i[0])&&void 0!==n?n:"{}"),payload:p(null!==(r=i[1])&&void 0!==r?r:"{}"),signature:C(null!==(o=i[2])&&void 0!==o?o:"{}"),data:(0,g.okxfromString)(i.slice(0,2).join(t.JWT_DELIMITER),t.DATA_ENCODING)}}t.JWTHeaderType="dapp",t.JWT_IRIDIUM_ALG="EdDSA",t.JWT_IRIDIUM_TYP="JWT",t.JWT_DELIMITER=".",t.JWT_ENCODING="base64url",t.JSON_ENCODING="utf8",t.DATA_ENCODING="utf8",t.KEY_PAIR_SEED_LENGTH=32,t.DID_DELIMITER=":",t.DID_PREFIX="did",t.DID_METHOD="key",t.MULTICODEC_ED25519_ENCODING="base58btc",t.MULTICODEC_ED25519_BASE="z",t.MULTICODEC_ED25519_HEADER="K36",t.MULTICODEC_ED25519_LENGTH=32},4841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXCONNECTOR_JWT_TTL=t.OKXCONNECTOR_JWT_WALLET_SIDE=t.OKXCONNECTOR_JWT_SIDE=void 0,t.OKXCONNECTOR_JWT_SIDE="wallet",t.OKXCONNECTOR_JWT_WALLET_SIDE="dapp",t.OKXCONNECTOR_JWT_TTL=864e5},7422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildNameSpacesByConnectResponse=function(e){return o(e)},t.buildRequestAccountNameSpacesByConnectResponse=o,t.buildAccountNameSpaces=i;const r=n(458);function o(e){let t={};(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse start connectResponse111>>",JSON.stringify(e));let n=e.payload.responses.find((e=>"requestAccounts"===e.name));if(n&&n.accounts){let e=[];for(const t of n.accounts)"ton"===t.namespace?t.data&&t.data.ton_addr&&t.data.ton_addr.address&&t.data.ton_addr.address.length>0&&((0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse start TON>>",JSON.stringify(t)),e.push(t)):((0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse start other>>",JSON.stringify(t)),e.push(t));n.accounts=e}const o=e.payload.responses.find((e=>"ton_addr"===e.name)),s=e.payload.responses.find((e=>"ton_proof"===e.name));if(o&&!n){(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse adapt ton data >>");let e=o.address;e="ton:"+o.network+":"+e;let t={ton_addr:o};s&&(t.ton_proof=s),n={name:"requestAccounts",accounts:[{namespace:"ton",addresses:[e],methods:["ton_sendTransaction"],extra:{},data:t}]}}return(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>",JSON.stringify(n)),i(n.accounts,t),t}function i(e,t){e.forEach((e=>{var n=[],o=[];e.addresses.forEach((e=>{var t=e.split(":");if((0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse addressArr>>",t.length),t.length>=3){let i=t.slice(0,2).join(":");n.push(i),o.push(e),(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse chain:>>",i,"addressItem:",e)}})),e.data&&e.data.ton_addr&&(e.data.ton_addr.name="ton_addr"),e.data&&e.data.ton_proof&&(e.data.ton_proof.name="ton_proof"),t[e.namespace]={chains:n,accounts:o,methods:e.methods,extra:e.extra,payload:e.data},(0,r.logDebug)("buildRequestAccountNameSpacesByConnectResponse result>>",JSON.stringify(t))}))}},1734:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=void 0;const c=n(9221),l=a(n(8947)),d=n(8105),u=n(9088),h=s(n(458)),f=n(9088),g=n(1396);class p{constructor(e,t=void 0){const n=(0,d.resolveLocalStorage)();this.storeKey="",this.cipherIV="",this.subKey=e,h.logDebug("--------get current local storage --------"),h.logDebug(n),this.synchronizedCache()}checkAndUpgradeCache(e,t){if(e&&e.length>0&&t&&t.length>0){h.logDebug("--------get current local storage --------"),h.logDebug(localStorage);const n=localStorage.getItem(p.cacheKey+e);if(null==n)return void h.logDebug("no pre cache content");h.logDebug(n),(null==n?void 0:n.length)>0&&(h.logDebug("write in cache content: ",e,"->",t),localStorage.setItem(p.cacheKey+t,n),h.logDebug("clean in cache content: ",e),localStorage.removeItem(p.cacheKey+e))}else h.logDebug("no pre cache key:",e)}saveContent(e,t,n="-"){let r={id:n,timestamp:Date.now().toString(),content:e};this.saveItem(r,t)}saveItem(e,t){let n=p.cacheKey+this.subKey;const r=(0,d.resolveLocalStorage)();h.logDebug(this.cache),h.logDebug(`get cache obj: ${this.cache}, ${t}, ${e}`),this.cache[t]=e;let o=(0,u.safeJsonStringify)(this.cache);h.logDebug(`STORAGE: ${t} @ ${this.cache}`),r.setItem(n,o)}getItem(e){return h.logDebug(`STORAGE >> getItem: ${e} @ ${this.cache}`),this.cache[e]}synchronizedCache(){const e=localStorage.getItem(p.cacheKey+this.subKey);if(null==e)return h.logDebug("with no cache"),void(this.cache={});if(h.logDebug(e),(null==e?void 0:e.length)>0){var t=(0,u.safeJsonParse)(e);this.cache=t}h.logDebug(`get cache obj: ${this.cache}`),void 0!==this.cache&&null!=this.cache||(this.cache={})}getCachedPBKDF2InfoKey(){var e,t,n,r;if(this.storeKey.length>0&&(null===(e=this.cipherIV)||void 0===e?void 0:e.length)>0)return{pw:this.storeKey,iv:this.cipherIV};let o=null===(t=this.getItem(c.OKXCONNECTOR_STORAGER_CRYPTO_SALT))||void 0===t?void 0:t.content;o||(o=(0,d.toHexString)(l.default.randomBytes(24)),this.saveContent(o,c.OKXCONNECTOR_STORAGER_CRYPTO_SALT));let i=null===(n=this.getItem(c.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD))||void 0===n?void 0:n.content;i||(i=(0,d.toHexString)(l.default.randomBytes(32)),this.saveContent(i,c.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD));let s=null===(r=this.getItem(c.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV))||void 0===r?void 0:r.content;if(!s){let e=l.default.randomBytes(16);s=(0,d.toHexString)(e),this.saveContent(s,c.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)}return this.cipherIV=s,this.storeKey=(0,g.PBKDF2)(i,o,{iterations:10}).toString(),{pw:this.storeKey,iv:this.cipherIV}}encryptStoreMsg(e,t){(0,f.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);let n=this.getCachedPBKDF2InfoKey();(0,f.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);var r=g.AES.encrypt(e,n.pw).toString();this.saveContent(r,t),(0,f.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`)}getAndDecrypt(e){(0,f.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);let t=this.getItem(e);if(t&&t.content){let e=this.getCachedPBKDF2InfoKey();(0,f.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);let n=g.AES.decrypt(t.content,e.pw).toString(g.enc.Utf8);return(0,f.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`),n}return null}clearCache(e=void 0){if(void 0===e){const e=(0,d.resolveLocalStorage)();this.cache={};let t=p.cacheKey+this.subKey;e.setItem(t,"")}else{let t=p.cacheKey+this.subKey;const n=(0,d.resolveLocalStorage)();h.logDebug(this.cache),this.cache[e]=null;let r=(0,u.safeJsonStringify)(this.cache);h.logDebug(`STORAGE: clean key ${e} @ ${this.cache}`),n.setItem(t,r)}}}t.Storage=p,p.cacheKey="OKXStorageKey"},9221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE=t.OKXCONNECTOR_STORAGE_CIPHER_METHOD=t.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV=t.OKXCONNECTOR_STORAGER_CRYPTO_SALT=t.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD=t.OKXCONNECTOR_TON_KEY=t.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE=t.OKXCONNECTOR_TOKEN_CACHE=t.OKXCONNECTOR_JWT_KEY=t.OKXCONNECTOR_SESSION_PREFIX_KEY=t.OKXCONNECTOR_CRYPTO_KEY=t.OKXCONNECTOR_CACHE_KEY_DAPP=t.OKXCONNECTOR_CACHE_KEY=void 0,t.OKXCONNECTOR_CACHE_KEY="ck",t.OKXCONNECTOR_CACHE_KEY_DAPP="ck_dapp",t.OKXCONNECTOR_CRYPTO_KEY="cck_k",t.OKXCONNECTOR_SESSION_PREFIX_KEY="cspk_",t.OKXCONNECTOR_JWT_KEY="cjk_k",t.OKXCONNECTOR_TOKEN_CACHE="ct",t.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE="csp",t.OKXCONNECTOR_TON_KEY="OKXStorage_ctc",t.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD="scp",t.OKXCONNECTOR_STORAGER_CRYPTO_SALT="scs",t.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV="scpc",t.OKXCONNECTOR_STORAGE_CIPHER_METHOD="aes-256-cbc",t.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE="okx_connect_split_cache_key"},13:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnectionManagerEvent=t.WalletConnectionManagerTopicInfoCacheKey=void 0,t.WalletConnectionManagerTopicInfoCacheKey="wcmtic",t.WalletConnectionManagerEvent={RECEIVE_REQUEST:"payload"}},6083:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),s=0;s<n.length;s++)"default"!==n[s]&&o(t,e,n[s]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnectionManager=void 0;const c=n(5069),l=n(4997),d=n(9221),u=n(4841),h=n(9074),f=n(13),g=n(8998),p=n(228),m=n(1734),y=n(8105),v=n(7253),b=n(1370),C=n(6173),w=s(n(458)),_=n(458),O=n(9088);t.WalletConnectionManager=class{constructor(){this.events=new p.EventEmitter,this.communicateEvents=new p.EventEmitter,this.splitManager=new g.ConnectionSplitPackages("wallet"),w.logDebug("connect manager construct"),this.connectStorage=new m.Storage(d.OKXCONNECTOR_CACHE_KEY),this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new c.OKXWalletConnector(h.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.sessionCryptoInfoMap=new Map,this.inLogin=!1,this.isLogined=!1}refreshPackageId(e=0){let t=Date.now()+e;t==this.packageId&&(this.packageId=t+1),this.packageId=t}saveCryptoKeyPair(e,t){let n=(0,C.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_CRYPTO_KEY+e)}getCachedCryptoKeyPair(e){const t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_CRYPTO_KEY+e);return"string"==typeof t?(w.logDebug("get cached crypto key:"),w.logDebug(t),(0,C.safeJsonParse)(t)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,y.toHexString)(e.publicKey),secretKey:(0,y.toHexString)(e.secretKey)};w.logDebug("save jwt kp");let n=(0,C.safeJsonStringify)(t);w.logDebug(n),this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_JWT_KEY),w.logDebug("after save jwt kp")}getCachedJWTKeyPair(){const e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_JWT_KEY);if("string"==typeof e){w.logDebug("get cached jwt kp:"),w.logDebug(e);let t=(0,C.safeJsonParse)(e);return w.logDebug("save jwt kp"),w.logDebug(t),{publicKey:(0,y.hexToByteArray)(t.publicKey),secretKey:(0,y.hexToByteArray)(t.secretKey)}}return(0,b.generateKeyPair)()}isTopicPublicKeyExist(e){return w.logDebug(`isTopicPublicKeyExist  ===> ${e}`),this.sessionCryptoInfoMap.get(e)}makeJWT(e){return a(this,void 0,void 0,(function*(){return yield(0,b.signJWT)(e,u.OKXCONNECTOR_JWT_WALLET_SIDE,u.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)}))}parseInternalMsg(e){try{let t=(0,C.safeJsonParse)(e)["ivur-igbfft-ptjip"];if(t&&t.length>0)return(0,O.base64decode)(t,!0).toString()}catch(e){w.logError("parse internal msg",e)}}updateClientId(e,t){let n=this.sessionCryptoInfoMap.get(e);if((0,_.logDebug)("updateClientId",n,e,t),n&&t&&t.length>0){if(n.cid){let r=(0,y.getLastSixMd5Hash)(t);n.cid==r?n.dappPublicKey=t:w.logError("cid check failed",n,e,t)}else n.dappPublicKey=t;this.syncCacheSessionInfo()}return!1}parsePackage(e,t){return a(this,arguments,void 0,(function*(e,t,n=!1){var r,o,i,s,c,l,d,u,h,f,g,p,m,y,v,b,E;this.events.emit(t.id,t);let S=this.sessionCryptoInfoMap.get(e);w.logDebug("get sessionInfo for decrypt topic:",e),w.logDebug("get sessionInfo for decrypt:",t.id,e,S,this.sessionCryptoInfoMap);let N=!1;if(S&&t.params.data&&(null===(r=t.params.data)||void 0===r?void 0:r.message))if(null===(o=t.params.data)||void 0===o?void 0:o.isInternalData){let e=null===(i=t.params.data)||void 0===i?void 0:i.message,n=null===(s=t.params.data)||void 0===s?void 0:s.topic,r=this.parseInternalMsg(e);(0,_.logDebug)("parse internal origin: ",r),r&&r.length>0&&this.communicateEvents.emit("origin",r,n)}else try{let n=null===(c=t.params.data)||void 0===c?void 0:c.message;if(n.trimStart().startsWith("{")){let r=this.splitManager.tryParseMessageSplitPayload(n);if(r){(0,_.logDebug)("parse split msg object: ",r),N=!0;let n={topicId:null===(d=null===(l=t.params)||void 0===l?void 0:l.data)||void 0===d?void 0:d.topic,messageId:null===(h=null===(u=t.params)||void 0===u?void 0:u.data)||void 0===h?void 0:h.messageId,messageObject:r,publishedAt:null===(g=null===(f=t.params)||void 0===f?void 0:f.data)||void 0===g?void 0:g.publishedAt},o=yield this.splitManager.onReceivedPackageCheck(n);if(o.completeMessageIdList&&o.completeMessageIdList.forEach((t=>a(this,void 0,void 0,(function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),t,e)})))),o.finalMessage){let t=S.crypto.decryptWallet(o.finalMessage,S.dappPublicKey);(0,_.logDebug)("<<< receive msg from split:",e,t),this.communicateEvents.emit(e,t)}}else{let t=(0,C.safeJsonParse)(n);if(t.method){if("session_info"==t.method){let n=t.params.sessionInfo,r=(0,O.base64decode)(n,!1);(0,_.logDebug)("wallet connection manager requset base64Content:",r),(0,_.logDebug)("base64Content:"+r);let o=r.toObject();this.updateClientId(e,o.clientId)}(0,_.logDebug)("<<< parse raw msg:",e,t),this.communicateEvents.emit(e,n)}}}else{let n=S.crypto.decryptWallet(null===(p=t.params.data)||void 0===p?void 0:p.message,S.dappPublicKey);(0,_.logDebug)("<<< receive msg:",e,n),this.communicateEvents.emit(e,n)}}catch(n){let r=S.crypto.decryptWallet(null===(m=t.params.data)||void 0===m?void 0:m.message,S.dappPublicKey);(0,_.logDebug)("<<< receive msg:",e,r),this.communicateEvents.emit(e,r)}if(!n&&(yield this.sendACK(t.id,!0),e&&!N)){let n=t;(null===(v=null===(y=n.params)||void 0===y?void 0:y.data)||void 0===v?void 0:v.messageId)&&(this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),null===(E=null===(b=n.params)||void 0===b?void 0:b.data)||void 0===E?void 0:E.messageId,e))}}))}recovrySessionInfoFromCache(){let e=this.connectStorage.getAndDecrypt(f.WalletConnectionManagerTopicInfoCacheKey);if(w.logDebug("get cached sessionInfos:",e),e){let t=(0,C.safeJsonParse)(e);for(let e in t){let n=t[e];w.logDebug("make topicItem:",n);let r={topic:e,crypto:new v.SessionCrypto({publicKey:n.cryptoKeyPair.publicKey,secretKey:n.cryptoKeyPair.secretKey}),dappPublicKey:n.dappPublicKey,cid:n.cid};this.sessionCryptoInfoMap.set(e,r)}}w.logDebug("get cached sessionInfos map:",this.sessionCryptoInfoMap)}syncCacheSessionInfo(){let e={};for(let[t,n]of this.sessionCryptoInfoMap)w.logDebug("for each Keys",t),n&&(e[t]={cryptoKeyPair:n.crypto.stringifyKeypair(),dappPublicKey:n.dappPublicKey,cid:n.cid});let t=(0,C.safeJsonStringify)(e);w.logDebug("sync cache sessionInfos:",t),this.connectStorage.encryptStoreMsg(t,f.WalletConnectionManagerTopicInfoCacheKey)}cacheSessionInfo(e,t,n=!0){let r=t.dappPublicKey,o=[];for(let[e,t]of this.sessionCryptoInfoMap)w.logDebug("for each Keys",e),t.dappPublicKey==r&&(w.logDebug("duplicated dapp public key:",e,r),o.push(e));for(let[e,t]of this.sessionCryptoInfoMap)o.includes(e)&&this.sessionCryptoInfoMap.delete(e);return w.logDebug("cleaned connect session cache:",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.set(e,t),w.logDebug("cache sessionInfo:",e,t,this.sessionCryptoInfoMap),n&&this.syncCacheSessionInfo(),o}updateProtocolVersion(e,t){this.splitManager.updateTopicSenderVersion(e,t)}appendTopic(e,t,n){return a(this,void 0,void 0,(function*(){return(0,_.logDebug)("4.1. get append Topic:",e),new Promise(((r,o)=>a(this,void 0,void 0,(function*(){if(!this.isLogined){var i=new Error;return i.message="connection is not logined",i.name="append error",void o(i)}let s={topic:e,crypto:new v.SessionCrypto,dappPublicKey:t||"",cid:n},a=this.cacheSessionInfo(e,s,!1);yield this.subscribeTopics(Array.from([e])),this.refreshPackageId(),w.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${e}`),w.reportLog("5. subscribe callback then fetch append message");const c=(new Date).getTime();(0,_.logDebug)("Append --subscribe callback->",c-this.timeLog),r(a)}))))}))}confirmAppendingTopics(){this.syncCacheSessionInfo()}connect(){return a(this,void 0,void 0,(function*(){this.timeLog=(new Date).getTime(),(0,_.logDebug)("[Wallet] ConnectTime---enter->",this.timeLog),w.reportLog("wallet connect connect called");let e=Date.now().toString();var t=yield this.makeJWT(e);return w.logDebug(`generate jwt token: ${t}`),this.connectStorage.saveContent(t,"jwt"),this.recovrySessionInfoFromCache(),new Promise(((e,n)=>{this.inLogin=!0,this.connector.onOpen((()=>a(this,void 0,void 0,(function*(){w.logDebug("1. connector on open"),w.reportLog("1. wallet connect connect on open");const r=(new Date).getTime();(0,_.logDebug)("ConnectTime---open->",r-this.timeLog),this.events.once(this.packageId.toString(),(t=>a(this,void 0,void 0,(function*(){if(t&&t.error){w.logError("failed when login"),yield this.connector.disconnect();var r=new Error;r.message=t.error.message,r.name=t.error.code.toString(),n(r)}else this.isLogined=!0,e(),w.logDebug("3. subscribe cached topics",this.sessionCryptoInfoMap),w.reportLog("3. wallet connect connect subscribe cached topics"),this.sessionCryptoInfoMap.size>0&&(yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys())))})))),w.logDebug("2. login called"),w.reportLog("2. wallet connect login called"),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_LOGIN,params:{token:t}})})))),this.connector.connect().catch((e=>{(0,_.logDebug)("WalletConnectionManager connect error",e),n(e)})),this.connector.addPackageParse((e=>{var t,n;w.logDebug("connect: parse package"),w.logDebug(e),"params"in e&&"data"in e.params?(null===(t=e.params.data)||void 0===t?void 0:t.topic)&&this.parsePackage(null===(n=e.params.data)||void 0===n?void 0:n.topic,e,e.method===l.CONNECT_METHOD_RECEIVE):this.parsePackage("",e,!0)}))}))}))}getSessionPublicKey(e){if(this.isTopicPublicKeyExist(e)){let t=this.sessionCryptoInfoMap.get(e);if(t)return(0,y.toHexString)(t.crypto.keyPair.publicKey)}}getCurrentCachedTopicIdList(){return Array.from(this.sessionCryptoInfoMap.keys())}disconnect(){return a(this,arguments,void 0,(function*(e=!1){yield this.connector.disconnect(),this.connectStorage.clearCache(d.OKXCONNECTOR_TOKEN_CACHE),e||this.connectStorage.clearCache(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE)}))}sendRaw(e,t){return a(this,void 0,void 0,(function*(){t&&(yield this.sendMsg(t,e,h.OKXCONNECTOR_MESSAGE_TTL))}))}sendMsg(e,t,n){return a(this,void 0,void 0,(function*(){if(t){this.refreshPackageId();const r={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:h.CONNECT_JSONRPC_VER,params:{message:{topic:e,message:t,ttl:n}}};this.events.once(this.packageId.toString(),(e=>a(this,void 0,void 0,(function*(){e&&e.error?w.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&w.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}}))}send(e,t){return a(this,arguments,void 0,(function*(e,t,n=!1,r=h.OKXCONNECTOR_MESSAGE_TTL,o=!1){var i,s;if(w.logDebug(`message send =====> ${t}`),!this.isTopicPublicKeyExist(e))throw new Error("connection not finish");let a,c=null===(i=this.sessionCryptoInfoMap.get(e))||void 0===i?void 0:i.dappPublicKey,l=null===(s=this.sessionCryptoInfoMap.get(e))||void 0===s?void 0:s.crypto;o&&(a={message:t});let d=!1;if(l&&c&&!o&&(d=!0,a={message:l.encryptWallet(t,c)}),a){n&&l&&(a.clientId=(0,y.toHexString)(l.keyPair.publicKey));let t=(0,C.safeJsonStringify)(a);!o&&d?yield this.splitManager.sendSplitPackages(e,t,this.sendMsg.bind(this),this.sendRaw.bind(this)):yield this.sendMsg(e,t,r)}}))}sendACK(e,t){return a(this,arguments,void 0,(function*(e,t,n=void 0){if(!0===t){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}else if(n){const t={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,error:{code:n.code,message:n.message}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}}))}sendReceive(e,t,n){return a(this,void 0,void 0,(function*(){const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:n}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}sendUnsubscribe(e){return a(this,void 0,void 0,(function*(){yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_UNSUB,params:{topic:e}}),this.sessionCryptoInfoMap.delete(e),this.syncCacheSessionInfo()}))}sendFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,(function*(){this.events.once(e,(e=>a(this,void 0,void 0,(function*(){var n,r;if(e.result){var o=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let n=i[e];if(n&&n.topic==t){let e=n.messageId;yield this.connector.getMsgPayloadFromHistory(n),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}}o&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else w.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),w.logDebug("5. send fetch more");const n=(new Date).getTime();(0,_.logDebug)("ConnectTime---5->",n-this.timeLog);const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}sendBatchFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,(function*(){this.events.once(e,(e=>a(this,void 0,void 0,(function*(){var n,r;if(e.result){var o=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let t=i[e];if(t&&t.topic)if(this.splitManager.tryParseMessageSplitPayload(t.message))yield this.connector.getMsgPayloadFromHistory(t);else{let n=t.messageId;yield this.connector.getMsgPayloadFromHistory(t),this.refreshPackageId(e),yield this.sendReceive(this.packageId.toString(),n,t.topic)}}o&&(this.refreshPackageId(),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),t))}else w.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),w.logDebug("5. send fetch more"),w.reportLog("5. send fetch more");const n=(new Date).getTime();(0,_.logDebug)("ConnectTime---5->",n-this.timeLog);const r={id:e,jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_BATCH_FETCHMSG,params:{topics:t,withInternalData:!0}};yield this.connector.send((()=>a(this,void 0,void 0,(function*(){w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}cleanCache(){return a(this,void 0,void 0,(function*(){this.connectStorage.clearCache()}))}saveSessionContent(e,t){t||this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let n=(0,C.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){let t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,C.safeJsonParse)(t)}subscribeTopics(e){return a(this,void 0,void 0,(function*(){(0,_.logDebug)("4. topicid list",e),w.reportLog("4. topicid list"),this.refreshPackageId();const t=(new Date).getTime();return(0,_.logDebug)("ConnectTime--subscribe callback->",t-this.timeLog),new Promise(((t,n)=>a(this,void 0,void 0,(function*(){let n=0;for(let r=0;r<e.length;++r){let o=e[r];this.refreshPackageId(r),this.events.once(this.packageId.toString(),(i=>a(this,void 0,void 0,(function*(){if(i&&i.error){w.logError("failed when subscribe"),yield this.connector.disconnect();var s=new Error;s.message=i.error.message,s.name=i.error.code.toString(),n+=1,n==e.length&&t()}this.refreshPackageId(r);const a=(new Date).getTime();(0,_.logDebug)("ConnectTime--subscribe callback->",a-this.timeLog),n+=1,n==e.length&&(w.logDebug(`5. send fetch msg: ${this.packageId}, ${o}`),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),e),yield this.splitManager.init(this.sendRaw.bind(this)),t())})))),w.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${o}`),w.reportLog("3. login callback then send subscribe");const i=(new Date).getTime();(0,_.logDebug)("ConnectTime---login callback->",i-this.timeLog),yield this.connector.send((()=>a(this,void 0,void 0,(function*(){return w.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:h.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_SUB,params:{topic:o}})}}))))}))}}},2209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppwalletConnector=void 0;const r=n(7380),o=n(2638),i=n(9088),s=n(5826);class a extends r.WsConnector{constructor(){super(),this.walletName="OKX App",this.walletNameKey="walletModal.mobileConnectionModal.connectApp"}getTag(){return o.OKX_APP_WALLET}openWallet(e){var t;if(e&&e.connectRequest){let n=e.connectRequest;if((0,i.logDebug)(`appwallet-connector openwallet before useSHortLink engineConnectInfo.connectRequest JSON ${JSON.stringify(e)}`),(0,i.useShortLink)()){let e=(0,i.getOKXLink)(n);(0,i.openOKXUniversalLink)(e)}else{(0,i.logDebug)(`appwallet-connector openwallet else connectRequest ${n}`);let r=(0,i.encodeConnectParams)(Object.assign(Object.assign({},n),{redirect:null!==(t=e.redirect)&&void 0!==t?t:"none"})),o=(0,i.getAppWalletDeepLink)(r);(0,i.openOKXDeeplinkWithFallback)(o)}}else(0,i.isOS)("android")?(0,i.openDeeplinkWithFallback)(s.stackDeepLink,(()=>{})):(0,i.openLinkBlank)(s.standardUniversalLink)}}t.AppwalletConnector=a},2638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_TG_WALLET=t.OKX_APP_WALLET=t.OKX_INJECT_WALLET=void 0,t.getTagByappName=function(e){var n="";if(e)switch(e){case r.OKXWalletName:n=t.OKX_APP_WALLET;break;case o.OKXMiniWalletName:n=t.OKX_TG_WALLET;break;case o.OKXInjectWalletName:n=t.OKX_INJECT_WALLET}return n};const r=n(9599),o=n(1398);t.OKX_INJECT_WALLET="okx_inject_wallet",t.OKX_APP_WALLET="okx_app_wallet",t.OKX_TG_WALLET="okx_tg_wallet"},918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OkxwalletInjectTonsdkConnector=t.OkxwalletInjectConnector=t.WsConnector=t.TgwalletConnector=t.InjectConnector=t.getTagByappName=t.OKX_INJECT_WALLET=t.OKX_APP_WALLET=t.OKX_TG_WALLET=t.AppwalletConnector=void 0;var r=n(2209);Object.defineProperty(t,"AppwalletConnector",{enumerable:!0,get:function(){return r.AppwalletConnector}});var o=n(2638);Object.defineProperty(t,"OKX_TG_WALLET",{enumerable:!0,get:function(){return o.OKX_TG_WALLET}}),Object.defineProperty(t,"OKX_APP_WALLET",{enumerable:!0,get:function(){return o.OKX_APP_WALLET}}),Object.defineProperty(t,"OKX_INJECT_WALLET",{enumerable:!0,get:function(){return o.OKX_INJECT_WALLET}}),Object.defineProperty(t,"getTagByappName",{enumerable:!0,get:function(){return o.getTagByappName}});var i=n(4783);Object.defineProperty(t,"InjectConnector",{enumerable:!0,get:function(){return i.InjectConnector}});var s=n(3870);Object.defineProperty(t,"TgwalletConnector",{enumerable:!0,get:function(){return s.TgwalletConnector}});var a=n(7380);Object.defineProperty(t,"WsConnector",{enumerable:!0,get:function(){return a.WsConnector}});var c=n(9541);Object.defineProperty(t,"OkxwalletInjectConnector",{enumerable:!0,get:function(){return c.OkxwalletInjectConnector}});var l=n(8621);Object.defineProperty(t,"OkxwalletInjectTonsdkConnector",{enumerable:!0,get:function(){return l.OkxwalletInjectTonsdkConnector}})},4783:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InjectConnector=void 0;const o=n(9599),i=n(9088),s=n(2638),a=n(9317),c=n(1398),l=n(7426),d=n(8184),u=n(6102),h=n(5518),f=n(9507),g=n(8105),p=n(7422),m=n(4371);t.InjectConnector=class{constructor(){this.disconnectListener=[],this.providerMap=new Map,this.disconnectHandler=null,this.walletName="",this.walletNameKey="",this.enable=!0,this.providerMap.set(o.NameSpaceKeyEip155,new h.Eip155Provider),this.providerMap.set(o.NameSpaceKeySOL,new a.SolProvider),this.providerMap.set(o.NameSpaceKeyAptos,new l.AptosProvider),this.providerMap.set(o.NameSpaceKeyTON,new u.TONProvider),this.providerMap.set(o.NameSpaceKeySui,new f.SuiProvider),this.providerMap.set(o.NameSpaceKeyBtc,new m.BtcProvider)}setAccountChangeListener(e){(0,i.logDebug)("setAccountChangeListener: inject",e),this.accountChangeListener=e}setConnectionManager(e){this.connectionManager=e}getInjectProvider(e){if(e)for(const[t,n]of this.providerMap.entries())if(e.includes(t))return n}openWallet(e){return r(this,void 0,void 0,(function*(){var t,n,r;if((0,i.logDebug)("InjectEngine connect begin:",JSON.stringify(e)),!e)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);this.dappInfo=e.connectRequest.dAppInfo;var s=e.connectRequest;try{if(!window||!window.okxwallet)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);if(s.requests){let e=s.requests.find((e=>"requestAccounts"===e.name)),i=yield window.okxwallet.getVersion(),l={method:"connect",requestId:s.requestId,payload:{wallet:{platform:null!==(t=navigator.platform)&&void 0!==t?t:"/",appName:c.OKXInjectWalletName,appVersion:null!=i?i:"1.0.0",maxProtocolVersion:1},responses:[]}},u={name:"requestAccounts",accounts:[]};l.payload.responses.push(u),yield this.disconnect();const h=null!==(n=e.requiredNamespaces)&&void 0!==n?n:[],f=null!==(r=e.optionalNamespaces)&&void 0!==r?r:[];let g=!0,p=!1;if(h.length+f.length===1&&!(0,d.isDevice)("mobile")){const e=1===h.length?h[0]:f[0],t=this.getInjectProvider(e.namespace);(yield null==t?void 0:t.singleConnect(e,this.dappInfo))&&(p=!0,g=!1)}var a=yield this.getAccountByRequestWallets(g,!1,p,h,f);if(!a)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null");if(u.accounts.push(...a),0===u.accounts.length)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect connectAccounts is null");this.connectResultListener&&(this.disconnectHandler&&window.okxwallet.removeListener("disconnect",this.disconnectHandler),this.disconnectHandler=()=>{console.log("window.okxwallet disconnect:"),this.disconnectListener.forEach((e=>e())),this.disconnectListener=[]},window.okxwallet.on("disconnect",this.disconnectHandler),this.connectResultListener(l))}}catch(e){var l=o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR;e instanceof o.OKXConnectError&&(l=e.code,e.message),this.connectResultListener&&this.connectResultListener({requestId:"-1",method:"connect_error",payload:{code:l}})}}))}disconnect(){return r(this,void 0,void 0,(function*(){(0,i.logDebug)("InjectEngine ==>> disconnect  okxwallet.disconnect()"),window.okxwallet&&(yield window.okxwallet.disconnect(),(0,i.logDebug)("InjectEngine ==>> disconnect end okxwallet.disconnect()"))}))}getRequestId(){const e=Date.now().toString();return(0,i.logDebug)("InjectEngine ==>> getRequestId ==>",e),e}send(e,t){return r(this,void 0,void 0,(function*(){var n;try{(0,i.logDebug)("InjectEngine send  > request:",(0,i.safeJsonStringify)(e));let r=e;if("disconnect"===r.method)return yield this.disconnect(),this.disconnectListener.forEach((e=>e())),this.disconnectListener=[],void(null===(n=t.onAck)||void 0===n||n.call(t));yield this.checkWalletMatch();const s=this.getInjectProvider((0,i.getNamespaceKeyByChain)(r.chainId));if(s)return void s.send(r).then((e=>{var n;(0,i.logDebug)("InjectEngine ==>> send > result:",e),null===(n=t.resolve)||void 0===n||n.call(t,e)})).catch((n=>{var r;let s=n.code;4001===s&&(s=o.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);let a={requestId:this.getRequestId(),method:e.method,error:{code:s,message:n.message}};(0,i.logDebug)("InjectEngine ==>> send > errorResponse:",JSON.stringify(a)),null===(r=t.resolve)||void 0===r||r.call(t,a)}));throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED)}catch(e){return(0,i.logDebug)("InjectEngine ==>> send  ===> error:",e),Promise.reject(e)}}))}checkWalletMatch(){return r(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{var n;let r=null===(n=this.connectionManager)||void 0===n?void 0:n.getSessionContent("connectSession");r||t(new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)),this.restoreconnect(r,(n=>{n?e():t(new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED))}))}))}))}checkAccountChanged(){return r(this,void 0,void 0,(function*(){var e;try{let t=null===(e=this.connectionManager)||void 0===e?void 0:e.getSessionContent("connectSession");if(!t)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);(0,i.logDebug)("inject-connector checkAccountChanged --sessionInfo:",JSON.stringify(t));let n=this.getRequireNameSpaceFromSession(t);(0,i.logDebug)("inject-connector checkAccountChanged --requiredNamespaces:",JSON.stringify(n));let r=yield this.getAccountByRequestWallets(!1,!0,!1,n,[]);if((0,i.logDebug)("inject-connector checkAccountChanged --accounts:",JSON.stringify(r)),!r)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null");{let e={};(0,p.buildAccountNameSpaces)(r,e),this.compareAndModifyNamespaces(t.namespaces,e)||((0,i.logDebug)("inject-connector checkAccountChanged --result sessionLocal:",JSON.stringify(t)),this.accountChangeListener?((0,i.logDebug)("inject-connector checkAccountChanged -accountChangeListener:",this.accountChangeListener),this.accountChangeListener(t)):((0,i.logDebug)("inject-connector checkAccountChanged disconnect:"),yield this.disconnect()))}}catch(e){throw(0,i.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(e)),e}}))}compareAndModifyNamespaces(e,t){let n=!0;for(const r in e)if(t[r]){const o=e[r],s=t[r];(0,i.logDebug)("inject-connector checkAccountChanged ns1:",JSON.stringify(o)),(0,i.logDebug)("inject-connector checkAccountChanged ns2:",JSON.stringify(s)),JSON.stringify([...o.accounts].sort())===JSON.stringify([...s.accounts].sort())||(n=!1,o.accounts=[...s.accounts],o.extra=Object.assign({},s.extra),o.payload=Object.assign({},s.payload)),(0,i.logDebug)("inject-connector checkAccountChanged new ns1:",JSON.stringify(o))}return(0,i.logDebug)(`inject-connector checkAccountChanged compareAndModifyNamespaces ===> ${n}`),n}clearData(){this.connectResultListener=void 0}addDisconnectListener(e){this.disconnectListener.push(e)}setOnConnectResultListener(e){this.connectResultListener=e}connectManagerDisconnect(){return r(this,arguments,void 0,(function*(e=!1){}))}getCurrentConnectionReady(e){return!!e&&e.every((e=>{var t;return null===(t=this.getInjectProvider(e))||void 0===t?void 0:t.connectReady()}))}getTag(){return s.OKX_INJECT_WALLET}toJSON(){return"inject-connector"}getRequireNameSpaceFromSession(e){var t,n,r=[];for(let i in e.namespaces){let s=e.namespaces[i],a={namespace:i,chains:s.chains};if(i===o.NameSpaceKeyAptos){let e=[];s.chains.forEach((t=>{let n=(0,g.replaceChainNameToChainId)(t);e.push(n)})),a={namespace:i,chains:e}}else if(i===o.NameSpaceKeyTON){let e,r;(null===(t=s.payload)||void 0===t?void 0:t.ton_proof)&&(e=null===(n=s.payload)||void 0===n?void 0:n.ton_proof,e.proof.payload&&(r={name:"ton_proof",payload:e.proof.payload})),a={namespace:i,chains:s.chains,params:{ton_addr:{name:"ton_addr"},ton_proof:r}}}r.push(a)}return r}restoreconnect(e,t){var n;if(window.okxwallet){this.dappInfo=null===(n=e.sessionConfig)||void 0===n?void 0:n.dappInfo,(0,i.logDebug)("inject-connector restoreconnect --sessionInfo:",JSON.stringify(e));var r=this.getRequireNameSpaceFromSession(e);(0,i.logDebug)("inject-connector restoreconnect --requiredNamespaces:",JSON.stringify(r)),this.getAccountByRequestWallets(!1,!1,!1,r,[]).then((n=>{(0,i.logDebug)("inject-connector restoreconnect --accounts:",JSON.stringify(n));let r=!0;for(let t in e.namespaces){var s=n.find((e=>e.namespace===t)),a=e.namespaces[t].accounts;if(!s)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: accountItem error");let c=a;t===o.NameSpaceKeyAptos&&c&&c.length>0&&(c=a.map((e=>(0,g.replaceChainNameToChainId)(e)))),s.addresses.length===c.length&&s.addresses.slice().sort().every(((e,n)=>{if(t===o.NameSpaceKeyAptos){let t=c.slice().sort()[n];return(0,i.logDebug)("check aptos address -value and aptosAdd--",e,t),t===e}return e===c.slice().sort()[n]}))||(r=!1)}if(!r)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: address not as same as session");t(e)})).catch((e=>{(0,i.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(e)),t(null)}))}else t(null)}getAccountByRequestWallets(e,t,n,s,a){return r(this,void 0,void 0,(function*(){try{var r=[],c=[];if((0,d.isDevice)("mobile")){var l=yield window.okxwallet.connectWallet(e,{requiredNamespaces:s,optionalNamespaces:a});r.push(l)}else r=yield window.okxwallet.requestWallets(e);var u=[...null!=s?s:[],...null!=a?a:[]];let h,f=r[0];if((0,i.logDebug)(" InjectEngine connect connectAccounts:",JSON.stringify(f)),u&&f&&f.address)for(const[r,o]of this.providerMap.entries()){let i=yield o.parseConnectResponse(e,t,n,u,f,this.dappInfo);i&&(h=r,c.push(i))}let g=s.every((e=>{let t=c.find((t=>t.namespace===e.namespace));return!!t&&e.chains.every((e=>!!t.addresses.find((t=>t.startsWith(e+":")))))}));if((0,i.logDebug)("InjectEngine connect requiredNamespaces:",JSON.stringify(s)),(0,i.logDebug)("InjectEngine connect accountResult:",JSON.stringify(c)),!g)throw yield this.disconnect(),new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);return(0,d.isDevice)("mobile")||(this.configEventWithKey(h),yield window.okxwallet.requestWallets(e)),c}catch(e){if(e&&"object"==typeof e&&"code"in e&&4001===e.code)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}}))}configEventWithKey(e){var t,n;for(let e in this.providerMap)null===(t=this.providerMap.get(e))||void 0===t||t.removeListener();null===(n=this.getInjectProvider(e))||void 0===n||n.addListener((()=>{this.checkAccountChanged().catch((e=>{console.log("window.okxwallet configEventWithKey error: ",e)}))}))}}},9541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OkxwalletInjectConnector=void 0;const r=n(4783);class o extends r.InjectConnector{constructor(){super(),this.walletName="OKX Wallet extension",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected"}}t.OkxwalletInjectConnector=o},8621:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OkxwalletInjectTonsdkConnector=void 0;const o=n(4783),i=n(9599),s=n(9088),a=n(8184);class c extends o.InjectConnector{constructor(){super(),this.walletName="OKX Wallet extension",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected"}checkWalletMatch(){return r(this,void 0,void 0,(function*(){var e,t,n;null===(e=this.connectionManager)||void 0===e||e.tonsdkConnectStorage.synchronizedCache();let r=null===(t=this.connectionManager)||void 0===t?void 0:t.tonsdkConnectStorage.getItem("ton_connect_info_adapter_universal");if(!r||!(null==r?void 0:r.content))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);const o=null==r?void 0:r.content;let c,l=JSON.parse(o),d=l.connectEvent.payload.items.find((e=>"name"in e&&"ton_addr"===e.name));if(this.dappInfo=l.dappInfo,d&&"address"in d&&(c=d.address),!c)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if((0,s.logDebug)(`inject-connector localTonaddress : ${c}`),(0,a.isDevice)("mobile")){let e;e={namespace:i.NameSpaceKeyTON,chains:[i.TON_CHAINS.MAINNET],params:{ton_addr:{name:"ton_addr"}}};let t=yield this.getAccountByRequestWallets(!1,!1,!1,[e],[]);if(t&&1==t.length){let e=null===(n=t[0].data)||void 0===n?void 0:n.ton_addr;if(c===(null==e?void 0:e.address))return}}else{let e=yield window.okxTonWallet.tonconnect.restoreConnection();if("connect"===e.event&&e.payload.items.find((e=>"ton_addr"===e.name)).address==c)return}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)}))}}t.OkxwalletInjectTonsdkConnector=c},3870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TgwalletConnector=void 0;const r=n(7380),o=n(2638),i=n(9088);class s extends r.WsConnector{constructor(){super(),this.walletName="OKX Mini Wallet",this.walletNameKey="walletModal.mobileConnectionModal.connectMini"}getTag(){return o.OKX_TG_WALLET}openWallet(e){var t,n;e&&e.connectRequest&&(n=(0,i.encodeTWAConnectURLParams)(Object.assign(Object.assign({},e.connectRequest),{redirect:"none"})));var r=(0,i.getTelegramWalletTWAUrl)(n,null!==(t=null==e?void 0:e.tmaReturnUrl)&&void 0!==t?t:"back");(0,i.openOKXTMAWalletlinkWithFallback)(r)}}t.TgwalletConnector=s},7380:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WsConnector=void 0;const o=n(6173),i=n(458);t.WsConnector=class{constructor(){this.disconnectListener=[],this.walletName="",this.walletNameKey="",this.enable=!0,this.pendingRequests=new Map,(0,i.getDefaultReporter)().beginReport()}setAccountChangeListener(e){this.accountChangeListener=e}setConnectionManager(e){this.connectionManager=e}addConnectionListener(){var e;null===(e=this.connectionManager)||void 0===e||e.addListener("sdk_response",((e,t)=>{var n=(0,o.safeJsonParse)(t);(0,i.logDebug)(`Engine ==>> addListener ==> success ==> ${n}`),this.handleResponse(e,n)}),(function(){}))}addDisconnectListener(e){this.disconnectListener.push(e)}connectManagerDisconnect(){return r(this,arguments,void 0,(function*(e=!1){var t;yield null===(t=this.connectionManager)||void 0===t?void 0:t.disconnect(e)}))}openWallet(e){}bindRequestForPromise(e,t){this.pendingRequests.set(e,t)}send(e,t,n){return r(this,void 0,void 0,(function*(){var r,s;(0,i.logDebug)("Engine ==>> send  request==>",JSON.stringify(e));const a=this.getRequestId();try{let c=yield null===(r=this.connectionManager)||void 0===r?void 0:r.send(JSON.stringify(Object.assign(Object.assign({},e),{requestId:a})),n);c&&(null===(s=this.connectionManager)||void 0===s||s.events.once(c.toString(),(e=>{var n;(0,i.logDebug)(`Engine ==> send => onAck => ${(0,o.safeJsonStringify)(e)}`),e&&e.result&&(null===(n=t.onAck)||void 0===n||n.call(t))}))),t.resolve&&this.bindRequestForPromise(a,t.resolve)}catch(e){return Promise.reject(e)}}))}restoreconnect(e,t){return r(this,void 0,void 0,(function*(){var n;yield null===(n=this.connectionManager)||void 0===n?void 0:n.restoreConnect(e.topic),t(e)}))}restoreconnectFromTopic(e){return r(this,void 0,void 0,(function*(){var t;yield null===(t=this.connectionManager)||void 0===t?void 0:t.restoreConnect(e)}))}getRequestId(){const e=Date.now().toString();return(0,i.logDebug)("Engine ==>> getRequestId ==>",e),e}handleResponse(e,t){if((0,i.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0,o.safeJsonStringify)(t)}`,e),"requestId"in t){(0,i.logDebug)("Engine ==>> handleResponse_2  ===> in response");let e=t.requestId;const n=this.pendingRequests.get(e);n?((0,i.logDebug)("Engine ==>> handleResponse_3  ===> find resolve:",n),n(t),this.pendingRequests.delete(e)):((0,i.logDebug)("Engine ==>> handleResponse_3  ===> not find resolve:"),"disconnect"===t.method&&(this.disconnectListener.forEach((e=>e())),this.disconnectListener=[],this.clearData()))}}getCurrentConnectionReady(){var e;return!!(null===(e=this.connectionManager)||void 0===e?void 0:e.getCurrentConnectionReady())}saveSessionContent(e,t){var n;null===(n=this.connectionManager)||void 0===n||n.saveSessionContent(e,t)}getSessionContent(e){var t;return null===(t=this.connectionManager)||void 0===t?void 0:t.getSessionContent(e)}setOnConnectResultListener(e){this.connectResultListener=e}getTag(){return""}toJSON(){return"ws-connector"}clearData(){this.pendingRequests.clear()}}},7253:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionCrypto=void 0;const o=r(n(8947)),i=n(8105);t.SessionCrypto=class{constructor(e=void 0){this.nonceLength=24,this.sessionKeyPair=e?this.createKeypairFromString(e):this.createKeypair()}createKeypair(){return o.default.box.keyPair()}createKeypairFromString(e){return{publicKey:(0,i.hexToByteArray)(e.publicKey),secretKey:(0,i.hexToByteArray)(e.secretKey)}}createNonce(){return o.default.randomBytes(this.nonceLength)}get keyPair(){return this.sessionKeyPair}encrypt(e,t){const n=(new TextEncoder).encode(e),r=this.createNonce(),s=o.default.box(n,r,(0,i.hexToByteArray)(t),this.keyPair.secretKey);let a=(0,i.concatUint8Arrays)(r,s);var c=(0,i.toHexString)(a),l=(new TextEncoder).encode(c);return(0,i.base64encode)(l,!1)}encryptWallet(e,t){const n=(new TextEncoder).encode(e),r=this.createNonce(),s=o.default.box(n,r,(0,i.hexToByteArray)(t),this.keyPair.secretKey);let a=(0,i.concatUint8Arrays)(r,s);return(0,i.base64encode)(a,!1)}decrypt(e,t){let n=(0,i.base64decode)(e,!0).toUint8Array();const[r,s]=(0,i.splitToUint8Arrays)(n,this.nonceLength),a=o.default.box.open(s,r,(0,i.hexToByteArray)(t),this.keyPair.secretKey);if(!a)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${(0,i.toHexString)(this.keyPair.publicKey)} \n keypair secretkey: ${(0,i.toHexString)(this.keyPair.secretKey)}`);return(new TextDecoder).decode(a)}decryptWallet(e,t){let n=(0,i.base64decode)(e,!0),r=(0,i.hexToByteArray)(n.toString());const[s,a]=(0,i.splitToUint8Arrays)(r,this.nonceLength),c=o.default.box.open(a,s,(0,i.hexToByteArray)(t),this.keyPair.secretKey);if(!c)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${(0,i.toHexString)(this.keyPair.publicKey)} \n keypair secretkey: ${(0,i.toHexString)(this.keyPair.secretKey)}`);return(new TextDecoder).decode(c)}stringifyKeypair(){return{publicKey:(0,i.toHexString)(this.keyPair.publicKey),secretKey:(0,i.toHexString)(this.keyPair.secretKey)}}}},9878:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(5023),t),o(n(9599),t),o(n(9088),t),o(n(5518),t),o(n(918),t)},4500:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtcMethods=t.SuiMethods=t.TONMethods=t.AptosMethods=t.SOLANAMethods=t.Eip55Methods=void 0,t.hasOKXInjectedProvider=function(){return void 0!==function(){const e=(t,n)=>{const[r,...o]=n.split("."),i=t[r];if(i)return 0===o.length?i:e(i,o.join("."))};if("undefined"!=typeof window)return e(window,"okxwallet")}()},t.Eip55Methods=["personal_sign","eth_signTypedData_v4","eth_sendTransaction","wallet_addEthereumChain","wallet_watchAsset","wallet_switchEthereumChain","eth_requestAccounts","eth_accounts","eth_chainId"],t.SOLANAMethods=["solana_signTransaction","solana_signMessage","solana_signAllTransactions","solana_signAndSendTransaction"],t.AptosMethods=["aptos_signMessage","aptos_signTransaction","aptos_signAndSubmitTransaction"],t.TONMethods=["ton_sendTransaction"],t.SuiMethods=["sui_signMessage","sui_signPersonalMessage","sui_signTransactionBlock","sui_signAndExecuteTransactionBlock"],t.BtcMethods=["btc_signMessage","btc_signPsbts","btc_send","btc_sendInscription","btc_signAndPushPsbt","btc_inscribeTransfer","btc_sendRunes"]},5518:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(4500),t),o(n(4394),t)},7426:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AptosProvider=void 0;const o=n(9599),i=n(9088),s=n(4500),a=n(8184),c=n(3790),l=Object.freeze(["637","70000060","70000066"]),d=new Map;d.set("aptos:637","Mainnet"),d.set("aptos:70000060","Movement Testnet"),d.set("aptos:70000066","Movement Mainnet"),t.AptosProvider=class{send(e){return r(this,void 0,void 0,(function*(){try{(0,i.logDebug)("AptosProvider send request:",(0,i.safeJsonStringify)(e)),yield this.restoreConnect();let t=yield window.okxwallet.aptos.network(),n=this.searchChainIdToInjectChainName(e.chainId);if((0,i.logDebug)("AptosProvider send network and searchNetwork:",t,"-----",n),!t||!n||t.toLowerCase()!==n.toLowerCase())throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Please switch your wallet link to '${n}'`);const r=e.method;let s;switch(r){case"aptos_signMessage":if(e.injectParams){let t=yield window.okxwallet.aptos.signMessage(e.injectParams);return s={method:e.method,result:t.signature,injectResult:t},(0,i.logDebug)("AptosProvider send result:",(0,i.safeJsonStringify)(s)),s}throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${r}'`);case"aptos_signTransaction":{(0,i.logDebug)("AptosProvider Method>>>> :",r);let t=yield window.okxwallet.aptos.signTransaction(e.params);return s={method:e.method,result:t},(0,i.logDebug)("AptosProvider send result:",(0,i.safeJsonStringify)(s)),s}case"aptos_signAndSubmitTransaction":{(0,i.logDebug)("AptosProvider Method>>>> :",r);let t=yield window.okxwallet.aptos.signAndSubmitTransaction(e.params);return s={method:e.method,result:t.hash},(0,i.logDebug)("AptosProvider send result:",(0,i.safeJsonStringify)(s)),s}default:throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,` method: '${r}'`)}}catch(e){throw(0,i.logDebug)("AptosProvider send error:",e),e}}))}searchChainIdToInjectChainName(e){let t=e;return d.forEach(((n,r)=>{e.includes(r)&&(t=n)})),t}connectReady(){return!0}disconnect(){}restoreConnect(){return(0,a.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(e,t,n,c,d,u){return r(this,void 0,void 0,(function*(){let e=[];c.forEach((t=>{t.namespace===o.NameSpaceKeyAptos&&e.push(...t.chains)}));let t,n=[],r={};if((0,i.logDebug)("AptosProvider parseConnectResponse connectChain",JSON.stringify(e)),!(0,a.isDevice)("mobile")&&e&&e.length>0){let e=yield window.okxwallet.aptos.connect();t=e.publicKey}if(e.forEach((e=>{let o=d.address.find((t=>l.includes(t.chainId)&&637===t.coinType||t.namespaceChainId===e));o&&(n.push(e+":"+o.address),r[e]={publicKey:o.publicKey?o.publicKey:t})})),(0,i.logDebug)("AptosProvider parseConnectResponse addresses",JSON.stringify(n)),n&&n.length>0)return{namespace:o.NameSpaceKeyAptos,addresses:n,methods:[...s.AptosMethods],extra:r}}))}connect(){return r(this,void 0,void 0,(function*(){return window.okxwallet.aptos.connect()}))}singleConnect(){return this.connect()}addListener(e){window.okxwallet.aptos.onAccountChange((t=>{console.log("window.okxwallet configEventWithKey_aptos:",Date.now(),c.key,JSON.stringify(t)),t&&e()}))}removeListener(){}}},9317:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SolProvider=void 0;const i=n(9599),s=n(9088),a=o(n(6763)),c=n(8184),l=n(4500);t.SolProvider=class{constructor(){this.accountChangedSolanaPublicKeyHandler=null}send(e){return r(this,void 0,void 0,(function*(){var t;try{yield this.restoreConnect(),(0,s.logDebug)("SolProvider send request:",JSON.stringify(e));const o=e.method;let c;if(!e.injectParams)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${o}'`);switch(o){case"solana_signMessage":if(e.injectParams&&"object"==typeof e.injectParams&&"message"in e.injectParams){var n=null===(t=e.injectParams)||void 0===t?void 0:t.message;const r=(new TextEncoder).encode(n),o=yield window.okxwallet.solana.signMessage(r,"utf8");return c={method:e.method,result:a.default.encode(o.signature)},(0,s.logDebug)("SolProvider send result:",JSON.stringify(o)),c}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${o}'`);case"solana_signTransaction":{let t=yield window.okxwallet.solana.signTransaction(e.injectParams);return(0,s.logDebug)("SolProvider send bufferResult:",JSON.stringify(t)),c={method:e.method,injectResult:t},(0,s.logDebug)("SolProvider send result:",(0,s.safeJsonStringify)(c)),c}case"solana_signAllTransactions":{let t=yield window.okxwallet.solana.signAllTransactions(e.injectParams);return(0,s.logDebug)("SolProvider send result:",(0,s.safeJsonStringify)(t)),c={method:e.method,injectResult:t},c}case"solana_signAndSendTransaction":var r=yield window.okxwallet.solana.signAndSendTransaction(e.injectParams);return(0,s.logDebug)("SolProvider send result:",(0,s.safeJsonStringify)(r)),c={method:e.method,injectResult:r},c;default:throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${o}'`)}}catch(e){throw(0,s.logDebug)("SolProvider send error:",e),e}}))}connectReady(){return!0}disconnect(){}restoreConnect(){return(0,c.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(e,t,n,o,a,c){return r(this,void 0,void 0,(function*(){let e=[];o.forEach((t=>{t.namespace===i.NameSpaceKeySOL&&e.push(...t.chains)}));let t=[],n={},r={};if(e.forEach((e=>{let o=a.address.find((t=>"501"===t.chainId&&501===t.coinType||t.namespaceChainId===e));o&&(t.push(e+":"+o.address),n[e]=r&&"publicKey"in r?r:{publicKey:o.publicKey})})),t&&t.length>0){let e={namespace:i.NameSpaceKeySOL,addresses:t,methods:[...l.SOLANAMethods],extra:n};return(0,s.logDebug)("parseConnectResponse nameSpaceResponse :",JSON.stringify(e)),e}}))}connect(){return r(this,void 0,void 0,(function*(){return window.okxwallet.solana.connect()}))}singleConnect(){return this.connect()}addListener(e){console.log("window.okxwallet configEventWithKey:","sol"),this.accountChangedSolanaPublicKeyHandler=t=>{console.log("window.okxwallet configEventWithKey_solana:",Date.now(),"sol",t),t&&e()},window.okxwallet.solana.on("accountChanged",this.accountChangedSolanaPublicKeyHandler)}removeListener(){this.accountChangedSolanaPublicKeyHandler&&window.okxwallet.solana.removeListener("accountChanged",this.accountChangedSolanaPublicKeyHandler)}}},6102:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TONProvider=void 0;const o=n(9599),i=n(9088),s=n(8184),a=n(4500);t.TONProvider=class{constructor(){this.signalChainConnectResult=void 0,this.accountChangedTONHandler=null}send(e){return r(this,void 0,void 0,(function*(){try{(0,i.logDebug)("TONProvider send request:",(0,i.safeJsonStringify)(e));let t=null;if("ton_sendTransaction"!==e.method)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);if(e.params&&(t={method:"sendTransaction",params:[JSON.stringify(e.params)],id:Date.now().toString()},(0,i.logDebug)("TONProvider tonParams first:",JSON.stringify(t))),t){const n=yield window.okxTonWallet.tonconnect.send(t);if((0,i.logDebug)("TONProvider send request result:",(0,i.safeJsonStringify)(n)),n.error)throw new o.OKXConnectError(n.error.code,n.error.message);return{result:n.result,method:e.method}}throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}catch(e){throw(0,i.logDebug)("TONProvider encountered an error:",e),e}}))}connectReady(){return!0}restoreConnect(){return Promise.resolve()}parseConnectResponse(e,t,n,c,l,d){return r(this,void 0,void 0,(function*(){try{let r=[];c.forEach((e=>{e.namespace===o.NameSpaceKeyTON&&r.push(...e.chains)}));let u=[],h={};if(r.forEach((e=>{(0,i.getChainId)(e);let t=l.address.find((t=>"607"===t.chainId&&607===t.coinType||t.namespaceChainId===e));t&&(u.push(e+":"+t.address),h[e]={publicKey:t.publicKey})})),(0,i.logDebug)("tonprovider parseConnectResponse needPop and addresses: ",e,JSON.stringify(u)),u&&u.length>0){let r,l=c.find((e=>e.namespace===o.NameSpaceKeyTON));if((0,i.logDebug)("tonprovider parseConnectResponse ton: ",JSON.stringify(l)),!(l&&l.params&&d&&d.manifestUrl))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl is nil");{this.dappInfo=d;let n=[l.params.ton_addr],o={manifestUrl:d.manifestUrl,items:n};(e||t)&&l.params.ton_proof&&n.push(l.params.ton_proof),(0,i.logDebug)("parseConnectResponse ton connect params: ",JSON.stringify(o)),r=(0,s.isDevice)("mobile")||e||t?yield window.okxTonWallet.tonconnect.connect(2,o):yield window.okxTonWallet.tonconnect.restoreConnection()}if(n&&this.signalChainConnectResult&&(r=this.signalChainConnectResult,this.signalChainConnectResult=void 0),(0,i.logDebug)("parseConnectResponse ton connect result: ",JSON.stringify(r)),r&&l){if("connect_error"===r.event)throw new o.OKXConnectError(r.payload.code,r.payload.message);{let e=r.payload.items.find((e=>"ton_addr"===e.name)),t=r.payload.items.find((e=>"ton_proof"===e.name));return(0,i.logDebug)("tonprovider connect isSignalChain: ",n),{namespace:o.NameSpaceKeyTON,addresses:u,methods:[...a.TONMethods],extra:h,data:{ton_addr:e,ton_proof:t,manifestUrl:d.manifestUrl}}}}}return}catch(e){throw(0,i.logDebug)("tonprovider parseConnectResponse error: ",JSON.stringify(e)),e}}))}connect(e,t){return r(this,void 0,void 0,(function*(){if(!(e&&t&&t.manifestUrl&&e.params))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl or params is nil");{this.dappInfo=t;let n=[e.params.ton_addr],r={manifestUrl:t.manifestUrl,items:n};e.params.ton_proof&&n.push(e.params.ton_proof),(0,i.logDebug)("tonprovider connect params: ",JSON.stringify(r));try{let e=yield window.okxTonWallet.tonconnect.connect(2,r);return(0,i.logDebug)("tonprovider connect tonResult: ",JSON.stringify(e)),this.signalChainConnectResult=e,e}catch(e){throw(0,i.logDebug)("tonprovider connect error: ",JSON.stringify(e)),new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"tonconnect error")}}}))}singleConnect(e,t){return this.connect(e,t)}addListener(e){console.log("window.okxwallet configEventWithKey:","ton"),this.accountChangedTONHandler=()=>{console.log("window.okxwallet configEventWithKey_TON:",Date.now(),"ton"),e()},window.okxTonWallet.tonconnect.on("accountChanged",this.accountChangedTONHandler)}removeListener(){this.accountChangedTONHandler&&window.okxTonWallet.tonconnect.off("accountChanged",this.accountChangedTONHandler)}}},4371:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BtcProvider=void 0;const o=n(9599),i=n(9088),s=n(4500),a=n(8184);t.BtcProvider=class{constructor(){this.accountChangedBtcHandler=null}connect(){return window.okxwallet.unisat.connect()}switchChain(e){return r(this,void 0,void 0,(function*(){let t=window.okxwallet.unisat;switch(e){case o.BTC_CHAINS.MAINNET:yield t.switchChain("BITCOIN_MAINNET");break;case o.BTC_CHAINS.FRACTAL:yield t.switchChain("FRACTAL_BITCOIN_MAINNET")}}))}connectReady(){return!0}parseConnectResponse(e,t,n,i,a){return r(this,void 0,void 0,(function*(){try{let e=[];i.forEach((t=>{t.namespace===o.NameSpaceKeyBtc&&e.push(...t.chains)}));let t=[],n={};if(0==e.length)return;const c=(e,t)=>e.find((e=>{const n="bitcoin"===e.name&&t===o.BTC_CHAINS.MAINNET||"fractalbitcoin"===e.name&&t===o.BTC_CHAINS.FRACTAL;return 0===e.coinType&&n||e.namespaceChainId===t})),l=e=>r(this,void 0,void 0,(function*(){let r=c(a.address,e);if(!r)return;t.push(e+":"+r.address);let o=yield this.connect();n[e]={publicKey:o.publicKey,compressedPublicKey:o.compressedPublicKey}})),d=e.map(l);return yield Promise.all(d),t&&t.length>0?{namespace:o.NameSpaceKeyBtc,addresses:t,methods:[...s.BtcMethods],extra:n}:void 0}catch(e){throw e}}))}restoreConnect(){return r(this,void 0,void 0,(function*(){return(0,a.isDevice)("mobile")?this.connect():Promise.resolve()}))}send(e){return r(this,void 0,void 0,(function*(){try{(0,i.logDebug)("btcProvider send request:",JSON.stringify(e));const t=e.method,n=e.chainId;if(yield this.restoreConnect(),yield this.switchChain(n),!e.params)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,`param is error method: '${t}'`);switch(t){case"btc_signMessage":{const{signStr:t,type:n}=e.params||{},r=yield window.okxwallet.unisat.signMessage(t,n);return{method:e.method,result:r}}case"btc_send":{const{from:t,to:n,value:r,satBytes:o}=e.params||{},i=yield window.okxwallet.unisat.send({from:t,to:n,value:r,satBytes:o});return{method:e.method,result:i}}case"btc_signPsbts":{const{psbtHexs:t,options:n}=e.params||{};let r;if(Array.isArray(t)&&1===t.length){let e;e=Array.isArray(n)?yield window.okxwallet.unisat.signPsbt(t[0],n.length>0&&"object"==typeof n[0]?n[0]:void 0):yield window.okxwallet.unisat.signPsbt(t[0]),r=[e]}else r=yield window.okxwallet.unisat.signPsbts(t,n);return{method:e.method,result:(0,i.safeJsonStringify)(r)}}case"btc_signAndPushPsbt":{const{psbtHex:t,options:n}=e.params||{},r=yield window.okxwallet.unisat.signPsbt(t,n),o=yield window.okxwallet.unisat.pushPsbt(r);return{method:e.method,result:(0,i.safeJsonStringify)({signedPsbt:r,txHash:o})}}case"btc_sendInscription":{const{address:t,inscriptionId:n,options:r}=e.injectParams||{},o=yield window.okxwallet.unisat.sendInscription(t,n,r);return{method:e.method,result:o}}case"btc_inscribeTransfer":{if((0,a.isDevice)("mobile"))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${t}'`);const{ticker:n,amount:r}=e.params||{},i=yield window.okxwallet.unisat.inscribeTransfer(n,r);return{method:e.method,result:i}}default:throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${t}'`)}}catch(e){throw(0,i.logDebug)("BtcProvider send error:",e),e}}))}singleConnect(e){return r(this,void 0,void 0,(function*(){return 1==e.chains.length&&this.connect()}))}addListener(e){this.accountChangedBtcHandler=t=>{console.log("window.okxwallet btc:",Date.now(),"btc",t),t&&t.length>0&&e()},window.okxwallet.unisat.on("accountsChanged",this.accountChangedBtcHandler)}removeListener(){window.okxwallet.unisat.removeListener("accountsChanged",this.accountChangedBtcHandler)}}},394:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Eip155Provider=void 0;const o=n(9599),i=n(9088),s=n(8184),a=n(4500);t.Eip155Provider=class{constructor(){this.accountChangedEVMHandler=null}send(e){return r(this,void 0,void 0,(function*(){var t;try{(0,i.logDebug)("Eip155Provider send request:",(0,i.safeJsonStringify)(e)),yield this.restoreConnect();let n=null;switch(e.method){case"personal_sign":e.params&&"message"in e.params&&(n={method:e.method,params:[e.params.message,e.address]});break;case"eth_sendTransaction":case"wallet_addEthereumChain":case"wallet_switchEthereumChain":e.params&&(n={method:e.method,params:[e.params]});break;case"eth_signTypedData_v4":e.params&&"typedDataJson"in e.params&&(null===(t=e.params)||void 0===t?void 0:t.typedDataJson)&&"string"==typeof e.params.typedDataJson&&(n={method:e.method,params:[e.address,e.params.typedDataJson]});break;case"wallet_watchAsset":e.params&&(n={method:e.method,params:e.params});break;default:throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if(!n)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);if(("wallet_switchEthereumChain"===e.method||"wallet_addEthereumChain"===e.method)&&e.params&&"chainId"in e.params){(0,i.logDebug)("Eip155Provider send request switch requestParams:",(0,i.safeJsonStringify)(n));const t=parseInt(e.params.chainId,16).toString();yield window.okxwallet.request(n);const r=`eip155:${t}:${e.address}`;return(0,i.logDebug)("Eip155Provider send request switch result:",r),{result:r,method:e.method}}{const t=(0,i.getChainId)(e.chainId),r=`0x${Number(t).toString(16)}`;if((0,i.logDebug)("Eip155Provider current chainId:",t,r),r){yield window.okxwallet.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),(0,i.logDebug)("Eip155Provider send request requestParams:",r,(0,i.safeJsonStringify)(n));const t=yield window.okxwallet.request(n);return(0,i.logDebug)("Eip155Provider send request result:",(0,i.safeJsonStringify)(t)),{result:t,method:e.method}}}}catch(e){throw(0,i.logDebug)("Eip155Provider encountered an error:",e),e}}))}connectReady(){return!0}restoreConnect(){return(0,s.isDevice)("mobile")?window.okxwallet.request({method:"eth_requestAccounts"}):Promise.resolve()}parseConnectResponse(e,t,n,s,c,l){return r(this,void 0,void 0,(function*(){try{let e=[];s.forEach((t=>{t.namespace===o.NameSpaceKeyEip155&&e.push(...t.chains)}));let t=[],n={};return e.forEach((e=>{let r=(0,i.getChainId)(e),o=c.address.find((t=>t.chainId===r&&60===t.coinType||t.namespaceChainId===e));o&&(t.push(e+":"+o.address),n[e]={publicKey:o.publicKey})})),t&&t.length>0?{namespace:o.NameSpaceKeyEip155,addresses:t,methods:[...a.Eip55Methods],extra:n}:void 0}catch(e){throw e}}))}connect(){return r(this,void 0,void 0,(function*(){return window.okxwallet.request({method:"eth_requestAccounts"})}))}singleConnect(){return this.connect()}addListener(e){console.log("window.okxwallet configEventWithKey: eip155"),this.accountChangedEVMHandler=t=>{console.log("window.okxwallet configEventWithKey_evm:",Date.now(),"eip155",t),t&&t.length>0&&e()},window.okxwallet.on("accountsChanged",this.accountChangedEVMHandler)}removeListener(){this.accountChangedEVMHandler&&window.okxwallet.removeListener("accountsChanged",this.accountChangedEVMHandler)}}},4394:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(394),t)},9507:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SuiProvider=void 0;const o=n(9599),i=n(9088),s=n(8184),a=n(4500);t.SuiProvider=class{constructor(){this.accountChangedHandler=null}connectReady(){return!0}getSuiPublicKey(){return r(this,void 0,void 0,(function*(){return(yield this.connect()).accounts[0].publicKey}))}parseConnectResponse(e,t,n,s,c,l){return r(this,void 0,void 0,(function*(){try{let e=[];s.forEach((t=>{t.namespace===o.NameSpaceKeySui&&e.push(...t.chains)}));let t=[],n={};if(0==e.length)return;const r=yield this.getSuiPublicKey();return e.forEach((e=>{var o;(0,i.getChainId)(e);let s=c.address.find((t=>784===t.coinType||t.namespaceChainId===e));s&&(t.push(e+":"+s.address),n[e]={publicKey:null!==(o=s.publicKey)&&void 0!==o?o:r})})),t&&t.length>0?{namespace:o.NameSpaceKeySui,addresses:t,methods:[...a.SuiMethods],extra:n}:void 0}catch(e){throw e}}))}restoreConnect(){return(0,s.isDevice)("mobile")?this.connect():Promise.resolve()}getSuiWallet(){return window.okxwallet.sui}send(e){return r(this,void 0,void 0,(function*(){try{yield this.restoreConnect(),(0,i.logDebug)("suiProvider send request:",JSON.stringify(e));const t=e.method;let n;if(e.injectParams&&this.getSuiWallet()){let r=e.injectParams;switch(t){case"sui_signTransactionBlock":n={method:"sui_signTransactionBlock",result:(yield this.getSuiWallet().features["sui:signTransactionBlock"].signTransactionBlock(r)).signature};break;case"sui_signAndExecuteTransactionBlock":n={method:"sui_signAndExecuteTransactionBlock",result:(yield this.getSuiWallet().features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(r)).digest};break;case"sui_signMessage":n={method:"sui_signMessage",result:(yield this.getSuiWallet().features["sui:signMessage"].signMessage(r)).signature};break;case"sui_signPersonalMessage":n={method:"sui_signPersonalMessage",result:(yield this.getSuiWallet().features["sui:signPersonalMessage"].signPersonalMessage(r)).signature}}}return n}catch(e){throw(0,i.logDebug)("suiProvider send error:",e),e}}))}connect(){return r(this,void 0,void 0,(function*(){var e;return null===(e=this.getSuiWallet())||void 0===e?void 0:e.features["standard:connect"].connect()}))}singleConnect(){return this.connect()}addListener(e){console.log("window.okxwallet configEventWithKey:","sui"),this.accountChangedHandler=t=>{console.log("window.okxwallet configEventWithKey_sui:",Date.now(),"sui",t),t&&e()},window.okxwallet.sui.on("accountChanged",this.accountChangedHandler)}removeListener(){this.accountChangedHandler&&window.okxwallet.sui.removeListener("accountChanged",this.accountChangedHandler)}}},3605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMES_CHAINS=t.TON_CHAINS=t.COSMOS_CHAINS=t.APTOS_CHAINS=t.SUI_CHAINS=t.SOLANA_CHAINS=t.BTC_CHAINS=void 0;const r=n(9859);t.BTC_CHAINS={MAINNET:"btc:mainnet",FRACTAL:"fractal:mainnet"},t.SOLANA_CHAINS={MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",SONIC_TESTNET:"sonic:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"},t.SUI_CHAINS={MAINNET:"sui:mainnet"},t.APTOS_CHAINS={MAINNET:"aptos:mainnet",MOVEMENT_MAINNET:"movement:mainnet",MOVEMENT_TESTNET:"movement:testnet"},t.COSMOS_CHAINS={COSMOS_MAINNET:"cosmos:cosmoshub-4"},t.TON_CHAINS={MAINNET:"ton:-239"},t.NAMES_CHAINS={[r.NameSpaceKeyBtc]:Object.values(t.BTC_CHAINS),[r.NameSpaceKeySOL]:Object.values(t.SOLANA_CHAINS),[r.NameSpaceKeyTON]:Object.values(t.TON_CHAINS),[r.NameSpaceKeySui]:Object.values(t.SUI_CHAINS),[r.NameSpaceKeyAptos]:Object.values(t.APTOS_CHAINS),[r.NameSpaceKeyCosmos]:Object.values(t.COSMOS_CHAINS)}},7378:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IEngine=t.ISignClient=t.ISignClientEvents=t.IEngineEvents=void 0;const o=r(n(228));class i extends o.default{constructor(){super()}}t.IEngineEvents=i;class s extends o.default{constructor(){super()}}t.ISignClientEvents=s,t.ISignClient=class{constructor(e){this.data=e}},t.IEngine=class{constructor(e){this.client=e}}},4550:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXWalletName=t.creatOKXInjectWalletInfo=t.creatOKXMiniAppWalletInfo=t.creatOKXWalletInfo=t.ISignClientEvents=t.IEngine=t.IEngineEvents=t.ISignClient=t.getBigIntRpcId=t.formatJsonRpcRequest=t.isJsonRpcError=t.isJsonRpcResponse=t.parseConnectionError=t.isHttpUrl=t.formatJsonRpcError=void 0;var i=n(64);Object.defineProperty(t,"formatJsonRpcError",{enumerable:!0,get:function(){return i.formatJsonRpcError}}),Object.defineProperty(t,"isHttpUrl",{enumerable:!0,get:function(){return i.isHttpUrl}}),Object.defineProperty(t,"parseConnectionError",{enumerable:!0,get:function(){return i.parseConnectionError}}),Object.defineProperty(t,"isJsonRpcResponse",{enumerable:!0,get:function(){return i.isJsonRpcResponse}}),Object.defineProperty(t,"isJsonRpcError",{enumerable:!0,get:function(){return i.isJsonRpcError}}),Object.defineProperty(t,"formatJsonRpcRequest",{enumerable:!0,get:function(){return i.formatJsonRpcRequest}}),Object.defineProperty(t,"getBigIntRpcId",{enumerable:!0,get:function(){return i.getBigIntRpcId}});var s=n(7378);Object.defineProperty(t,"ISignClient",{enumerable:!0,get:function(){return s.ISignClient}}),Object.defineProperty(t,"IEngineEvents",{enumerable:!0,get:function(){return s.IEngineEvents}}),Object.defineProperty(t,"IEngine",{enumerable:!0,get:function(){return s.IEngine}}),Object.defineProperty(t,"ISignClientEvents",{enumerable:!0,get:function(){return s.ISignClientEvents}}),o(n(9612),t);var a=n(1398);Object.defineProperty(t,"creatOKXWalletInfo",{enumerable:!0,get:function(){return a.creatOKXWalletInfo}}),Object.defineProperty(t,"creatOKXMiniAppWalletInfo",{enumerable:!0,get:function(){return a.creatOKXMiniAppWalletInfo}}),Object.defineProperty(t,"creatOKXInjectWalletInfo",{enumerable:!0,get:function(){return a.creatOKXInjectWalletInfo}}),Object.defineProperty(t,"OKXWalletName",{enumerable:!0,get:function(){return a.OKXWalletName}})},64:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};function o(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return"result"in e}function s(e){return"error"in e}Object.defineProperty(t,"__esModule",{value:!0}),t.isJsonRpcPayload=o,t.isJsonRpcRequest=function(e){return o(e)&&"method"in e},t.isJsonRpcResponse=function(e){return o(e)&&(i(e)||s(e))},t.isJsonRpcResult=i,t.isJsonRpcError=s,t.payloadId=h,t.getBigIntRpcId=function(){return BigInt(Date.now())*BigInt(1e6)+BigInt(u.getNextValue())},t.formatJsonRpcRequest=function(e,t,n){return{id:n||h(),jsonrpc:"2.0",method:e,params:t}},t.formatJsonRpcResult=function(e,t){return{id:e,jsonrpc:"2.0",result:t}},t.formatJsonRpcError=function(e,t,n){return{id:e,jsonrpc:"2.0",error:m(t,n)}},t.isReservedErrorCode=f,t.getError=g,t.getErrorByCode=p,t.formatErrorMessage=m,t.isHttpUrl=function(e){return y(e,"^https?:")},t.isWsUrl=function(e){return y(e,"^wss?:")},t.parseConnectionError=function(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e};const a=n(8411),c=r(n(8947));class l{constructor(e){this.i=1,8===e?new Uint8Array(1):16===e?new Uint16Array(1):new Uint32Array(1),this.initialValue=e?c.default.randomBytes(e/8)[0]:0}getNextValue(){return this.initialValue+this.i++}}const d=new l(8),u=new l(16);function h(){return 1e3*Date.now()+d.getNextValue()}function f(e){return a.RESERVED_ERROR_CODES.includes(e)}function g(e){return Object.keys(a.STANDARD_ERROR_MAP).includes(e)?a.STANDARD_ERROR_MAP[e]:a.STANDARD_ERROR_MAP[a.DEFAULT_ERROR]}function p(e){return Object.values(a.STANDARD_ERROR_MAP).find((t=>t.code===e))||a.STANDARD_ERROR_MAP[a.DEFAULT_ERROR]}function m(e,t){return void 0===e?g(a.INTERNAL_ERROR):("string"==typeof e&&(e=Object.assign(Object.assign({},g(a.SERVER_ERROR)),{message:e})),void 0!==t&&(e.data=t),f(e.code)&&(e=p(e.code)),e)}function y(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==n&&new RegExp(t).test(n)}},8279:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_ITEM_ERROR_CODES=void 0,function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"}(n||(t.CONNECT_ITEM_ERROR_CODES=n={}))},4590:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TONCHAIN=void 0,function(e){e.MAINNET="-239"}(n||(t.TONCHAIN=n={}))},9612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_ITEM_ERROR_CODES=t.TONCHAIN=void 0;var r=n(4590);Object.defineProperty(t,"TONCHAIN",{enumerable:!0,get:function(){return r.TONCHAIN}});var o=n(8279);Object.defineProperty(t,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return o.CONNECT_ITEM_ERROR_CODES}})},1398:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXInjectWalletName=t.OKXMiniWalletName=t.OKXWalletName=void 0,t.creatOKXWalletInfo=function(){return{appName:"okxAppWallet",name:t.OKXWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}},t.creatOKXMiniAppWalletInfo=function(){return{appName:"okxMiniApp",name:t.OKXMiniWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}},t.creatOKXInjectWalletInfo=function(){return{appName:"okxInjectWallet",name:t.OKXInjectWalletName,imageUrl:""}},t.OKXWalletName="OKX Wallet",t.OKXMiniWalletName="OKX Mini Wallet",t.OKXInjectWalletName="OKX Inject Wallet"},5826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_MINI_WALLET_NAME=t.OKX_APP_WALLET_NAME=t.stackDeepLink=t.tgwalletAppName=t.tgwalletName=t.tonConnectSdkVersion=t.shortUniversalLink=t.standardDeeplink=t.downloadUrl=t.standardUniversalLink=t.okxDeeplink=void 0,t.getTestTwaUrl=function(){return window.okxTesttwaUrl},t.getTestTgTwaUrl=function(){return window.okxTestTgtwaUrl},t.getBotNameAndAppName=function(e){const t=new URL(e).pathname.split("/").filter(Boolean);if(t.length>=2)return{botName:t[0],appName:t[1]}},t.okxDeeplink="okx://web3",t.standardUniversalLink="undefined"!=typeof window&&window.location.hostname.includes("okx.com")?"https://link.okx.com/download":"https://www.okx.com/download",t.downloadUrl="https://www.okx.com/download",t.standardDeeplink=`${t.okxDeeplink}/wallet/connect`,t.shortUniversalLink="https://www.okx.com/ul/connect",t.tonConnectSdkVersion="1",t.tgwalletName="OKX_WALLET_BOT",t.tgwalletAppName="start",t.stackDeepLink="okx://web3?stack=true",t.OKX_APP_WALLET_NAME="OKX Wallet",t.OKX_MINI_WALLET_NAME="OKX Mini Wallet"},8006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_CONNECT_ERROR_CODES=t.OKXConnectError=void 0;var r=n(8411);Object.defineProperty(t,"OKXConnectError",{enumerable:!0,get:function(){return r.OKXConnectError}}),Object.defineProperty(t,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return r.OKX_CONNECT_ERROR_CODES}})},8411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR=t.STANDARD_ERROR_MAP=t.SERVER_ERROR_CODE_RANGE=t.RESERVED_ERROR_CODES=t.SERVER_ERROR=t.INTERNAL_ERROR=t.INVALID_PARAMS=t.METHOD_NOT_FOUND=t.INVALID_REQUEST=t.PARSE_ERROR=t.OKX_CONNECT_ERROR_CODES=t.OKXConnectError=void 0;class n extends Error{constructor(e,t){null==t&&(t=function(e){return e==r.UNKNOWN_ERROR?"unknown error":e==r.BAD_REQUEST_ERROR?"bad request error":e==r.ALREADY_CONNECTED_ERROR?"already connected error":e==r.NOT_CONNECTED_ERROR?"not connected error":e==r.UNKNOWN_APP_ERROR?"unknown app error":e==r.USER_REJECTS_ERROR?"user rejects error":e==r.USER_REJECTS_ERROR_CAUSE_REGISTER?"wallet address are registering":e==r.METHOD_NOT_SUPPORTED?"method not supported":e==r.CONNECTION_ERROR?"connect error":e==r.CHAIN_NOT_SUPPORTED?"chain not supported":"unknown error"}(e)),super(t),this.code=e,this.message=`${n.prefix} ${t?"\n"+t:""}`,Object.setPrototypeOf(this,n.prototype)}toJSON(){return{message:this.message,code:this.code}}}var r;t.OKXConnectError=n,n.prefix="[OKX_CONNECT_SDK_ERROR]",function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.ALREADY_CONNECTED_ERROR=11]="ALREADY_CONNECTED_ERROR",e[e.NOT_CONNECTED_ERROR=12]="NOT_CONNECTED_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.USER_REJECTS_ERROR_CAUSE_REGISTER=301]="USER_REJECTS_ERROR_CAUSE_REGISTER",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e[e.CHAIN_NOT_SUPPORTED=500]="CHAIN_NOT_SUPPORTED",e[e.WALLET_NOT_SUPPORTED=600]="WALLET_NOT_SUPPORTED",e[e.CONNECTION_ERROR=700]="CONNECTION_ERROR"}(r||(t.OKX_CONNECT_ERROR_CODES=r={})),t.PARSE_ERROR="PARSE_ERROR",t.INVALID_REQUEST="INVALID_REQUEST",t.METHOD_NOT_FOUND="METHOD_NOT_FOUND",t.INVALID_PARAMS="INVALID_PARAMS",t.INTERNAL_ERROR="INTERNAL_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],t.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],t.STANDARD_ERROR_MAP={[t.PARSE_ERROR]:{code:-32700,message:"Parse error"},[t.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[t.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[t.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[t.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[t.SERVER_ERROR]:{code:-32e3,message:"Server error"}},t.DEFAULT_ERROR=t.SERVER_ERROR},9599:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.NAMES_CHAINS=t.TON_CHAINS=t.COSMOS_CHAINS=t.APTOS_CHAINS=t.SUI_CHAINS=t.SOLANA_CHAINS=t.BTC_CHAINS=t.downloadUrl=t.okxDeeplink=t.tonConnectSdkVersion=t.standardDeeplink=t.standardUniversalLink=t.NameSpaceKeyStarknet=t.NameSpaceKeyTron=t.NameSpaceKeyCosmos=t.NameSpaceKeyAptos=t.NameSpaceKeyBtc=t.NameSpaceKeySui=t.NameSpaceKeyTON=t.NameSpaceKeySOL=t.NameSpaceKeyEip155=void 0,o(n(8006),t);var i=n(9859);Object.defineProperty(t,"NameSpaceKeyEip155",{enumerable:!0,get:function(){return i.NameSpaceKeyEip155}}),Object.defineProperty(t,"NameSpaceKeySOL",{enumerable:!0,get:function(){return i.NameSpaceKeySOL}}),Object.defineProperty(t,"NameSpaceKeyTON",{enumerable:!0,get:function(){return i.NameSpaceKeyTON}}),Object.defineProperty(t,"NameSpaceKeySui",{enumerable:!0,get:function(){return i.NameSpaceKeySui}}),Object.defineProperty(t,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return i.NameSpaceKeyBtc}}),Object.defineProperty(t,"NameSpaceKeyAptos",{enumerable:!0,get:function(){return i.NameSpaceKeyAptos}}),Object.defineProperty(t,"NameSpaceKeyCosmos",{enumerable:!0,get:function(){return i.NameSpaceKeyCosmos}}),Object.defineProperty(t,"NameSpaceKeyTron",{enumerable:!0,get:function(){return i.NameSpaceKeyTron}}),Object.defineProperty(t,"NameSpaceKeyStarknet",{enumerable:!0,get:function(){return i.NameSpaceKeyStarknet}});var s=n(5826);Object.defineProperty(t,"standardUniversalLink",{enumerable:!0,get:function(){return s.standardUniversalLink}}),Object.defineProperty(t,"standardDeeplink",{enumerable:!0,get:function(){return s.standardDeeplink}}),Object.defineProperty(t,"tonConnectSdkVersion",{enumerable:!0,get:function(){return s.tonConnectSdkVersion}}),Object.defineProperty(t,"okxDeeplink",{enumerable:!0,get:function(){return s.okxDeeplink}}),Object.defineProperty(t,"downloadUrl",{enumerable:!0,get:function(){return s.downloadUrl}}),o(n(4550),t);var a=n(3605);Object.defineProperty(t,"BTC_CHAINS",{enumerable:!0,get:function(){return a.BTC_CHAINS}}),Object.defineProperty(t,"SOLANA_CHAINS",{enumerable:!0,get:function(){return a.SOLANA_CHAINS}}),Object.defineProperty(t,"SUI_CHAINS",{enumerable:!0,get:function(){return a.SUI_CHAINS}}),Object.defineProperty(t,"APTOS_CHAINS",{enumerable:!0,get:function(){return a.APTOS_CHAINS}}),Object.defineProperty(t,"COSMOS_CHAINS",{enumerable:!0,get:function(){return a.COSMOS_CHAINS}}),Object.defineProperty(t,"TON_CHAINS",{enumerable:!0,get:function(){return a.TON_CHAINS}}),Object.defineProperty(t,"NAMES_CHAINS",{enumerable:!0,get:function(){return a.NAMES_CHAINS}})},9859:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NameSpaceKeyStarknet=t.NameSpaceKeyTron=t.NameSpaceKeyCosmos=t.NameSpaceKeyAptos=t.NameSpaceKeyBtc=t.NameSpaceKeySui=t.NameSpaceKeyTON=t.NameSpaceKeySOL=t.NameSpaceKeyEip155=void 0,t.NameSpaceKeyEip155="eip155",t.NameSpaceKeySOL="solana",t.NameSpaceKeyTON="ton",t.NameSpaceKeySui="sui",t.NameSpaceKeyBtc="btc",t.NameSpaceKeyAptos="aptos",t.NameSpaceKeyCosmos="cosmos",t.NameSpaceKeyTron="tron",t.NameSpaceKeyStarknet="starknet"},9214:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function r(e,t){return n(this,void 0,void 0,(function*(){return new Promise(((n,r)=>{var o,i;if(null===(o=null==t?void 0:t.signal)||void 0===o?void 0:o.aborted)return void r(new Error("Delay aborted"));const s=setTimeout((()=>n()),e);null===(i=null==t?void 0:t.signal)||void 0===i||i.addEventListener("abort",(()=>{clearTimeout(s),r(new Error("Delay aborted"))}))}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.callForSuccess=function(e,t){return n(this,void 0,void 0,(function*(){var n,o;const i=null!==(n=null==t?void 0:t.attempts)&&void 0!==n?n:3,s=null!==(o=null==t?void 0:t.delayMs)&&void 0!==o?o:800;if("function"!=typeof e)throw new Error("Expected a function, got "+typeof e);let a,c=0;for(;c<i;)try{return yield e()}catch(e){a=e,c++,c<i&&(yield r(s))}throw a}))},t.delay=r},9088:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getNamespaceKeyByChain=t.chainName2IdMap=t.replaceChainIdToChainName=t.replaceChainNameToChainId=t.checkMetaData=t.versionCompare=t.isBrowser=t.isOS=t.isMobileUserAgent=t.openDeeplinkWithFallback=t.openLinkBlank=t.openLink=t.getChainId=t.useShortLink=t.toSafeBase64FromBase64=t.isValidObject=t.isIos=t.base64decode=t.base64encode=t.splitToUint8Arrays=t.concatUint8Arrays=t.toHexString=t.hexToByteArray=t.getOKXLink=t.openOKXUniversalLink=t.getAppWalletShortDeepLink=t.encodeTWAConnectURLParams=t.encodeConnectParams=t.openOKXTMAWalletlinkWithFallback=t.getTelegramWalletTWAUrl=t.getAppWalletDeepLink=t.encodeTelegramUrlParameters=t.isTelegramUrl=t.openOKXDeeplinkWithFallback=t.openOKXDeeplink=t.getUniversalLink=t.safeJsonStringify=t.safeJsonParse=t.getDefaultReporter=t.reportEvent=t.reportLog=t.logWarning=t.logError=t.logDebug=t.callForSuccess=void 0;var i=n(9214);Object.defineProperty(t,"callForSuccess",{enumerable:!0,get:function(){return i.callForSuccess}});var s=n(458);Object.defineProperty(t,"logDebug",{enumerable:!0,get:function(){return s.logDebug}}),Object.defineProperty(t,"logError",{enumerable:!0,get:function(){return s.logError}}),Object.defineProperty(t,"logWarning",{enumerable:!0,get:function(){return s.logWarning}}),Object.defineProperty(t,"reportLog",{enumerable:!0,get:function(){return s.reportLog}}),Object.defineProperty(t,"reportEvent",{enumerable:!0,get:function(){return s.reportEvent}}),Object.defineProperty(t,"getDefaultReporter",{enumerable:!0,get:function(){return s.getDefaultReporter}}),o(n(8675),t),o(n(3960),t);var a=n(6173);Object.defineProperty(t,"safeJsonParse",{enumerable:!0,get:function(){return a.safeJsonParse}}),Object.defineProperty(t,"safeJsonStringify",{enumerable:!0,get:function(){return a.safeJsonStringify}});var c=n(2369);Object.defineProperty(t,"getUniversalLink",{enumerable:!0,get:function(){return c.getUniversalLink}}),Object.defineProperty(t,"openOKXDeeplink",{enumerable:!0,get:function(){return c.openOKXDeeplink}}),Object.defineProperty(t,"openOKXDeeplinkWithFallback",{enumerable:!0,get:function(){return c.openOKXDeeplinkWithFallback}}),Object.defineProperty(t,"isTelegramUrl",{enumerable:!0,get:function(){return c.isTelegramUrl}}),Object.defineProperty(t,"encodeTelegramUrlParameters",{enumerable:!0,get:function(){return c.encodeTelegramUrlParameters}}),Object.defineProperty(t,"getAppWalletDeepLink",{enumerable:!0,get:function(){return c.getAppWalletDeepLink}}),Object.defineProperty(t,"getTelegramWalletTWAUrl",{enumerable:!0,get:function(){return c.getTelegramWalletTWAUrl}}),Object.defineProperty(t,"openOKXTMAWalletlinkWithFallback",{enumerable:!0,get:function(){return c.openOKXTMAWalletlinkWithFallback}}),Object.defineProperty(t,"encodeConnectParams",{enumerable:!0,get:function(){return c.encodeConnectParams}}),Object.defineProperty(t,"encodeTWAConnectURLParams",{enumerable:!0,get:function(){return c.encodeTWAConnectURLParams}}),Object.defineProperty(t,"getAppWalletShortDeepLink",{enumerable:!0,get:function(){return c.getAppWalletShortDeepLink}}),Object.defineProperty(t,"openOKXUniversalLink",{enumerable:!0,get:function(){return c.openOKXUniversalLink}}),Object.defineProperty(t,"getOKXLink",{enumerable:!0,get:function(){return c.getOKXLink}});var l=n(8105);Object.defineProperty(t,"hexToByteArray",{enumerable:!0,get:function(){return l.hexToByteArray}}),Object.defineProperty(t,"toHexString",{enumerable:!0,get:function(){return l.toHexString}}),Object.defineProperty(t,"concatUint8Arrays",{enumerable:!0,get:function(){return l.concatUint8Arrays}}),Object.defineProperty(t,"splitToUint8Arrays",{enumerable:!0,get:function(){return l.splitToUint8Arrays}}),Object.defineProperty(t,"base64encode",{enumerable:!0,get:function(){return l.base64encode}}),Object.defineProperty(t,"base64decode",{enumerable:!0,get:function(){return l.base64decode}}),Object.defineProperty(t,"isIos",{enumerable:!0,get:function(){return l.isIos}}),Object.defineProperty(t,"isValidObject",{enumerable:!0,get:function(){return l.isValidObject}}),Object.defineProperty(t,"toSafeBase64FromBase64",{enumerable:!0,get:function(){return l.toSafeBase64FromBase64}}),Object.defineProperty(t,"useShortLink",{enumerable:!0,get:function(){return l.useShortLink}}),Object.defineProperty(t,"getChainId",{enumerable:!0,get:function(){return l.getChainId}});var d=n(5555);Object.defineProperty(t,"openLink",{enumerable:!0,get:function(){return d.openLink}}),Object.defineProperty(t,"openLinkBlank",{enumerable:!0,get:function(){return d.openLinkBlank}}),Object.defineProperty(t,"openDeeplinkWithFallback",{enumerable:!0,get:function(){return d.openDeeplinkWithFallback}}),Object.defineProperty(t,"isMobileUserAgent",{enumerable:!0,get:function(){return d.isMobileUserAgent}}),Object.defineProperty(t,"isOS",{enumerable:!0,get:function(){return d.isOS}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return d.isBrowser}});var u=n(435);Object.defineProperty(t,"versionCompare",{enumerable:!0,get:function(){return u.versionCompare}});var h=n(8093);Object.defineProperty(t,"checkMetaData",{enumerable:!0,get:function(){return h.checkMetaData}});var f=n(8105);Object.defineProperty(t,"replaceChainNameToChainId",{enumerable:!0,get:function(){return f.replaceChainNameToChainId}}),Object.defineProperty(t,"replaceChainIdToChainName",{enumerable:!0,get:function(){return f.replaceChainIdToChainName}}),Object.defineProperty(t,"chainName2IdMap",{enumerable:!0,get:function(){return f.chainName2IdMap}}),Object.defineProperty(t,"getNamespaceKeyByChain",{enumerable:!0,get:function(){return f.getNamespaceKeyByChain}})},458:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultReporter=function(){return a},t.logDebug=function(...e){if("undefined"!=typeof console)try{(o||(null===window||void 0===window?void 0:window.okxLogDebug))&&console.log(`[OKX_CONNECT_SDK] ${c} `,...e)}catch(e){}},t.logError=function(...e){if("undefined"!=typeof console)try{if((o||(null===window||void 0===window?void 0:window.okxLogDebug))&&console.error(`[OKX_CONNECT_SDK] ${c} `,...e),i||!o){let t="";t+=[...e].reduce(((e,t)=>{"string"==typeof t||"object"==typeof t&&JSON.stringify(t)})),a.sendRecordContent(t,s.OKXReportType.LOG,"")}}catch(e){}},t.logWarning=function(...e){if("undefined"!=typeof console)try{(o||(null===window||void 0===window?void 0:window.okxLogDebug))&&console.warn(`[OKX_CONNECT_SDK] ${c} `,...e)}catch(e){}},t.reportEvent=function(e,t,n){return r(this,void 0,void 0,(function*(){yield a.sendRecordContent(n,e,t)}))},t.reportLog=function(e){return r(this,arguments,void 0,(function*(e,t="default"){}))};const o=!1,i=!1,s=n(3960),a=new s.OKXReporter,c=n(628).version},8184:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaNotTouch=t.mediaTouch=t.maxWidth=void 0,t.isDevice=function(e){var n;const a=(0,i.getWindow)();if(!a)return"desktop"===e;if((0,o.isTmaPlatform)("weba"))return!0;const c=a.innerWidth;switch(e){case"desktop":return c>t.maxWidth.tablet;case"tablet":return c>t.maxWidth.mobile;default:let e=c<=t.maxWidth.mobile||(0,r.isOS)("ios","android","ipad");if(e){const t=!!(null===(n=(0,i.getWindow)())||void 0===n?void 0:n.TelegramWebviewProxy),r=navigator.maxTouchPoints||0;t&&0===r&&(e=!1),(0,s.logDebug)("isDevice mobile isTelegram and maxTouchPoints:",e,t,r)}return e}},t.media=function(e){switch(e){case"mobile":return`@media (max-width: ${t.maxWidth.mobile}px)`;case"tablet":return`@media (max-width: ${t.maxWidth.tablet}px) (min-width: ${t.maxWidth.mobile}px)`;default:return`@media (min-width: ${t.maxWidth.tablet}px)`}},t.mediaMin=function(e){return`@media (min-width: ${e}px)`},t.mediaMax=function(e){return`@media (max-width: ${e}px)`},t.mediaMinMax=function(e,t){return`@media (min-width: ${e}px) and (max-width: ${t}px)`};const r=n(5555),o=n(435),i=n(2369),s=n(458);t.maxWidth={mobile:440,tablet:1020},t.mediaTouch="@media (hover: none)",t.mediaNotTouch="@media not all and (hover: none)"},3960:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXReporter=t.OKXReportSide=t.OKXReportType=t.versionStr=void 0;const i=o(n(6671)),s=n(458),a=n(2369),c=n(9088),l=o(n(3790)),d=o(n(8947));t.versionStr="1.7.3";const u=["https://www.okx.com/dappstat/wallet-connect","https://www.okx.ac/dappstat/wallet-connect"],h="OKX_RP_UUID_CK",f={headers:{Accept:"*/*","Content-Type":"text/plain"},method:"POST"};t.OKXReportType={PAGE_IN:"page_in",PAGE_OUT:"page_out",CLICK:"click",LOG:"log"},t.OKXReportSide={DAPP:"dapp",WALLET:"wallet"},t.OKXReporter=class{constructor(){this.currentSide=t.OKXReportSide.DAPP,this.currentVersion=t.versionStr,this.storage=l.default.createInstance({name:"OKXReporter"}),this.recordList=new Array,this.currentUUID=(0,c.toHexString)(d.default.randomBytes(16))}configVersionAndSide(e,t,n){this.currentVersion=e,this.currentSide=t,this.appName=n}get recordCacheKey(){return"OKX_RP_CK@"+this.appName}get reportPlatform(){return(0,c.isMobileUserAgent)()?(0,c.isIos)()?"iOS":"android":"pc"}beginReport(){return r(this,void 0,void 0,(function*(){this.startErrorCatching();let e=yield this.storage.getItem(this.recordCacheKey),t=yield this.storage.getItem(h);t?this.currentUUID=t:this.storage.setItem(h,this.currentUUID),e&&(this.recordList=e,(0,s.logDebug)("resume records from cache length: ",this.recordList.length),yield this.sendCachedRecords())}))}startErrorCatching(){(0,a.getWindow)()&&(0,s.logDebug)("begin capture console error")}cachedErrors(){return this.recordList}sendRecord(e){return r(this,void 0,void 0,(function*(){return new Promise(((t,n)=>r(this,void 0,void 0,(function*(){try{const o=JSON.stringify(e);(0,s.logDebug)("[REPORT] record: ",o);const a=yield((e,...t)=>r(void 0,[e,...t],void 0,(function*(e,t={},n=5e3){for(const r of e)try{const e=new AbortController,o=e.signal,s=(0,i.default)(r,Object.assign(Object.assign({},t),{signal:o})),a=new Promise(((t,r)=>setTimeout((()=>{e.abort(),r(new Error("Request timed out"))}),n))),c=yield Promise.race([s,a]);if(c.ok)return c;if(502==c.status)return console.error("Fetch error status 502",r),c}catch(e){console.error(`Fetch error for ${r}:`,e)}throw console.error("'All fetch attempts failed.'"),new Error("All fetch attempts failed.")})))(u,Object.assign(Object.assign({},f),{body:o}));(0,s.logDebug)("[REPORT] get rsp:",a),a&&a.status&&200==a.status?(this.recordList=this.recordList.filter((t=>t.timestamp!=e.timestamp||t.content!=e.content)),yield this.storage.setItem(this.recordCacheKey,this.recordList),t(!0)):n(!1)}catch(e){(0,s.logDebug)("send record error:",e),t(!0)}}))))}))}sendRecordContent(e,t,n){return r(this,void 0,void 0,(function*(){var r,o,i,s;let c=null===(r=(0,a.getWindow)())||void 0===r?void 0:r.location.pathname,l=null===(o=(0,a.getWindow)())||void 0===o?void 0:o.location.origin;c&&l&&(l+=c);let d=null===(i=(0,a.getWindow)())||void 0===i?void 0:i.navigator.language,u=null===(s=(0,a.getWindow)())||void 0===s?void 0:s.navigator.userAgent,h=this.reportPlatform,f={uuid:this.currentUUID,version:this.currentVersion,content:e,action:n,side:this.currentSide,timestamp:(new Date).getTime(),url:l,lang:d,type:t,platform:h,"user-agent":u};yield this.markRecordItem(f),yield this.sendRecord(f)}))}sendCachedRecords(){return r(this,void 0,void 0,(function*(){return new Promise(((e,t)=>r(this,void 0,void 0,(function*(){let n=this.recordList.map((e=>this.sendRecord(e)));(0,s.logDebug)("[REPORT] submit & clean recorded caches begin @",(new Date).toUTCString()),Promise.allSettled(n).then((n=>{(0,s.logDebug)("[REPORT] submit & clean recorded caches ends @",(new Date).toUTCString());let r=[];n.forEach(((e,t)=>{"rejected"==e.status&&r.push(t)})),this.recordList=this.recordList.filter(((e,t)=>!r.includes(t))),this.storage.setItem(this.recordCacheKey,this.recordList).then((function(t){e()})).catch((function(e){t(e)}))}))}))))}))}markRecordItem(e){return r(this,void 0,void 0,(function*(){if(this.recordList.push(e),this.recordList.length>100){let e=this.recordList.length-100;this.recordList.splice(0,e)}return new Promise(((t,n)=>{this.storage.setItem(this.recordCacheKey,this.recordList).then((function(n){t(e)})).catch((function(e){n(e)}))}))}))}markRecord(e,t,n,o){return r(this,void 0,void 0,(function*(){var r,i,s,c;let l=null===(r=(0,a.getWindow)())||void 0===r?void 0:r.location.pathname,d=null===(i=(0,a.getWindow)())||void 0===i?void 0:i.location.origin;l&&d&&(d+=l);let u=null===(s=(0,a.getWindow)())||void 0===s?void 0:s.navigator.language,h=this.reportPlatform,f=null===(c=(0,a.getWindow)())||void 0===c?void 0:c.navigator.userAgent,g={uuid:this.currentUUID,version:this.currentVersion,content:e,action:n,side:o,timestamp:(new Date).getTime(),url:d,lang:u,type:t,platform:h,"user-agent":f};return yield this.markRecordItem(g)}))}}},8675:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Report_WalletType_Key=t.Report_ConnectDapp_ConnectAndSign_Click=t.Report_Proceed_QRCode_Click=t.Report_ChooseType_Download_Click=t.Report_ChooseType_ConnectWallet_Click=t.Report_Proceed_Retry_Click=t.Report_ChooseType_ConnectWallet_View=t.Report_Loading_ConnectWallet_View=t.Report_Proceed_QRCode_View=t.Report_Proceed_Proceed_View=void 0,t.Report_Proceed_Proceed_View="OKXConnectSDK_Proceed_Proceed_View",t.Report_Proceed_QRCode_View="OKXConnectSDK_Proceed_QRCode_View",t.Report_Loading_ConnectWallet_View="OKXConnectSDK_Loading_ConnectWallet_View",t.Report_ChooseType_ConnectWallet_View="OKXConnectSDK_ChooseType_ConnectWallet_View",t.Report_Proceed_Retry_Click="OKXConnectSDK_Proceed_Retry_Click",t.Report_ChooseType_ConnectWallet_Click="OKXConnectSDK_ChooseType_ConnectWallet_Click",t.Report_ChooseType_Download_Click="OKXConnectSDK_ChooseType_Download_Click",t.Report_Proceed_QRCode_Click="OKXConnectSDK_Proceed_QRCode_Click",t.Report_ConnectDapp_ConnectAndSign_Click="OKXConnectSDK_ConnectDapp_ConnectAndSign_Click",t.Report_WalletType_Key="wallet_type"},8093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkMetaData=function(e){if(!e)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"You have to specify a `dappMetaData`in the options.");if(!e.name)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"dappName is required");if(!e.icon)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"icon is required");return!0};const r=n(9599)},6173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonParse=function(e){if("string"!=typeof e)throw(0,r.logDebug)(e),new Error("Cannot safe json parse value of type "+typeof e);try{return i(e)}catch(t){return console.error("safeJsonParse error:",t),e}},t.safeJsonStringify=function(e){return"string"==typeof e?e:o(e)||""};const r=n(458),o=e=>JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString()+"n":t)),i=e=>{const t=e.replace(/:(\b\d{17,}|\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,((e,t)=>`:"${t}n"`));try{return JSON.parse(t,((e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))}catch(t){return JSON.parse(e)}}},6910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.okxfromString=function(e,t="utf8"){const n=l[t];if((0,o.logDebug)("okxfromstring ====> "),!n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)},t.okxtoString=function(e,t="utf8"){const n=l[t];if((0,o.logDebug)("okxtoString ====> "),!n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)},t.alloc=function(e=0){return new Uint8Array(e)},t.allocUnsafe=i;const r=n(2571),o=n(458);function i(e=0){return new Uint8Array(e)}function s(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const a=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),c=s("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++){let r=e[n];r&&String.fromCharCode(r)&&(t+=String.fromCharCode(r))}return t}),(e=>{const t=i((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),l=Object.assign({utf8:a,"utf-8":a,hex:r.bases.base16,latin1:c,ascii:c,binary:c},r.bases)},435:(e,t,n)=>{"use strict";var r,o,i,s,a,c,l;Object.defineProperty(t,"__esModule",{value:!0}),t.isTmaPlatform=function(...e){return e.includes(p)},t.isInTMA=y,t.inTg=function(){return v()||y()},t.isInTelegramBrowser=v,t.sendExpand=function(){C("web_app_expand",{})},t.sendOpenTelegramLink=function(e,t){const n=new URL(e);if("http:"!==n.protocol&&"https:"!==n.protocol){if(t)return t();throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url protocol is not supported: ${n}`)}if("t.me"!==n.hostname){if(t)return t();throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url host is not supported: ${n}`)}const r=n.pathname+n.search;b()||_(m,"6.1")>=0?C("web_app_open_tg_link",{path_full:r}):(0,f.openLinkBlank)("https://t.me"+r)},t.versionCompare=_;const d=n(2369),u=n(458),h=n(9599),f=n(5555);let g={};try{g=function(e){let t={};if(!(e=e.replace(/^#/,"")).length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=w(e),t;let n=e.indexOf("?");if(n>=0){let r=e.substr(0,n);t._path=w(r),e=e.substr(n+1)}let r=function(e){let t={};if(!e.length)return t;let n,r,o,i,s=e.split("&");for(n=0;n<s.length;n++)r=s[n].split("="),o=w(r[0]),i=null==r[1]?null:w(r[1]),t[o]=i;return t}(e);for(let e in r)t[e]=r[e];return t}(location.hash.toString())}catch(e){}let p="unknown";if((null==g?void 0:g.tgWebAppPlatform)&&(p=null!==(r=g.tgWebAppPlatform)&&void 0!==r?r:"unknown"),"unknown"===p){const e=(0,d.getWindow)();p=null!==(s=null===(i=null===(o=null==e?void 0:e.Telegram)||void 0===o?void 0:o.WebApp)||void 0===i?void 0:i.platform)&&void 0!==s?s:"unknown"}let m="6.0";if((null==g?void 0:g.tgWebAppVersion)&&(m=g.tgWebAppVersion),!m){const e=(0,d.getWindow)();m=null!==(l=null===(c=null===(a=null==e?void 0:e.Telegram)||void 0===a?void 0:a.WebApp)||void 0===c?void 0:c.version)&&void 0!==l?l:"6.0"}function y(){var e;return"unknown"!==p||!!(null===(e=(0,d.getWindow)())||void 0===e?void 0:e.TelegramWebviewProxy)}function v(){var e;const t=!!(null===(e=(0,d.getWindow)())||void 0===e?void 0:e.TelegramWebview);return(y()||t)&&"unknown"===p}function b(){try{const e=(0,d.getWindow)();return!!e&&null!=e.parent&&e!==e.parent}catch(e){return!1}}function C(e,t){try{const n=(0,d.getWindow)();if(!n)throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to parent window: window is not defined");if(void 0!==n.TelegramWebviewProxy)(0,u.logDebug)("postEvent",e,t),n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));else if(n.external&&"notify"in n.external)(0,u.logDebug)("postEvent",e,t),n.external.notify(JSON.stringify({eventType:e,eventData:t}));else{if(!b())throw new h.OKXConnectError(h.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to TMA");{const r="*",o=JSON.stringify({eventType:e,eventData:t});(0,u.logDebug)("postEvent",e,t),n.parent.postMessage(o,r)}}}catch(e){(0,u.logError)(`Can't post event to parent window: ${e}`)}}function w(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch(t){return e}}function _(e,t){"string"!=typeof e&&(e=""),"string"!=typeof t&&(t="");let n,r,o,i,s=e.replace(/^\s+|\s+$/g,"").split("."),a=t.replace(/^\s+|\s+$/g,"").split(".");for(n=Math.max(s.length,a.length),r=0;r<n;r++)if(o=parseInt(s[r])||0,i=parseInt(a[r])||0,o!==i)return o>i?1:-1;return 0}},2369:(e,t,n)=>{"use strict";var r,o,i,s;Object.defineProperty(t,"__esModule",{value:!0}),t.removeUrlLastSlash=f,t.addPathToUrl=function(e,t){return f(e)+"/"+t},t.getUniversalLink=g,t.openOKXDeeplink=function(e){var t;const n=g(e),r=!!(null===(t=m())||void 0===t?void 0:t.TelegramWebviewProxy);console.log("openOKXDeeplink fullUrl:",n),!(0,d.isIos)()||(0,d.isInIOSLine)()?r?window.open(e,"_blank"):window.location.href=e:p(n)},t.openOKXUniversalLink=p,t.openOKXDeeplinkWithFallback=function(e){var t;const n=g(e),r=!!(null===(t=m())||void 0===t?void 0:t.TelegramWebviewProxy);console.log("openOKXDeeplinkWithFallback fullUrl:",n);let o=!1;a.standardUniversalLink,console.log("openOKXDeeplinkWithFallback standardUniversalLink:",a.standardUniversalLink);let i=null,s=()=>{console.log("fallbackToDownloadPage :empty")},c=(0,d.isInIOSChrome)()||(0,d.isInIOSLine)()||(0,d.isInIOSLark)()||(0,d.isInIOSWeChat)();if((0,d.isIos)()?c&&(s=()=>{console.log("windowOpen --\x3e fallbackToDownloadPage --",o),o||(console.log("windowOpen --\x3e fallbackToDownloadPage universal link"),window.open(n,"_self"))}):s=()=>{o||(i?i.open(n,"_self"):window.open(n,"_blank"))},!(0,d.isIos)()||c){r?i=window.open(e,"_blank"):(console.log("windowOpen --\x3e deeplinkUrl"),window.location.href=e),setTimeout(s,3e3);let t=0,n=setInterval((()=>{t++,console.log("windowOpen --\x3e interval:",t,document.hidden,document.visibilityState),document.hidden&&(o=!0),(t>10||document.hidden)&&(clearInterval(n),console.log("windowOpen :cleat: ${count}"))}),200);window.addEventListener("blur",(()=>{console.log("windowOpen :blur"),o=!0}),{once:!0}),document.addEventListener("visibilitychange",(()=>{console.log("windowOpen :visibilitychange:",document.visibilityState),"hidden"===document.visibilityState&&(o=!0)}))}else r?window.open(n,"_blank"):(console.log("windowOpen[before]: ",Date.now()),(null===window||void 0===window?void 0:window.okxLogDebug)?window.open(n,"_blank"):window.open(n,"_self"),console.log("windowOpen[after]: ",Date.now()))},t.getWindow=m,t.isTelegramUrl=function(e){if(!e)return!1;const t=new URL(e);return"tg:"===t.protocol||"t.me"===t.hostname},t.encodeTelegramUrlParameters=function(e){let t=e;return t=t.replace(/\./g,"%2E"),t=t.replace(/-/g,"%2D"),t=t.replace(/_/g,"%5F"),t=t.replace(/&/g,"-"),t=t.replace(/=/g,"__"),t=t.replace(/%/g,"--"),t},t.encodeConnectParams=y,t.encodeTWAConnectURLParams=v,t.getAppWalletDeepLink=function(e){return`${a.standardDeeplink}?param=${e}`},t.getAppWalletShortDeepLink=b,t.getTelegramWalletTWAUrl=C,t.openOKXTMAWalletlinkWithFallback=function(e){var t,n,r,o,i;(0,c.logDebug)("[TWA] open link:",e,"isInTMA ==> ",E()),E()?(null===(n=null===(t=m())||void 0===t?void 0:t.Telegram)||void 0===n?void 0:n.WebApp)?null===(i=null===(o=null===(r=m())||void 0===r?void 0:r.Telegram)||void 0===o?void 0:o.WebApp)||void 0===i||i.openTelegramLink(e):(0,u.sendOpenTelegramLink)(e):(0,l.getTestTwaUrl)()?window.open(e,"_blank"):window.open(e,"_self")},t.isInTMA=E,t.isInTelegramBrowser=function(){var e;const t=!!(null===(e=m())||void 0===e?void 0:e.TelegramWebview);return(E()||t)&&"unknown"===O},t.getOKXLink=function(e,t=!1,n){if((0,c.logDebug)(`url  getOKXLink() called connectRequest==> ${JSON.stringify(e)}  useMini=> ${t}  tmaReturnUrl==> ${n}`),t)return C(e?v(e):void 0,null!=n?n:"back");if((0,d.useShortLink)())return e?b(e.topic,e.clientId):l.shortUniversalLink;if(e){const t=y(e);return`${a.standardDeeplink}?param=${t}`}return a.standardDeeplink};const a=n(9599),c=n(458),l=n(5826),d=n(8105),u=n(435),h=n(9074);function f(e){return"/"===e.slice(-1)?e.slice(0,-1):e}function g(e,t=!1){console.log("getUniversalLink deeplinkUrl:",e,", useStandardUniversalLink:",t);const n=encodeURIComponent(e);return console.log("getUniversalLink standardUniversalLink:",a.standardUniversalLink),console.log("getUniversalLink standardUniversalLink:",`${a.standardUniversalLink}?deeplink=${n}`),`${a.standardUniversalLink}?deeplink=${n}`}function p(e){(0,d.isIos)()?E()?window.open(e,"_blank"):(console.log("windowOpen[before]: ",Date.now()),(null===window||void 0===window?void 0:window.okxLogDebug)?window.open(e,"_blank"):window.open(e,"_self"),console.log("windowOpen[after]: ",Date.now())):window.open(e,"_blank")}function m(){if("undefined"!=typeof window)return window}function y(e){let t=Object.assign(Object.assign({},e),{protocolVersion:h.CONNECT_PROTOCOL_VER});const n=JSON.stringify(t);(0,c.logDebug)("url encodeConnectParams connectRequestStr ",n);const r=(new TextEncoder).encode(n),o=btoa(String.fromCharCode(...r));return(0,c.logDebug)("url encodeConnectParams base64Encoded ",o),o}function v(e){const t=JSON.stringify({topic:e.topic,clientId:e.clientId});(0,c.logDebug)("url encodeConnectParams connectRequestStr",t);const n=(new TextEncoder).encode(t);return btoa(String.fromCharCode(...n))}function b(e,t){return`${l.shortUniversalLink}?topic=${e}${(0,d.getLastSixMd5Hash)(t)}`}function C(e,t){let n={okxconnect:"",redirect:"",extraparams:"",fromtg:!1};e&&(n.okxconnect=e),t&&(n.redirect=t),E()?n.fromtg=!0:n.fromtg=!1,(0,c.logDebug)("getTelegramWalletTWAUrl redirect:",n.redirect);let r=JSON.stringify(n);const o=(new TextEncoder).encode(r),i=btoa(String.fromCharCode(...o)),s=(0,d.toSafeBase64FromBase64)(i);if((0,c.logDebug)("[TWA] open link:",n,i),e||t){if(E())return(0,l.getTestTgTwaUrl)()?`${(0,l.getTestTgTwaUrl)()}?startapp=${s}`:`https://t.me/${l.tgwalletName}/start?startapp=${s}`;if((0,l.getTestTwaUrl)())return`${(0,l.getTestTwaUrl)()}?tgWebAppStartParam=${s}`;if((0,l.getTestTgTwaUrl)()){let e=(0,l.getBotNameAndAppName)((0,l.getTestTgTwaUrl)());if(e){let{botName:t,appName:n}=e;return`tg://resolve?domain=${t}&appname=${n}&startapp=${s}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}&startapp=${s}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}&startapp=${s}`}if(E())return(0,l.getTestTgTwaUrl)()?`${(0,l.getTestTgTwaUrl)()}`:`https://t.me/${l.tgwalletName}/start`;if((0,l.getTestTwaUrl)())return`${(0,l.getTestTwaUrl)()}`;if((0,l.getTestTgTwaUrl)()){let e=(0,l.getBotNameAndAppName)((0,l.getTestTgTwaUrl)());if(e){let{botName:t,appName:n}=e;return`tg://resolve?domain=${t}&appname=${n}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}`}function w(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch(t){return e}}let _={};try{_=function(e){let t={};if(!(e=e.replace(/^#/,"")).length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=w(e),t;let n=e.indexOf("?");if(n>=0){let r=e.substr(0,n);t._path=w(r),e=e.substr(n+1)}let r=function(e){let t={};if(!e.length)return t;let n,r,o,i,s=e.split("&");for(n=0;n<s.length;n++)r=s[n].split("="),o=w(r[0]),i=null==r[1]?null:w(r[1]),t[o]=i;return t}(e);for(let e in r)t[e]=r[e];return t}(location.hash.toString())}catch(e){}let O="unknown";if((null==_?void 0:_.tgWebAppPlatform)&&(O=null!==(r=_.tgWebAppPlatform)&&void 0!==r?r:"unknown"),"unknown"===O){const e=m();O=null!==(s=null===(i=null===(o=null==e?void 0:e.Telegram)||void 0===o?void 0:o.WebApp)||void 0===i?void 0:i.platform)&&void 0!==s?s:"unknown"}function E(){var e;return"unknown"!==O||!!(null===(e=m())||void 0===e?void 0:e.TelegramWebviewProxy)}},8105:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.chainName2IdMap=t.isValidObject=t.RANDOM_LENGTH=t.isBrowser=t.resolveLocalStorage=t.hasLocalStorage=t.hasBuiltInWebSocket=t.resolveWebSocketImplementation=void 0,t.hexToByteArray=function(e){if(e.length%2!=0)throw new Error(`Cannot convert ${e} to bytesArray`);const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t},t.getChainId=function(e){return e.includes(":")?e.split(":")[1]:e},t.toHexString=function(e){let t="";return e.forEach((e=>{t+=("0"+(255&e).toString(16)).slice(-2)})),t},t.concatUint8Arrays=function(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n},t.splitToUint8Arrays=function(e,t){if(t>=e.length)throw new Error("Index is out of buffer");return[e.slice(0,t),e.slice(t)]},t.base64encode=function(e,t){let n;return e instanceof Uint8Array?n=e:("string"!=typeof e&&(e=(0,c.safeJsonStringify)(e)),n=i.default.decodeUTF8(e)),function(e,t){const n=i.default.encodeBase64(e);return t?encodeURIComponent(n):n}(n,t)},t.base64decode=function(e,t){const n=function(e,t){return t&&(e=decodeURIComponent(e)),i.default.decodeBase64(e)}(e,t);return{toString:()=>i.default.encodeUTF8(n),toObject(){try{return(0,c.safeJsonParse)(i.default.encodeUTF8(n))}catch(e){return null}},toUint8Array:()=>n}},t.checkWSUrl=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!t||!t.length)return!1;let n=t[0];return void 0!==n&&new RegExp("^wss?:").test(n)},t.hashKey=g,t.generateRandomBytes32=p,t.generateTopic=function(){let e=p();return(0,l.logDebug)(`generate topic called ${e}`),g((0,s.toString)(e,f))},t.generateGroupId=function(){let e=o.default.randomBytes(16);return(0,l.logDebug)(`generate groupid called ${e}`),g((0,s.toString)(e,f))},t.isInIOSLine=function(){return navigator.userAgent.includes("Safari Line/")&&m()},t.isInIOSLark=function(){return navigator.userAgent.includes("Lark/")&&m()},t.isInIOSChrome=function(){return navigator.userAgent.includes("CriOS/")&&m()},t.isInIOSWeChat=function(){return navigator.userAgent.includes("MicroMessenger/")&&m()},t.isIos=m,t.getLastSixMd5Hash=function(e){return u.default.MD5(e).toString().slice(-6)},t.toSafeBase64FromBase64=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},t.useShortLink=function(){return!1},t.replaceChainNameToChainId=function(e){return t.chainName2IdMap.forEach(((t,n)=>{e.includes(n)&&(e=e.replace(n,t))})),e},t.replaceChainIdToChainName=function(e){return t.chainName2IdMap.forEach(((t,n)=>{e.includes(t)&&(e=e.replace(t,n))})),e},t.getNamespaceKeyByChain=function(e){for(const[t,n]of Object.entries(h.NAMES_CHAINS))if(Object.values(n).includes(e))return t;return e};const o=r(n(8947)),i=r(n(6386)),s=n(9609),a=n(204),c=n(6173),l=n(458),d=n(6910),u=r(n(1396)),h=n(9599),f="base16";function g(e,t=f){(0,l.logDebug)(`hash key called ${e}`);const n=(0,a.hash)((0,d.okxfromString)(e,t));return(0,s.toString)(n,t)}function p(){return o.default.randomBytes(t.RANDOM_LENGTH)}function m(){const e=navigator.userAgent,t=navigator.maxTouchPoints||0,n=/iPad|iPhone|iPod/.test(e)&&!window.MSStream,r=e.includes("Mac")&&t>1;return(0,l.logDebug)(`utils isIos >>>isIOSDevice: ${n}    >> isIPadOS: ${r}`),n||r}t.resolveWebSocketImplementation=()=>"undefined"!=typeof WebSocket?WebSocket:void 0!==n.g&&void 0!==n.g.WebSocket?n.g.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:"undefined"!=typeof self&&void 0!==self.WebSocket?self.WebSocket:WebSocket,t.hasBuiltInWebSocket=()=>"undefined"!=typeof WebSocket||void 0!==n.g&&void 0!==n.g.WebSocket||"undefined"!=typeof window&&void 0!==window.WebSocket||"undefined"!=typeof self&&void 0!==self.WebSocket,t.hasLocalStorage=()=>void 0!==n.g&&void 0!==n.g.localStorage||"undefined"!=typeof window&&void 0!==window.localStorage,t.resolveLocalStorage=()=>void 0!==n.g&&void 0!==n.g.localStorage?n.g.localStorage:"undefined"!=typeof window&&void 0!==window.localStorage?window.localStorage:localStorage,t.isBrowser=()=>"undefined"!=typeof window,t.RANDOM_LENGTH=32,t.isValidObject=e=>Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length,t.chainName2IdMap=new Map,t.chainName2IdMap.set("aptos:mainnet","aptos:637"),t.chainName2IdMap.set("movement:testnet","aptos:70000060"),t.chainName2IdMap.set("movement:mainnet","aptos:70000066"),t.chainName2IdMap.set("soon:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000069"),t.chainName2IdMap.set("soon:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","svm:70000067"),t.chainName2IdMap.set("eclipse:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000068")},5555:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.openLink=a,t.openLinkBlank=function(e){a(e,"_blank")},t.openDeeplinkWithFallback=function(e,t){const n=setTimeout((()=>{d("safari")||l("android")&&d("firefox")||t()}),500);window.addEventListener("blur",(()=>clearTimeout(n)),{once:!0}),l("android")&&(0,s.inTg)()?a(e,"_blank"):a(e,"_self")},t.isMobileUserAgent=function(){let e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.slice(0,4)))&&(e=!0),e;var t},t.getUserAgent=c,t.isOS=l,t.isBrowser=d;const o=r(n(7232)),i=n(458),s=n(435);function a(e,t="_self"){(0,i.logDebug)("openLink",e,t),window.open(e,t,"noopener noreferrer")}function c(){var e,t,n;const r=(new o.default).getResult(),i=null===(e=r.os.name)||void 0===e?void 0:e.toLowerCase();let s;switch(!0){case"ipad"===(null===(t=r.device.model)||void 0===t?void 0:t.toLowerCase()):s="ipad";break;case"ios"===i:s="ios";break;case"android"===i:s="android";break;case"mac os"===i:s="macos";break;case"linux"===i:s="linux";break;case null==i?void 0:i.includes("windows"):s="windows"}const a=null===(n=r.browser.name)||void 0===n?void 0:n.toLowerCase();let c;switch(!0){case"chrome"===a:c="chrome";break;case"firefox"===a:c="firefox";break;case null==a?void 0:a.includes("safari"):c="safari";break;case null==a?void 0:a.includes("opera"):c="opera"}return{os:s,browser:c}}function l(...e){return e.includes(c().os)}function d(...e){return e.includes(c().browser)}},3325:(e,t,n)=>{var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g,o=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},o="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,s="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function g(e){this.map={},e instanceof g?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&s&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||d(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return p(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(s)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,o,i=p(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,n=m(t=new FileReader),o=(r=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?r[1]:"utf-8",t.readAsText(e,o),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}g.prototype.append=function(e,t){e=u(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},g.prototype.delete=function(e){delete this.map[u(e)]},g.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},g.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},g.prototype.set=function(e,t){this.map[u(e)]=h(t)},g.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},g.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},g.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},g.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},i&&(g.prototype[Symbol.iterator]=g.prototype.entries);var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,o,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new g(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new g(t.headers)),this.method=(o=(n=t.method||this.method||"GET").toUpperCase(),C.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function O(e,t){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new g(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var E=[301,302,303,307,308];O.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(o,i){var a=new w(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function d(){l.abort()}if(l.onload=function(){var e,t,n={statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new g,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();try{t.append(r,o)}catch(e){console.warn("Response "+e.message)}}})),t)};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?n.status=200:n.status=l.status,n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;setTimeout((function(){o(new O(r,n))}),0)},l.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){i(new t.DOMException("Aborted","AbortError"))}),0)},l.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(s?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof g||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach((function(e){f.push(u(e)),l.setRequestHeader(e,h(n.headers[e]))})),a.headers.forEach((function(e,t){-1===f.indexOf(t)&&l.setRequestHeader(t,e)}))}else a.headers.forEach((function(e,t){l.setRequestHeader(t,e)}));a.signal&&(a.signal.addEventListener("abort",d),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",d)}),l.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,r.fetch||(r.fetch=S,r.Headers=g,r.Request=w,r.Response=O),t.Headers=g,t.Request=w,t.Response=O,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var i=r.fetch?r:o;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},494:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXBtcProvider=void 0;const o=n(5312),i=n(9878);class s{constructor(e){this.caip=["btc:mainnet","fractal:mainnet"],this.provider=e}getAddressForChainId(e){var t,n;if(null==this.checkChainId(e))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let r=null===(n=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces.btc)||void 0===n?void 0:n.accounts.filter((function(t){return t.startsWith(e)}));if(null==r||r.length<0)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"no connected account");return r[0].split(":")[2]}getAccount(e){var t,n,r;if(null==this.checkChainId(e))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let i=null===(r=null===(n=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces.btc)||void 0===n?void 0:n.extra)||void 0===r?void 0:r[e],s="";return null!=i&&(s=i.compressedPublicKey),{address:this.getAddressForChainId(e),publicKey:s}}signMessage(e,t,n){return r(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===t)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signMessage parmas error");let r={signStr:t,from:this.getAddressForChainId(e)};n&&(r.type=n);try{const t=yield this.provider.request({method:"btc_signMessage",params:r},e);return"result"in t?t.result:t.error}catch(e){if(e instanceof o.OKXConnectError)throw e;throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}}))}sendBitcoin(e,t,n,i){return r(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let r={from:this.getAddressForChainId(e),to:t,value:(n/1e8).toString()};(null==i?void 0:i.feeRate)&&(r.satBytes=i.feeRate.toString());let s=yield this.send(e,r);return void 0!==s&&"txhash"in s?s.txhash:s}))}send(e,t){return r(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(!this.checkParameters(t,"to","value"))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method send parmas  error");t.from=this.getAddressForChainId(e);try{const n=yield this.provider.request({method:"btc_send",params:t},e);return"result"in n?{txhash:n.result}:n.error}catch(e){if(e instanceof o.OKXConnectError)throw e;throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${e}`)}}))}signPsbt(e,t,n){return r(this,void 0,void 0,(function*(){return new Promise(((r,o)=>{this.signPsbts(e,[t],[n]).then((e=>{let t=JSON.parse(e);r(t[0])})).catch((e=>{o(e)}))}))}))}signPsbts(e,t,n){return r(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===t)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let r={psbtHexs:t,options:n};r.from=this.getAddressForChainId(e);try{const t=yield this.provider.request({method:"btc_signPsbts",params:r},e);if("result"in t)return t.result}catch(e){if(e instanceof o.OKXConnectError)throw e;throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${e}`)}}))}signAndPushPsbt(e,t,n){return r(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===t)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let r={psbtHex:t,options:n};r.from=this.getAddressForChainId(e);try{const t=yield this.provider.request({method:"btc_signAndPushPsbt",params:r},e);return"result"in t?JSON.parse(t.result):t.error}catch(e){if(e instanceof o.OKXConnectError)throw e;throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${e}`)}}))}sendInscription(e,t,n,i){return r(this,void 0,void 0,(function*(){let r={address:t,inscriptionId:n,options:i};if(null==this.checkChainId(e))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===t)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method sendInscription params error");var s=0;i&&"feeRate"in i&&(s=i.feeRate);let a=this.getAddressForChainId(e);var c=7;if("undefined"!==n){let e="-Atomicals",t="-Ordinals";(null==n?void 0:n.toLowerCase().endsWith(e.toLowerCase()))?(c=8,n=this.removeSuffix(n,e)):(null==n?void 0:n.toLowerCase().endsWith(t.toLowerCase()))&&(n=this.removeSuffix(n,t))}let l={scenario:5,feeRate:s,txType:"20",to:t,batchBean:[{coinAmount:"1",nftId:n,protocolId:c,coinId:"",inscriptionId:"",from:a}],extension:r};try{const r=yield this.provider.request({method:"btc_sendInscription",params:l,injectParams:{address:t,inscriptionId:n,options:i}},e);return"result"in r?r.result:r.error}catch(e){if(e instanceof o.OKXConnectError)throw e;throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}}))}sendRunes(e,t,n,s,a){return r(this,void 0,void 0,(function*(){try{if(!(e&&t&&n&&s))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"The parameter is empty. Please check");let r,c=this.checkChainId(e);if(null!=c&&(c.startsWith("btc")?r=13:c.startsWith("fractal")&&(r=16)),null==c||null==r)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let l={fromAddress:this.getAddressForChainId(e),protocolId:r,address:t,runeid:n,amount:s,options:a};return(0,i.logDebug)("OKXBtcProvider sendRunes --\x3e",JSON.stringify(l)),(yield this.provider.request({method:"btc_sendRunes",params:l},e)).result}catch(e){throw e}}))}inscribeTransfer(e,t,n){return r(this,void 0,void 0,(function*(){try{if(!e||!t||!n)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"The parameter is empty. Please check");let r,s=this.checkChainId(e);if(null!=s&&(s.startsWith("btc")?r=1:s.startsWith("fractal")&&(r=14)),null==s||null==r)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let a={fromAddress:this.getAddressForChainId(e),protocolId:r,ticker:t,amount:n};(0,i.logDebug)("OKXBtcProvider inscribeTransfer --\x3e",JSON.stringify(a)),yield this.provider.request({method:"btc_inscribeTransfer",params:a},e)}catch(e){throw e}}))}removeSuffix(e,t){return e.endsWith(t)?e.slice(0,e.length-t.length):e}checkParameters(e,...t){var n=[];return t.forEach((t=>{`${t}`in e||n.push(t)})),!(n.length>0&&(console.log("not find key: ",n.join(",")),1))}checkChainId(e){if(this.caip.includes(e)){let[t,n]=e.split(":");return t}}}t.OKXBtcProvider=s,t.default=s},4411:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXCosmosProvider=void 0;const o=n(9878);t.OKXCosmosProvider=class{constructor(e){this.provider=e}getAccount(e){var t,n,r,i,s,a;(0,o.logDebug)("OKXCosmosProvider getAccount chainId:",e),(0,o.logDebug)("OKXCosmosProvider getAccount namespaces:",JSON.stringify(null===(t=this.provider.session)||void 0===t?void 0:t.namespaces));let c=null===(r=null===(n=this.provider.session)||void 0===n?void 0:n.namespaces[o.NameSpaceKeyCosmos])||void 0===r?void 0:r.accounts.filter((function(t){return t.startsWith(e)}))[0];if((0,o.logDebug)("OKXCosmosProvider getAccount account:",JSON.stringify(c)),!c)return;const l=c.split(":"),d=c.split(":")[2];(0,o.logDebug)("OKXCosmosProvider getAccount address:",d);let u=null===(a=null===(s=null===(i=this.provider.session)||void 0===i?void 0:i.namespaces[o.NameSpaceKeyCosmos])||void 0===s?void 0:s.extra)||void 0===a?void 0:a[`${l[0]}:${l[1]}`],h="";return null!=u&&(h=u.publicKey,console.log("aptos_publicKey",h)),d?{algo:"secp256k1",address:d,bech32Address:d,pubKey:this.hexToUint8Array(h)}:void 0}signArbitrary(e,t,n){return r(this,void 0,void 0,(function*(){const r=window.btoa(n),o={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:t,data:r}}],memo:""};let i={chainId:e,method:"cosmos_signArbitrary",params:{signer:t,chain_id:e.split(":")[1],data:o}};try{const t=yield this.provider.request(i,e);return"result"in t?"string"==typeof t.result?JSON.parse(t.result):t.result:t.error}catch(e){return e}}))}signAmino(e,t,n,o){return r(this,void 0,void 0,(function*(){if("sign/MsgSignData"==n.msgs[0].type){let r={chainId:e,method:"cosmos_signArbitrary",params:{signer:t,chain_id:e.split(":")[1],data:n}};try{const t=yield this.provider.request(r,e);return"result"in t?t.result:t.error}catch(e){return e}}else{let r={chainId:e,method:"cosmos_signAmino",params:{signer:t,chainId:e.split(":")[1],sign_doc:n,signOptions:o}};try{const t=yield this.provider.request(r,e);if("result"in t){const e=JSON.parse(t.result);return console.log("signdoc",n,e.signDoc),n.fee=e.signDoc.fee,{signed:n,signature:e.signature}}return t.error}catch(e){return e}}}))}signDirect(e,t,n,o){return r(this,void 0,void 0,(function*(){const r={bodyBytes:this.bufferToHex(n.bodyBytes),authInfoBytes:this.bufferToHex(n.authInfoBytes),chainId:n.chainId,accountNumber:n.accountNumber?n.accountNumber.toString():null,signOptions:o||null};let i={chainId:e,method:"cosmos_signDirect",params:{signer:t,chainId:e.split(":")[1],sign_doc:r}};try{const t=yield this.provider.request(i,e);if("result"in t){const e=JSON.parse(t.result);return console.log("signdirect result",e),n.authInfoBytes=this.messageToBuffer(e.signDoc.authInfoBytes),{signed:n,signature:e.signature}}}catch(e){return e}}))}messageToBuffer(e){var t=Uint8Array.from([]);try{t="string"==typeof e?this.hexToUint8Array(e.replace("0x","")):Uint8Array.from(e)}catch(e){console.log(`messageToBuffer error: ${e}`)}return t}bufferToHex(e){return"0x"+[...new Uint8Array(e)].map((e=>e.toString(16).padStart(2,"0"))).join("")}hexToUint8Array(e){if(e.length%2!=0)throw"Invalid hexString";for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=parseInt(e.substr(n,2),16);if(isNaN(r))throw"Invalid hexString";t[n/2]=r}return t}}},1607:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXStarknetProvider=void 0;const o=n(9878);t.OKXStarknetProvider=class{constructor(e){this.STARKNET_CHAIN_ID="starknet:mainnet",this.provider=e}getChain(e){if(null==e&&(e=this.STARKNET_CHAIN_ID),e!=this.STARKNET_CHAIN_ID)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+e+"is wrong for OKXStarknetProvider");return e}getAccount(e){var t,n,r,i,s;let a=null===(n=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces[o.NameSpaceKeyStarknet])||void 0===n?void 0:n.accounts.filter((function(t){return t.startsWith(e)}))[0];if(!a)return;const c=a.split(":"),l=a.split(":")[2];let d=null===(s=null===(i=null===(r=this.provider.session)||void 0===r?void 0:r.namespaces[o.NameSpaceKeyStarknet])||void 0===i?void 0:i.extra)||void 0===s?void 0:s[`${c[0]}:${c[1]}`],u="";return null!=d&&(u=d.publicKey),l?{address:l,pubKey:u}:void 0}signMessage(e,t,n){return r(this,void 0,void 0,(function*(){n=this.getChain(n),0==e.length&&(e=this.getAccount(n).address);let r={chainId:n,method:"starknet_signMessage",params:{accountAddress:e,typedData:t}};try{const e=yield this.provider.request(r,n);if("result"in e){let t=e.result;return"string"==typeof t&&(t=JSON.parse(t)),[t.signedDataR,t.signedDataS]}return e.error}catch(e){return e}}))}sendTransaction(e,t,n){return r(this,void 0,void 0,(function*(){n=this.getChain(n);let r={accountAddress:e,executionRequest:t},o={method:"starknet_sendTransaction",params:{data:JSON.stringify(r),from:e}};try{const e=yield this.provider.request(o,n);return"result"in e?{transaction_hash:e.result}:e.error}catch(e){return e}}))}signMessageDeclareContractPayload(e,t){return r(this,void 0,void 0,(function*(){t=this.getChain(t);try{let n={method:"starknet_signMessage",params:e};const r=yield this.provider.request(n,t);return"result"in r?{transaction_hash:r.result.txHash,class_hash:r.result.classHash}:r.error}catch(e){return e}}))}sendMessageExecuteTransactionDetail(e,t,n,o,i){return r(this,void 0,void 0,(function*(){i=this.getChain(i);const r={calls:Array.isArray(t)?t:[t],abis:n,transactionsDetail:{nonce:null==o?void 0:o.nonce,maxFee:null==o?void 0:o.nonce,version:null==o?void 0:o.version}};return this.sendTransaction(e,r,i)}))}}},7824:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTonProvider=void 0;const o=n(5312),i=n(9878);class s{constructor(e){this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.provider=e,this.provider.on("connect",(()=>{let e=this.wallet();(0,i.logDebug)("OKXTONProvider event connect:",JSON.stringify(e)),this.statusChangeSubscriptions.forEach((t=>t(e)))})),this.provider.on("reconnect",(()=>{let e=this.wallet();(0,i.logDebug)("OKXTONProvider event reconnect:",JSON.stringify(e)),this.statusChangeSubscriptions.forEach((t=>t(e)))})),this.provider.on("disconnect",(()=>{(0,i.logDebug)("OKXTONProvider event disconnect:"),this.statusChangeSubscriptions.forEach((e=>e(null)))})),this.provider.on("connect_error",(e=>{(0,i.logDebug)("OKXTONProvider event connect_error:",JSON.stringify(e)),this.statusChangeErrorSubscriptions.forEach((t=>t(e)))}))}connected(){return!!this.provider.connected()&&!!this.provider.session.namespaces.ton}account(){try{if(!this.provider.session)return null;let e=this.provider.session.namespaces.ton;if(!e||!e.payload||!e.payload.ton_addr)return null;let t=e.payload.ton_addr;return{address:t.address,chain:t.network,walletStateInit:t.walletStateInit,publicKey:t.publicKey}}catch(e){return(0,i.logDebug)("OKXTONProvider account  error:",JSON.stringify(e)),null}}wallet(){if(this.connected())try{let e=this.provider.session.wallet;const t={device:{platform:e.platform,appName:e.appName,appVersion:e.appVersion,maxProtocolVersion:e.maxProtocolVersion,features:["ton_sendTransaction"]},provider:"http",account:this.account()};let n=this.provider.session.namespaces.ton;return n&&n.payload&&n.payload.ton_proof&&(t.connectItems={tonProof:n.payload.ton_proof}),(0,i.logDebug)("OKXTONProvider wallet :",JSON.stringify(t)),t}catch(e){return(0,i.logDebug)("OKXTONProvider wallet  error:",JSON.stringify(e)),null}return null}onStatusChange(e,t){return this.statusChangeSubscriptions.push(e),t&&this.statusChangeErrorSubscriptions.push(t),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter((t=>t!==e)),t&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter((e=>e!==t)))}}sendTransaction(e){return r(this,void 0,void 0,(function*(){if(e.network&&e.network!==i.TONCHAIN.MAINNET)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"OKXTONProvider sendTransaction network error");if(e.network||(e.network=i.TONCHAIN.MAINNET),this.provider.session&&!e.from){const t=this.provider.requestAccountsWithNamespace("ton");e.from=t[0]}const t={method:"ton_sendTransaction",params:e};let n="ton:"+i.TONCHAIN.MAINNET;return(0,i.logDebug)("OKXTONProvider sendTransaction transaction----:",n,JSON.stringify(t)),this.provider.request(t,n)}))}}t.OKXTonProvider=s,t.default=s},3048:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTronProvider=void 0;const o=n(9878);t.OKXTronProvider=class{constructor(e){this.TRON_CHAIN_ID="tron:mainnet",this.provider=e}getChain(e){if(null==e&&(e=this.TRON_CHAIN_ID),e!=this.TRON_CHAIN_ID)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+e+"is wrong for OKXTronProvider");return e}getAccount(e){var t,n,r,i,s;e=this.getChain(e);let a=null===(n=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces[o.NameSpaceKeyTron])||void 0===n?void 0:n.accounts.filter((function(t){return t.startsWith(e)}))[0];if(!a)return;const c=a.split(":"),l=a.split(":")[2];let d=null===(s=null===(i=null===(r=this.provider.session)||void 0===r?void 0:r.namespaces[o.NameSpaceKeyTron])||void 0===i?void 0:i.extra)||void 0===s?void 0:s[`${c[0]}:${c[1]}`],u="";return null!=d&&d.publicKey,l?{address:l}:void 0}stringToHex(e){let t="";for(let n=0;n<e.length;n++)t+=e.charCodeAt(n).toString(16).padStart(2,"0");return t}signMessage(e,t){return r(this,void 0,void 0,(function*(){let n={chainId:t=this.getChain(t),method:"tron_signMessage",params:{message:this.stringToHex(e)}};try{const e=yield this.provider.request(n,t);return"result"in e?e.result:e.error}catch(e){return e}}))}signMessageV2(e,t){return r(this,void 0,void 0,(function*(){let n={chainId:t=this.getChain(t),method:"tron_signMessageV2",params:{message:e}};try{const e=yield this.provider.request(n,t);return"result"in e?e.result:e.error}catch(e){return e}}))}signTransaction(e,t){return r(this,void 0,void 0,(function*(){t=this.getChain(t);let n={method:"tron_signTransaction",params:e};try{const e=yield this.provider.request(n,t);if("result"in e){let t;t="string"==typeof e.result?JSON.parse(e.result):e.result;let n={};n.visible=t.visible,n.txID=t.txID;let r={};return r.contract=t.raw_data.contract,r.expiration=t.raw_data.expiration,r.ref_block_bytes=t.raw_data.ref_block_bytes,r.fee_limit=t.raw_data.fee_limit,r.ref_block_hash=t.raw_data.ref_block_hash,r.timestamp=t.raw_data.timestamp,n.raw_data=r,n.raw_data_hex=t.raw_data_hex,n.signature=t.signature,n}}catch(e){return e}}))}signAndSendTransaction(e,t){return r(this,void 0,void 0,(function*(){t=this.getChain(t);let n={method:"tron_signAndSendTransaction",params:e};try{const e=yield this.provider.request(n,t);if("result"in e)return e.result}catch(e){return e}}))}}},4532:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXUniversalProvider=void 0;const i=n(7474),s=n(8898),a=n(6970),c=o(n(228)),l=n(1685),d=n(9878),u=n(9878),h=n(1028),f=o(n(6429)),g=o(n(9638)),p=o(n(4492)),m=o(n(1112)),y=o(n(1461)),v=o(n(5314)),b=n(6526),C=n(3056),w=n(2476),_=o(n(9465));class O{static init(e){return r(this,void 0,void 0,(function*(){let t;return(0,u.logDebug)("OKXUniversalProvider init() called"),(0,u.checkMetaData)(e.dappMetaData),(0,b.setGlobal)("disableProviderPing",!0),window&&window.okxConnectUniversalinwindow&&window.okxConnectUniversalinwindow instanceof O?((0,u.logDebug)("OKXUniversalConnect init() old called"),t=window.okxConnectUniversalinwindow):((0,u.logDebug)("OKXUniversalConnect init() new called"),t=new O(e),window&&(window.okxConnectUniversalinwindow=t),yield t.initialize()),(0,u.getDefaultReporter)().configVersionAndSide("universalprovider-1.5.2","dapp",t.providerOpts.dappMetaData.name),t}))}constructor(e){this.rpcProviders={},this.events=new c.default,e.connector&&0!=e.connector.length||(e.connector=[new u.AppwalletConnector,new u.TgwalletConnector]),this.providerOpts=e}request(e,t){return r(this,void 0,void 0,(function*(){if((0,u.logDebug)("OKXUniversalProvider request() called"),(0,u.reportLog)("OKXUniversalProvider request() called"),!this.connected())throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);(0,u.logDebug)("OKXUniversalProvider request()  connected ");const{namespace:n,requestParam:r}=this.buildRequestParamFromRequest(e,t);return yield this.getProvider(n).request(r)}))}buildRequestParamFromRequest(e,t){var n;(0,u.logDebug)("UniversalProvider request args >>>>>>>: ",t,(0,u.safeJsonStringify)(e));let[r,o]=this.validateChain(t);if(!this.session)throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Please call connect() before request()");let i=Object.keys(this.session.namespaces);if(!t&&i&&i.length>1)throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Multiple chains have been linked, the request method requires chain");let s=(0,d.replaceChainNameToChainId)(`${r}:${o}`);return null!=s&&(r=s.split(":")[0],o=s.split(":")[1]),{namespace:r,requestParam:Object.assign(Object.assign({},e),{chainId:`${r}:${o}`,redirect:null!==(n=e.redirect)&&void 0!==n?n:this.sessionConfig.redirect})}}enable(){return r(this,void 0,void 0,(function*(){if(!this.client)throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.session){if(!this.connectOpts)throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");yield this.connect(this.connectOpts)}return yield this.requestAccounts()}))}disconnect(){return r(this,void 0,void 0,(function*(){if((0,u.logDebug)("OKXUniversalProvider disconnect() called"),(0,u.reportLog)("provider disconnect called"),!this.session)throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);return new Promise((e=>r(this,void 0,void 0,(function*(){let t=!1;const n=()=>r(this,void 0,void 0,(function*(){t||(t=!0,yield this.disconnectAndEmit(),yield this.cleanup(),e(),(0,u.logDebug)("UniversalProvider disconnect Disconnected"),(0,u.reportLog)("provider disconnect disconnected"))}));try{yield this.client.disconnect(),yield n()}catch(e){yield n()}}))))}))}disconnectAndEmit(){var e,t;this.client.engine.connectManagerDisconnect(),this.events.emit("disconnect",{topic:null===(e=this.session)||void 0===e?void 0:e.topic}),this.events.emit("session_delete",{topic:null===(t=this.session)||void 0===t?void 0:t.topic})}replaceNamespace(e,t){var n,r;let o=null===(n=e.namespaces)||void 0===n?void 0:n[t];if(null!=o){let n=this.replaceNamespaceInner(o);null!=e.namespaces&&t in e.namespaces&&null!=n&&(e.namespaces[t]=n)}let i=null===(r=e.optionalNamespaces)||void 0===r?void 0:r[t];if(null!=i){let n=this.replaceNamespaceInner(i);null!=e.optionalNamespaces&&t in e.optionalNamespaces&&null!=n&&(e.optionalNamespaces[t]=n)}return e}replaceNamespaceInner(e){var t;return null!=e&&(e.chains=null===(t=e.chains)||void 0===t?void 0:t.map((e=>(0,d.replaceChainNameToChainId)(e))),null!=e.defaultChain&&(e.defaultChain=(0,d.replaceChainNameToChainId)(e.defaultChain))),e}replaceSessionAptos(e,t){var n;let r=null===(n=null==e?void 0:e.namespaces)||void 0===n?void 0:n[t];if(null!=r&&null!=r.chains){r.chains=r.chains.map((e=>(0,d.replaceChainIdToChainName)(e))),r.accounts=r.accounts.map((e=>(0,d.replaceChainIdToChainName)(e)));let n={};Object.keys(r.extra||{}).forEach(((r,o)=>{(0,d.replaceChainIdToChainName)(r),n[(0,d.replaceChainIdToChainName)(r)]=Object.values((null==e?void 0:e.namespaces[t].extra)||{})[o]})),r.extra=n}(0,u.logDebug)("replaceSessionAptos",e)}connected(){(0,u.logDebug)("OKXUniversalProvider connected() called"),(0,u.reportLog)("provider connected called");let e=()=>{try{this.cleanup(),this.client.engine.connectManagerDisconnect()}catch(e){(0,u.logDebug)("Error during disconnect:",e)}};try{return!(!this.session||!this.client.engine.getCurrentConnectionReady(Object.keys(this.session.namespaces))&&(e(),1))}catch(t){return e(),!1}}connectAndSign(e,t){return r(this,void 0,void 0,(function*(){(0,u.logDebug)("OKXUniversalProvider connectAndSign() called");const n=Object.assign(Object.assign({},e),t);return(0,u.logDebug)("OKXUniversalProvider connectAndSign() opts:",JSON.stringify(e)),(0,u.logDebug)("OKXUniversalProvider connectAndSign() signRequest:",JSON.stringify(t)),yield this.connect(n)}))}connect(e){return r(this,void 0,void 0,(function*(){if((0,u.logDebug)("OKXUniversalProvider connect() called"),(0,u.reportLog)("provider connect called"),!this.client)throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(this.connected())return this.session;e=this.replaceNamespace(e,"aptos"),e=this.replaceNamespace(e,"solana"),(0,u.logDebug)("OKXUniversalProvider connect >>>>",JSON.stringify(e)),void 0===e.sessionConfig&&(e.sessionConfig={}),void 0===e.sessionConfig.openUniversalUrl&&(e.sessionConfig.openUniversalUrl=(0,u.isMobileUserAgent)()),this.setNamespaces(e);try{(0,u.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(e)}`);let t=yield this.client.connect(e);if((0,u.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(t)}`),t){if(this.replaceSessionAptos(t,"aptos"),this.replaceSessionAptos(t,"solana"),this.session=t,this.client.session=t,this.setConnectConnector(),(0,u.logDebug)("OKXUniversalProvider connect success opts>>>>",JSON.stringify(e)),this.onConnect(),e.signRequest&&e.signRequest.length>0){let t=e.signRequest[0],n=[];"undefined"!=typeof window&&window&&window.okxConnectUniversalUIinwindow?((0,u.logDebug)("OKXUniversalProvider connect success, us UI SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0&&(n=this.session.signResponse)):((0,u.logDebug)("OKXUniversalProvider connect success, us Universal SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0?n=this.session.signResponse:n.push((0,C.creatNotSupportMethodItemReplay)(t))),(0,u.logDebug)(`UniversalProvider connect success connectRequestReply ====> ${JSON.stringify(n)}`),setTimeout((()=>{this.events.emit("connect_signResponse",n)}),100)}return t}return}catch(e){throw(0,u.logDebug)("UniversalProvider connect error ====> ",JSON.stringify(e)),e}}))}syncAllAddresses(){return r(this,void 0,void 0,(function*(){if((0,w.syncAddressAvailable)(this.session.wallet))return this.client.syncAllAddress();throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}))}setConnectConnector(){var e;this.client.setConnectConnector(null===(e=this.session)||void 0===e?void 0:e.wallet)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}setDefaultChain(e,t){(0,u.logDebug)("OKXUniversalProvider setDefaultChain() called");try{if(!this.connected())return;const[n,r]=this.validateChain(e);this.getProvider(n).setDefaultChain(r,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}checkStorage(){return r(this,void 0,void 0,(function*(){let e=yield this.getFromStore("connectSession");if((0,u.logDebug)(e),e){(0,u.logDebug)("checkStorage error start");try{let t=e;this.session=t,this.client.session=this.session,this.setConnectConnector(),yield this.client.restoreconnect(t),this.sessionConfig=t.sessionConfig,this.client.sessionConfig=this.sessionConfig,(0,u.logDebug)("[evm u-provider] do reconnection",this.session),this.createProviders(),this.registerEventListeners(),setTimeout((()=>{this.events.emit("reconnect",{session:this.session})}),100)}catch(e){yield this.cleanup(),(0,u.logDebug)(`checkStorage error ${JSON.stringify(e)}`)}}}))}initialize(){return r(this,void 0,void 0,(function*(){(0,u.logDebug)("OKXUniversalProvider initialize() called"),(0,u.reportLog)("provider initialize called");const e=Object.assign({url:window.location.hostname,origin:window.location.origin},this.providerOpts.dappMetaData);this.client=new l.SignClient(e,this.events),this.registerConnector(this.providerOpts.connector),yield this.checkStorage()}))}createProviders(){if(!this.client)throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.connected())throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).filter((e=>{var t,n;return(null===(n=null===(t=this.session.namespaces[e])||void 0===t?void 0:t.accounts)||void 0===n?void 0:n.length)>0})).map((e=>(0,h.parseNamespaceKey)(e))))];this.rpcProviders={},e.forEach((e=>{if(!this.session)return;const t=this.session.namespaces[e];switch((0,u.logDebug)("init eip155 >> ",t),e){case"eip155":const n={namespace:t};this.rpcProviders[e]=new i.Eip155Provider(n,this.client,this.events);break;case"solana":const r={namespace:t};let o=new f.default(r,"solana",this.client,this.events);this.rpcProviders[e]=o;let a=new f.default(r,"sonic",this.client,this.events);this.rpcProviders.sonic=a;let c=new f.default(r,"svm",this.client,this.events);this.rpcProviders.svm=c;let l=new f.default(r,"soon",this.client,this.events);this.rpcProviders.soon=l;let d=new f.default(r,"eclipse",this.client,this.events);this.rpcProviders.eclipse=d;break;case"ton":const u={namespace:t};let h=new m.default(u,this.client,this.events);this.rpcProviders[e]=h;break;case"sui":const b={namespace:t};let C=new s.SuiProvider(b,this.client,this.events);C.name="sui",this.rpcProviders[e]=C;break;case"btc":const w={namespace:t};let O=new g.default(w,"btc",this.client,this.events);this.rpcProviders.btc=O;let E=new g.default(w,"fractal",this.client,this.events);this.rpcProviders.fractal=E;break;case"aptos":let S=new p.default({namespace:t},"aptos",this.client,this.events);this.rpcProviders[e]=S;let N=new p.default({namespace:t},"movement",this.client,this.events);this.rpcProviders.movement=N;break;case"cosmos":let T=new y.default({namespace:t},this.client,this.events);this.rpcProviders[e]=T;break;case"tron":let R=new v.default({namespace:t},this.client,this.events);this.rpcProviders[e]=R;break;case"starknet":let k=new _.default({namespace:t},"starknet",this.client,this.events);this.rpcProviders[e]=k}}))}registerEventListeners(){if(void 0===this.client)throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client is not initialized");this.client.engine.addDisconnectListener((()=>{this.disconnectAndEmit(),this.cleanup()})),this.on(a.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,(e=>{this.onChainChanged(e)})),this.on(a.PROVIDER_EVENTS.UPDATE_NAMESPACES,(e=>{if(e){const t=Object.keys(e)[0];this.session&&(this.session.namespaces[t]=e[t],this.session&&(this.persist("connectSession",this.session),this.events.emit("session_update",this.session)),(0,u.logDebug)("PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>",JSON.stringify(this.session)))}}))}getProvider(e){return(0,u.logDebug)("current get providers",this.rpcProviders),(0,u.logDebug)("query namespace: ",e),this.rpcProviders[e]}setNamespaces(e){this.connectOpts=e;const{namespaces:t,sessionConfig:n}=e,r={origin:window.location.origin,url:window.location.hostname,name:this.providerOpts.dappMetaData.name,icon:this.providerOpts.dappMetaData.icon,manifestUrl:this.providerOpts.dappMetaData.manifestUrl};this.sessionConfig=Object.assign({dappInfo:r},n),(0,u.logDebug)("setNamespaces sessionConfig>>>",this.sessionConfig),this.client.sessionConfig=this.sessionConfig,this.persist("sessionConfig",n)}validateChain(e){var t;let[n,r]=(null==e?void 0:e.split(":"))||["",""];if(!this.session||!this.session.namespaces||!Object.keys(this.session.namespaces).length)return(0,u.logDebug)("get name & chain",n,r),[n,r];if(n){if(!this.isChainNamespaceInSession(n))throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(r&&e){(0,u.logDebug)("this.session.namespaces --\x3e> ",n,JSON.stringify(this.session.namespaces));const r=null===(t=this.session.namespaces[n])||void 0===t?void 0:t.chains;if((0,u.logDebug)("get chainsArr & chain",JSON.stringify(r),e),r&&!r.includes(e))throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace not include the chain '${e}'`)}}if(n&&r)return(0,u.logDebug)("get name & chain",n,r),[n,r];let o=(0,h.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]);const i=this.rpcProviders[o].getDefaultChain();return(0,u.logDebug)("get default chain:",i),[o,i]}isChainNamespaceInSession(e){var t,n;if(Object.keys((null===(t=this.session)||void 0===t?void 0:t.namespaces)||{}).map((e=>(0,h.parseNamespaceKey)(e))).includes(e))return!0;let r=!1;return Object.values((null===(n=this.session)||void 0===n?void 0:n.namespaces)||{}).forEach((t=>{t.chains.forEach((t=>{t.split(":")[0]==e&&(r=!0)}))})),r}requestAccountsWithNamespace(e){return this.getProvider(e).requestAccounts()}requestDefaultChainWithNamespace(e){return this.getProvider(e).getDefaultChain()}requestAccounts(){return r(this,void 0,void 0,(function*(){const[e]=this.validateChain();return yield this.getProvider(e).requestAccounts()}))}onChainChanged(e){var t;if(!(null===(t=this.session)||void 0===t?void 0:t.namespaces))return;const[n,r]=this.validateChain(e);r&&(this.session.namespaces[n]&&(this.session.namespaces[n].defaultChain=r,this.persist("connectSession",this.session)),this.events.emit("chainChanged",r))}onConnect(){this.createProviders(),this.session&&(this.persist("connectSession",this.session),console.log("window.okxwallet save session:",Date.now())),this.events.emit("connect",{session:this.session}),this.registerEventListeners()}cleanup(){return r(this,void 0,void 0,(function*(){this.session=void 0,this.client.session=void 0,this.setConnectConnector(),this.sessionProperties=void 0,this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),this.persist("connectSession",void 0)}))}persist(e,t){return(0,u.logDebug)("[evm u-provider] persisit data",e,t),this.client.engine.saveSessionContent(e,t)}getFromStore(e){return r(this,void 0,void 0,(function*(){return this.client.engine.getSessionContent(e)}))}showRequestModal(e,t){try{const{namespace:n,requestParam:r}=this.buildRequestParamFromRequest(e,t);return this.getProvider(n).showRequestModal(r)}catch(e){return!1}}openWallet(e,t){this.client.openWallet(e,t)}registerConnector(e){this.client.registerConnector(e),this.client.setAccountChangeListener((e=>{(0,u.logDebug)("accountChangeListener session",this.events.listenerCount("accountChanged"),JSON.stringify(e));try{e&&this.events.listenerCount("accountChanged")&&(this.replaceSessionAptos(e,"aptos"),this.replaceSessionAptos(e,"solana"),this.session=e,this.client.session=e,this.session&&(this.persist("connectSession",this.session),console.log("window.okxwallet save session:",Date.now())),this.setConnectConnector(),this.createProviders(),this.events.emit("accountChanged",this.session))}catch(e){(0,u.logDebug)("setAccountChangeListener error:",JSON.stringify(e))}}))}}t.OKXUniversalProvider=O,t.default=O},5312:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXStarknetProvider=t.OKXTronProvider=t.OKXTonProvider=t.OKXCosmosProvider=t.OKXBtcProvider=t.OKXUniversalProvider=void 0,o(n(8066),t),o(n(3056),t);var i=n(4532);Object.defineProperty(t,"OKXUniversalProvider",{enumerable:!0,get:function(){return i.OKXUniversalProvider}});var s=n(494);Object.defineProperty(t,"OKXBtcProvider",{enumerable:!0,get:function(){return s.OKXBtcProvider}});var a=n(4411);Object.defineProperty(t,"OKXCosmosProvider",{enumerable:!0,get:function(){return a.OKXCosmosProvider}});var c=n(7824);Object.defineProperty(t,"OKXTonProvider",{enumerable:!0,get:function(){return c.OKXTonProvider}});var l=n(3048);Object.defineProperty(t,"OKXTronProvider",{enumerable:!0,get:function(){return l.OKXTronProvider}});var d=n(1607);Object.defineProperty(t,"OKXStarknetProvider",{enumerable:!0,get:function(){return d.OKXStarknetProvider}}),o(n(9878),t)},3056:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(6466),t)},1685:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SignClient=void 0;const o=n(9878),i=n(1028),s=n(824),a=n(6970);class c extends o.ISignClient{constructor(e,t){super(e),this.connect=e=>r(this,void 0,void 0,(function*(){return new Promise(((t,n)=>r(this,void 0,void 0,(function*(){try{var c=[];(0,o.logDebug)("client connect params >>>",JSON.stringify(e));var l={name:"requestAccounts",requiredNamespaces:(0,i.nameSpaceToConnectWalletNameSpace)(e.namespaces),optionalNamespaces:(0,i.nameSpaceToConnectWalletNameSpace)(e.optionalNamespaces)};this.engine.setSessionConnectingListener((()=>{(0,o.logDebug)("sessionConnectingListener >>>"),this.events.emit(a.PROVIDER_EVENTS.SESSION_CONNECTING)})),e.signRequest&&(l.connectRequestMethods=yield(0,s.connectMethodsToConnectWalletMethods)(e.signRequest,l.requiredNamespaces)),c.push(l),(0,o.logDebug)("client connect connectRequest >>>",JSON.stringify(c)),this.engine.universalConnect(c,Object.assign({dappInfo:this.metadata},e.sessionConfig),(e=>{e&&e.connectRequest&&((0,o.logDebug)("universalConect info.connectRequest :",e.connectRequest),(0,o.logDebug)("universalConect url:",(0,o.getOKXLink)(e.connectRequest,this.sessionConfig.useMini)),this.events.emit("display_uri",(0,o.getOKXLink)(e.connectRequest,this.sessionConfig.useMini)),this.events.emit("short_display_uri",(0,o.getAppWalletShortDeepLink)(e.connectRequest.topic,e.connectRequest.clientId)),(0,o.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(e)}`),this.events.emit("okx_engine_connect_params",e))})).then((n=>r(this,void 0,void 0,(function*(){(0,i.fillParamsToSession)(n,e.namespaces,e.optionalNamespaces,this.sessionConfig),(0,o.logDebug)(`signClient: connect: session ${JSON.stringify(n)}`),e.signRequest&&(yield(0,s.connectMethodsResponseUpdate)(n,e.signRequest)),t(n)})))).catch((e=>{(0,o.logDebug)(`signClient: connect: catch ${JSON.stringify(e)}`),this.events.emit("connect_error",e),n(e)}))}catch(e){(0,o.logDebug)(`signClient: connect:  ${JSON.stringify(e)}`),n(e)}}))))})),this.restoreconnect=e=>r(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{this.engine.restoreconnect(e,(e=>{e?t(e):n()}))}))})),this.reject=e=>r(this,void 0,void 0,(function*(){})),this.request=e=>r(this,void 0,void 0,(function*(){return new Promise(((t,n)=>r(this,void 0,void 0,(function*(){var r,i;(0,o.logDebug)("clint request --params>>>> >",null===(r=this.sessionConfig)||void 0===r?void 0:r.openUniversalUrl,(0,o.safeJsonStringify)(e));try{(null===(i=this.sessionConfig)||void 0===i?void 0:i.openUniversalUrl)&&(0,o.isIos)()&&this.openOKXWallet(),yield this.engine.send(e,{resolve:e=>{if(delete e.requestId,(0,o.logDebug)("clint request --response >",(0,o.safeJsonStringify)(e)),"error"in e&&e.error){let t=e.error;n(new o.OKXConnectError(e.error.code,e.method+":"+t.message))}else t(e)},onAck:()=>{var e;!(0,o.isIos)()&&(null===(e=this.sessionConfig)||void 0===e?void 0:e.openUniversalUrl)&&this.openOKXWallet()}})}catch(e){(0,o.logDebug)("clint request --error:",e),n(e)}}))))})),this.disconnect=()=>r(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{this.engine.send({method:"disconnect"},{onAck:()=>{e()}},864e5).catch((e=>{console.log(`disconnect : ${JSON.stringify(e)}`),t(e)}))}))})),this.engine=new o.Engine(e.name),this.events=t,this.metadata=e}setAccountChangeListener(e){this.engine.setAccountChangeListener(e)}openOKXWallet(){(0,o.logDebug)("bridge-provider ==>> connect_5"),this.engine.openWallet({tmaReturnUrl:this.sessionConfig.tmaReturnUrl})}syncAllAddress(){return r(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{this.engine.send({method:"sync_all_addresses"},{resolve:n=>{if(delete n.requestId,(0,o.logDebug)("clint syncAllAddress --response >",JSON.stringify(n)),"error"in n&&n.error){let e=n.error;t(new o.OKXConnectError(n.error.code,n.method+":"+e.message))}else{let t=n.result;e((0,s.syncResoonseToRequire)(t))}}}).catch((e=>{console.log(`disconnect : ${JSON.stringify(e)}`),t(e)}))}))}))}registerConnector(e){this.engine.registerConnector(e)}openWallet(e,t){this.engine.openWallet(e,t)}setConnectConnector(e){this.engine.setConnectConnector(e)}}t.SignClient=c},824:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectSupportMethods=void 0,t.creatNotSupportMethodItemReplay=function(e){let t=new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);return{method:e.method,chainId:e.chainId,error:{code:t.code,message:t.message}}},t.connectMethodsAdaptOldVersion=function(e,t){return r(this,void 0,void 0,(function*(){var n,r,o,c,l;try{(0,i.logDebug)("connectMethodsAdaptOldVersion start params :",JSON.stringify(e));let u={};if("solana_signMessage"===e.method){let o=null===(n=t.namespaces[i.NameSpaceKeySOL])||void 0===n?void 0:n.accounts.filter((function(t){return t.startsWith(e.chainId)}))[0];const c=(0,a.fromAccountToAddress)(o);if(e.params&&c&&"message"in e.params){let n=e.params.message;if("OKX Wallet"==(null===(r=t.wallet)||void 0===r?void 0:r.appName)){let e=(new TextEncoder).encode(n);n=s.default.encode(e)}return e.params={message:n,pubkey:c},e.injectParams=e.params,u={publicKey:c},(0,i.logDebug)("solana_signMessage account and address:",JSON.stringify(o),c),(0,i.logDebug)("solana_signMessage callBackParams:",JSON.stringify(u)),u}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if("sui_signMessage"===e.method||"sui_signPersonalMessage"===e.method){if("message"in e.params&&e.params.message){let t=JSON.parse(JSON.stringify(e.params.message)),n=Object.values(t),r=new Uint8Array(n),o=new TextDecoder("utf8"),s=btoa(o.decode(r));return e.params={message:atob(s)},e.injectParams={message:r},console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",JSON.stringify(e.params),s),"sui_signMessage"===e.method?u={messageBytes:s,signature:""}:"sui_signPersonalMessage"===e.method&&(u={bytes:s,signature:""}),(0,i.logDebug)("sui_signMessage/sui_signPersonalMessage callBackParams:",JSON.stringify(u)),u}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if("btc_signMessage"===e.method){let n=(null===(o=t.namespaces[i.NameSpaceKeyBtc])||void 0===o?void 0:o.accounts.filter((function(t){return t.startsWith(e.chainId)})))[0];const r=(0,a.fromAccountToAddress)(n);if((0,i.logDebug)("btc_signMessage account and address:",JSON.stringify(n),r),r){if(!("message"in e.params)||!e.params.message||"string"!=typeof e.params.message)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);return e.params={from:r,signStr:e.params.message},e.params.from=r,(0,i.logDebug)("btc_signMessage callBackParams:",JSON.stringify(u)),u}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if("aptos_signMessage"===e.method){let n=e.params,r=null===(c=t.namespaces[i.NameSpaceKeyAptos])||void 0===c?void 0:c.accounts.filter((function(t){return t.startsWith(e.chainId)}))[0],o=(0,a.fromAccountToAddress)(r);if(n&&o){let t="APTOS",r="",s="";var d=t;let a=window.location.protocol+"//"+window.location.hostname;"address"in n&&n.address&&(d+="\naddress: "+o),"application"in n&&n.application&&(d+="\napplication: "+a);let c=1;"chainId"in n&&n.chainId&&("aptos:mainnet"==n.chainId?c=1:"movement:testnet"==n.chainId&&(c=2),d+="\nchainId: "+c),"message"in n&&(d+="\nmessage: "+n.message,r=n.message),"nonce"in n&&(d+="\nnonce: "+n.nonce,s=n.nonce);const l=(new TextEncoder).encode(d),h=Array.from(l).map((e=>e.toString(16).padStart(2,"0"))).join("");return e.params={message:h},e.injectParams=n,(0,i.logDebug)("aptos_signMessage requestParams:",JSON.stringify(e)),u={address:o,application:a,chainId:c,fullMessage:d,message:r,nonce:s,prefix:t,signature:""},(0,i.logDebug)("aptos_signMessage callBackParams:",JSON.stringify(u)),u}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if("cosmos_signArbitrary"===e.method){let n=null===(l=null==t?void 0:t.namespaces[i.NameSpaceKeyCosmos])||void 0===l?void 0:l.accounts.filter((function(t){return t.startsWith(e.chainId)}))[0];const r=(0,a.fromAccountToAddress)(n);let o=e.params.message;const s=btoa(o);if((0,i.logDebug)("cosmos_signArbitrary account and address:",JSON.stringify(n),r),(0,i.logDebug)("cosmos_signArbitrary cosmosBase64Encoded:",s),o&&r){const t={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:r,data:s}}],memo:""};return e.params={signer:r,chain_id:e.chainId.split(":")[1],data:t},(0,i.logDebug)("cosmos_signArbitrary callBackParams:",JSON.stringify(u)),u}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}(0,i.logDebug)("sol_handleSignatureData end params:",JSON.stringify(e))}catch(e){throw e}}))},t.connectMethodsResponseUpdate=function(e,t){return r(this,void 0,void 0,(function*(){var n;try{if(e.signResponse){(0,i.logDebug)("connectMethodsResponseUpdate signResponse:",JSON.stringify(e.signResponse)),(0,i.logDebug)("connectMethodsResponseUpdate session.namespaces:",JSON.stringify(e.namespaces));for(const r of e.signResponse)if((0,i.logDebug)("connectMethodsResponseUpdate methodItem:",JSON.stringify(r)),"result"in r)if("solana_signMessage"===r.method){let t=r.result;(0,i.logDebug)("solana_signMessage methodItem.chainId:",r.chainId);let o=null===(n=e.namespaces[i.NameSpaceKeySOL])||void 0===n?void 0:n.accounts.filter((function(e){return(0,i.logDebug)("solana_signMessage account:",e),e.startsWith(r.chainId)}))[0];(0,i.logDebug)("solana_signMessage result account:",t,o),t&&o&&(r.result={signature:s.default.decode(t),publicKey:(0,a.fromAccountToAddress)(o)})}else if("sui_signMessage"===r.method||"sui_signPersonalMessage"===r.method){let e=t.filter((function(e){return e.method===r.method}))[0];if(e&&e.params&&"message"in e.params){let t=e.params.message,n=btoa(t);console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",t,n),"sui_signMessage"===r.method?r.result={messageBytes:n,signature:r.result}:"sui_signPersonalMessage"===r.method&&(r.result={bytes:n,signature:r.result})}}else if("aptos_signMessage"===r.method){if(r.chainId=(0,i.replaceChainIdToChainName)(r.chainId),r.result=JSON.parse(r.result),console.log("aptos_signMessage result methodItem.result before:>>>>",JSON.stringify(r.result)),r.result&&"signature"in r.result){let e=r.result.signature;e&&e.startsWith("0x")&&(e=e.slice(2,e.length),r.result.signature=e)}console.log("aptos_signMessage result methodItem.result after:>>>>",JSON.stringify(r.result))}else if("cosmos_signArbitrary"===r.method)r.result=JSON.parse(r.result);else if("starknet_signMessage"==r.method){let e=r.result;"string"==typeof e&&(e=JSON.parse(e)),r.result=[e.signedDataR,e.signedDataS]}else"sync_all_addresses"==r.method&&(r.result=d(r.result))}}catch(e){throw(0,i.logDebug)("connectMethodsResponseUpdate signResponse Error:",JSON.stringify(e)),e}}))},t.connectMethodsToConnectWalletMethods=function(e,n){return r(this,void 0,void 0,(function*(){try{(0,i.logDebug)("connectMethodsToConnectWalletMethods requestMethods:",JSON.stringify(e));const u=[];if(e&&e.length>1)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connectAndSign/openModalAndSign signRequest only support one data");if(!n&&e&&e.length>0)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Connect request params error , RequestMethods cannot be added when the NameSpace is empty");for(const t of e)if("aptos_signMessage"===t.method&&(t.chainId=(0,i.replaceChainNameToChainId)(t.chainId)),"wallet_addEthereumChain"===t.method){if(!(null==n?void 0:n.some((e=>e.namespace.includes("eip155")))))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${t.method}', the EVM chain needs to be included in the NameSpace`)}else if("sync_all_addresses"===t.method){if(!(0,a.syncAddressHostAvailable)())throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);t.chainId=""}else if(!(null==n?void 0:n.some((e=>e.chains.some((e=>e.includes(`${t.chainId}`)))))))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${t.method}', NameSpace must contain '${t.chainId}'`);for(const n of e){if(!t.connectSupportMethods.includes(n.method))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect requestMethods not support method, method: '${n.method}'`);if("wallet_addEthereumChain"===n.method){if(Array.isArray(n.params)){const e=n.params;if(!e||1!==e.length)throw e&&e.length>1?new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params only support one data, method: '${n.method}'`):new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is nil, method: '${n.method}'`);{const t=e[0];c(t)&&(n.params=t)}}}else if("personal_sign"===n.method){if("object"==typeof(d=n.params)&&null!==d&&Array.isArray(d)){if(n.params&&1!==n.params.length)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params error,  method: '${n.method}' `);let e=n.params[0];if(!e||"string"!=typeof e)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${n.method}' `);n.params={message:e}}}else if("sui_signMessage"===n.method||"sui_signPersonalMessage"===n.method){if(!c(n.params)||!("message"in n.params))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${n.method}' `);if(!n.params.message)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${n.method}' `);{(0,i.logDebug)("sui_signMessage item.params.message :",n.params.message);let e=JSON.parse(JSON.stringify(n.params.message)),t=Object.values(e),r=new Uint8Array(t),o=new TextDecoder("utf8"),s=btoa(o.decode(r));n.params.message=atob(s)}}else if("solana_signMessage"===n.method){if(!c(n.params)||!("message"in n.params))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${n.method}' `);if(!n.params.message||"string"!=typeof n.params.message)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${n.method}' `);{let e=(new TextEncoder).encode(n.params.message);n.params.bs58Message=s.default.encode(e)}}else if("aptos_signMessage"===n.method){if(!c(n.params))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${n.method}' `);if(!n.chainId)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${n.method}' `);{var r=n.params,o=window.location.protocol+"//"+window.location.hostname;let e=1;"aptos:637"===n.chainId||"aptos:70000060"===n.chainId&&(e=2),n.params={data:r,applicationUrl:o,prefix:"APTOS",aptosChainId:e}}}else if("cosmos_signArbitrary"===n.method){if(!c(n.params))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${n.method}' `);if(!n.params.message||"string"!=typeof n.params.message)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params message is error,  method: '${n.method}' `);{const e=btoa(n.params.message);let t=n.chainId.split(":")[1];if(!t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${n.method}' `);n.params={chain_id:t,data:{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:"",data:e}}],memo:""}}}}else if("tron_signMessage"==n.method){if(!c(n.params))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${n.method}' `);if(!("message"in n.params)||!n.params.message||"string"!=typeof n.params.message)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${n.method}' `);n.params.message=l(n.params.message)}else if("btc_signMessage"==n.method){if(!c(n.params))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${n.method}' `);if(!("message"in n.params)||!n.params.message||"string"!=typeof n.params.message)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${n.method}' `);n.params={signStr:n.params.message}}(0,i.logDebug)("connectMethodsToConnectWalletMethods item:",JSON.stringify(n)),u.push(n)}return u}catch(e){throw e}var d}))},t.syncResoonseToRequire=d;const i=n(9878),s=o(n(6763)),a=n(2476);function c(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function l(e){let t="";for(let n=0;n<e.length;n++)t+=e.charCodeAt(n).toString(16).padStart(2,"0");return t}function d(e){const t=JSON.parse(e);return{type:t.type,isEvm:t.isEvm,walletName:t.walletName,deriveName:t.deriveName,addresses:t.addresses.map((e=>({coinId:e.ci,address:e.a&&"null"!==e.a?e.a:t.evmAddress})))}}t.connectSupportMethods=Object.freeze(["personal_sign","sui_signMessage","sui_signPersonalMessage","btc_signMessage","aptos_signMessage","cosmos_signArbitrary","tron_signMessage","tron_signMessageV2","starknet_signMessage","sync_all_addresses"])},6466:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.creatNotSupportMethodItemReplay=t.connectMethodsAdaptOldVersion=void 0;var r=n(824);Object.defineProperty(t,"connectMethodsAdaptOldVersion",{enumerable:!0,get:function(){return r.connectMethodsAdaptOldVersion}}),Object.defineProperty(t,"creatNotSupportMethodItemReplay",{enumerable:!0,get:function(){return r.creatNotSupportMethodItemReplay}})},1028:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountsChains=function(e){const t=[];return e.forEach((e=>{const[n,r]=e.split(":");t.push(`${n}:${r}`)})),t},t.nameSpaceToConnectWalletNameSpace=function(e){var t=[];return e?(Object.keys(e).forEach((n=>{n!==r.NameSpaceKeyEip155&&n!==r.NameSpaceKeySOL&&n!==r.NameSpaceKeySui&&n!==r.NameSpaceKeyAptos&&n!=r.NameSpaceKeyBtc&&n!==r.NameSpaceKeyTON&&n!==r.NameSpaceKeyCosmos&&n!==r.NameSpaceKeyTron&&n!==r.NameSpaceKeyStarknet||e[n].chains&&t.push({namespace:n,chains:e[n].chains,params:e[n].params})})),t):t},t.fillParamsToSession=function(e,t,n,o){const i=(e,t)=>{for(const o in t)t.hasOwnProperty(o)&&t[o].rpcMap&&(t[o].rpcMap&&(e[o].rpcMap||(e[o].rpcMap={}),n=e[o].rpcMap,r=t[o].rpcMap,Object.assign(n,r)),t[o].defaultChain&&void 0===e[o].defaultChain&&e[o].chains.some((e=>e.split(":")[1]===t[o].defaultChain))&&(e[o].defaultChain=t[o].defaultChain));var n,r};t&&i(e.namespaces,t),n&&i(e.namespaces,n);for(const t in e.namespaces){const n=e.namespaces[t];(null==n?void 0:n.accounts)&&0!==n.accounts.length||delete e.namespaces[t]}e.namespaces[r.NameSpaceKeyBtc]&&e.wallet.appName===r.OKXWalletName&&function(e){try{if(e&&e.extra){var t=e.extra;Object.keys(t).forEach((e=>{const n=t[e];6===Number(n.addressType)?n.publicKey=n.compressedPublicKey.slice(2):n.publicKey=n.compressedPublicKey}))}}catch(e){(0,r.logDebug)("namespaces fixMobileBtcSession error")}}(e.namespaces[r.NameSpaceKeyBtc]),e.sessionConfig=o},t.isCaipNamespace=o,t.parseNamespaceKey=function(e){return o(e)?e.split(":")[0]:e};const r=n(9878);function o(e){return e.includes(":")}},8497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROVIDER_EVENTS=void 0,t.PROVIDER_EVENTS={DEFAULT_CHAIN_CHANGED:"default_chain_changed",UPDATE_NAMESPACES:"update_name_spaces",SESSION_CONNECTING:"session_connecting"}},6970:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(4410),t),o(n(8497),t)},4410:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GENERIC_SUBPROVIDER_NAME=t.RPC_URL=t.STORAGE=t.CONTEXT=t.WC_VERSION=t.PROTOCOL=t.RELAY_URL=t.LOGGER=void 0,t.LOGGER="error",t.RELAY_URL="wss://relay.walletconnect.com",t.PROTOCOL="wc",t.WC_VERSION=2,t.CONTEXT="universal_provider",t.STORAGE=`${t.PROTOCOL}@${t.WC_VERSION}:${t.CONTEXT}:`,t.RPC_URL="https://rpc.walletconnect.com/v1/",t.GENERIC_SUBPROVIDER_NAME="generic"},2476:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(8066),t),o(n(6526),t)},4492:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(6970),i=n(9878),s=n(6526),a=n(5804),c=n(5961);t.default=class{constructor(e,t,n,r){this.name="aptos",this.namespace=e.namespace,this.events=r,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return r(this,void 0,void 0,(function*(){if((0,i.logDebug)("aptos request --args--string>",(0,i.safeJsonStringify)(e)),(0,i.logDebug)("aptos provider namespace: ",this.namespace),this.namespace.methods.includes(e.method))return this.client.request(e);throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(o.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,s.getChainId)(t),r=(0,s.getRpcUrl)(t,this.namespace);let o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n)return new c.JsonRpcProvider(new a.JsonRpcConnection(n,(0,s.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}},9638:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(6970),i=n(9878),s=n(6526),a=n(5804),c=n(5961);t.default=class{constructor(e,t,n,r){this.name=i.NameSpaceKeyBtc,this.namespace=e.namespace,this.events=r,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return r(this,void 0,void 0,(function*(){return(0,i.logDebug)("btc request --args--string>",JSON.stringify(e)),(0,i.logDebug)("btc provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(o.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,s.getChainId)(t),r=(0,s.getRpcUrl)(t,this.namespace);let o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n)return new c.JsonRpcProvider(new a.JsonRpcConnection(n,(0,s.getGlobal)("disableProviderPing")));(0,i.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return!0}}},1461:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(6970),i=n(9878),s=n(6526),a=n(5804),c=n(5961);t.default=class{constructor(e,t,n){this.name=i.NameSpaceKeyCosmos,this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return r(this,void 0,void 0,(function*(){if((0,i.logDebug)("cosmos request --args--string>",JSON.stringify(e)),(0,i.logDebug)("cosmos provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method))return this.client.request(e);throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(o.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,s.getChainId)(t),r=(0,s.getRpcUrl)(t,this.namespace);let o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n)return new c.JsonRpcProvider(new a.JsonRpcConnection(n,(0,s.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}},7474:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Eip155Provider=void 0;const o=n(6526),i=n(6970),s=n(9878),a=n(5961),c=n(5804);class l{constructor(e,t,n){this.name="eip155",this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=parseInt(this.getDefaultChain()),this.httpProviders=this.createHttpProviders(),(0,s.logDebug)("eip155 constructor --opts.namespace--\x3e",e.namespace)}isRecord(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}isArray(e){return"object"==typeof e&&null!==e&&Array.isArray(e)}updateRequestParams(e){let t=e.params&&"object"==typeof e.params&&!Array.isArray(e.params);if("wallet_switchEthereumChain"===e.method){const n=e.chainId.split(":")[1],r=parseInt(n,10);if(isNaN(r))throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid decimal number,  chainId: '${n}' `);if(e.params){if(!t)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params error ,  method: '${e.method}' `);{let t=e.params;"chainId"in t||(t.chainId="0x"+r.toString(16),e.params=t)}}else e.params={chainId:"0x"+r.toString(16)}}else if("personal_sign"===e.method||"eth_signTypedData_v4"===e.method||"eth_sendTransaction"===e.method||"wallet_watchAsset"===e.method){if(!e.params)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params is nil, method: '${e.method}'`);if(!this.isRecord(e.params))throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid request params type, method: '${e.method}'`);{let t=e.params;if((0,s.logDebug)("eip155 updateRequestParams params>",JSON.stringify(t)),"chainId"in t){const n=e.chainId.split(":")[1],r=parseInt(n,10);let o,i=String(t.chainId);if(i.startsWith(this.name)&&e.chainId===i)o=r;else if(i.startsWith("0x"))o=parseInt(i,16);else{if(isNaN(Number(i)))throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid params.chainId format, method: '${e.method}'`);o=parseInt(i,10)}if(r!==o)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params.chainId not equal chain,  method: '${e.method}' `)}}}}adaptArray(e){if("wallet_switchEthereumChain"===e.method||"wallet_addEthereumChain"===e.method||"wallet_watchAsset"===e.method||"eth_sendTransaction"===e.method){if(this.isArray(e.params)){let t=e.params;if(t){if(1!==t.length)throw t.length>1?new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `):new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);{let t=e.params[0];this.isRecord(t)&&(e.params=t)}}}}else if("eth_signTypedData_v4"===e.method){if(this.isArray(e.params)){let t=e.params;if(t&&t.length>2)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `);if(t&&0===t.length)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let n={};if(t&&2===t.length){let t=e.params[0];if(!t||"string"!=typeof t)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error , not string,  method: '${e.method}' `);{let r=!1;if(this.namespace.accounts.forEach((e=>{(0,o.fromAccountToAddress)(e).toLowerCase()===t.toLowerCase()&&(r=!0)})),(0,s.logDebug)("eip155 adaptArray eth_signTypedData_v4 >>>isEqual: ",r),!r)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error, not equal,  method: '${e.method}' `);if(!this.isRecord(e.params[1]))throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);n=e.params[1]}}else if(t&&1===t.length){if(!this.isRecord(e.params[0]))throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);n=e.params[0]}try{let t=JSON.stringify(n);e.params={typedDataJson:t}}catch(t){throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params call JSON.stringify() failed,  method: '${e.method}' `)}}}else if("personal_sign"===e.method&&this.isArray(e.params)){if(e.params&&e.params.length>2)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params error,  method: '${e.method}' `);if(e.params&&0===e.params.length)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let t=e.params[0],n=e.params[1];if(n&&"string"==typeof n){let t=!1;if(this.namespace.accounts.forEach((e=>{(0,o.fromAccountToAddress)(e).toLowerCase()===n.toLowerCase()&&(t=!0)})),(0,s.logDebug)("eip155 adaptArray personal_sign >>>isEqual: ",t),!t)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error,  method: '${e.method}' `)}if(!t||"string"!=typeof t)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is error,  method: '${e.method}' `);e.params={message:t}}}showRequestModal(e){switch(e.method){case"eth_requestAccounts":case"eth_accounts":case"eth_chainId":default:return!1;case"eth_sendTransaction":case"eth_signTransaction":case"eth_sign":case"personal_sign":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"eth_signTypedData_v4":return!0;case"wallet_switchEthereumChain":{this.adaptArray(e),this.updateRequestParams(e);const{parsedChainId:t,hexChainId:n}=this.getHexChainIdFromRequest(e);return!this.isChainApproved(t)}}return!1}configAddressAdaptInjectWallet(e){this.namespace.accounts.forEach((t=>{t.includes(e.chainId)&&(e.address=(0,o.fromAccountToAddress)(t))}))}request(e){return r(this,void 0,void 0,(function*(){if("eth_signLegacy"===e.method||"eth_sign"===e.method)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`${e.method} method not supported`);switch(this.adaptArray(e),(0,s.logDebug)("eip155 request --args--string>",JSON.stringify(e)),this.updateRequestParams(e),(0,s.logDebug)("eip155 request --params--string>",JSON.stringify(e)),this.configAddressAdaptInjectWallet(e),e.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_switchEthereumChain":return yield this.handleSwitchChain(e);case"wallet_addEthereumChain":return this.addEthereumChain(e)}if(!this.namespace.methods.includes(e.method))return(0,s.logDebug)("[RPC] request begin"),yield this.getHttpProvider().request(e);if("eth_sendTransaction"===e.method)try{if(e.params&&"object"==typeof e.params&&!Array.isArray(e.params)){const t=e.params;"string"==typeof t.input&&""!==t.input.trim()?!t.data||"string"==typeof t.data&&""===t.data.trim()?(t.data=t.input,(0,s.logDebug)("eip155 sendTransaction:  replace data with input")):(0,s.logDebug)("eip155 sendTransaction:  data not empty"):(0,s.logDebug)("eip155 sendTransaction:  input empty")}}catch(e){(0,s.logDebug)("eip155 sendTransaction:  replace error")}try{const t=yield this.client.request(e);if((0,s.logDebug)("eip155 request --response----string>",JSON.stringify(t)),this.isRecord(t)&&"result"in t){let e=t.result;return!e||"string"!=typeof e||"true"!==e&&"false"!==e?t.result:((0,s.logDebug)("eip155 request --wallet_watchAsset>>>>","true"===e),"true"===e)}return t}catch(e){throw(0,s.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${e instanceof s.OKXConnectError}`,JSON.stringify(e)),e}}))}addEthereumChain(e){return r(this,void 0,void 0,(function*(){let t=yield this.client.request(e);try{if("result"in t){let n=t.result;if(n){const t=n.split(":")[0],r=n.split(":")[1],o=t+":"+r;if(this.namespace,this.namespace.accounts.push(n),this.namespace.chains.push(o),this.isRecord(e.params)&&"rpcUrls"in e.params){let t=e.params.rpcUrls,n=t?t[0]:void 0;n&&(this.namespace.rpcMap?this.namespace.rpcMap[r]=n:this.namespace.rpcMap={[r]:n},this.setHttpProvider(r,n))}this.events.emit(i.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch(t){throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}return null}))}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){if(this.chainId=parseInt(e),!this.httpProviders[e]){const n=t||(0,o.getRpcUrl)(`${this.name}:${e}`,this.namespace);n?this.setHttpProvider(e,n):(0,s.logError)(`No RPC url provided for chainId: ${e}`)}this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return(0,s.logDebug)("eip155 getAccounts ",e,this.chainId),e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>(0,o.fromAccountToAddress)(e))))]:[]}getHexChainIdFromRequest(e){let t=e.params,n="0x0";t&&"chainId"in t&&(n=t.chainId),n=n.startsWith("0x")?n:`0x${n}`,(0,s.logDebug)("handleSwitchChain --\x3eargs ",e),(0,s.logDebug)("handleSwitchChain --\x3ehexChainId ",n);const r=parseInt(n,16);return(0,s.logDebug)("handleSwitchChain --\x3eparsedChainId ",r),{parsedChainId:r,hexChainId:n}}handleSwitchChain(e){return r(this,void 0,void 0,(function*(){const{parsedChainId:t,hexChainId:n}=this.getHexChainIdFromRequest(e);if(!this.isChainApproved(t))throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,`the method ${e.method} request  error`);this.setDefaultChain(`${t}`)}))}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}createHttpProvider(e,t){const n=t;if(n)return new a.JsonRpcProvider(new c.JsonRpcConnection(n,(0,o.getGlobal)("disableProviderPing")));(0,s.logError)(`No RPC url provided for chainId: ${e}`)}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,o.getChainId)(t),r=(0,o.getRpcUrl)(t,this.namespace);(0,s.logDebug)("get parsed chain and rpc:",n,r);let i=this.createHttpProvider(n,r);i&&(e[n]=i)})),(0,s.logDebug)("get http providermap:",e),e}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if((0,s.logDebug)("[RPC] get http provider:",e,t),void 0===t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}}t.Eip155Provider=l,t.default=l},5804:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcConnection=void 0;const i=n(228),s=o(n(3325)),a=n(9878),c=n(9878),l={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};t.JsonRpcConnection=class{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new i.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,c.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(){return r(this,arguments,void 0,(function*(e=this.url){yield this.register(e)}))}close(){return r(this,void 0,void 0,(function*(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}))}send(e){return r(this,void 0,void 0,(function*(){this.isAvailable||(yield this.register());try{const t=(0,a.safeJsonStringify)(e),n=yield(0,s.default)(this.url,Object.assign(Object.assign({},l),{body:t})),r=yield n.json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}))}register(){return r(this,arguments,void 0,(function*(e=this.url){if(!(0,c.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering)return new Promise(((e,t)=>{this.events.once("register_error",(e=>{t(e)})),this.events.once("open",(()=>{if(void 0===this.isAvailable)return t(new Error("HTTP connection is missing or invalid"));e()}))}));this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=(0,a.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});yield(0,s.default)(e,Object.assign(Object.assign({},l),{body:t}))}this.onOpen()}catch(e){const t=this.parseError(e);throw this.events.emit("register_error",t),this.onClose(),t}}))}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(void 0===e.data)return;const t="string"==typeof e.data?(0,a.safeJsonParse)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),o=(0,c.formatJsonRpcError)(e,r);this.events.emit("payload",o)}parseError(e,t=this.url){return(0,c.parseConnectionError)(e,t,"HTTP")}}},5961:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcProvider=void 0;const o=n(228),i=n(8066),s=n(9878),a=n(9878);class c extends i.IJSONRpcProvider{constructor(e){super(e),this.events=new o.EventEmitter,this.connected=!1,this.connecting=!1,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}connect(){return r(this,arguments,void 0,(function*(e=this.connection){yield this.open(e)}))}disconnect(){return r(this,void 0,void 0,(function*(){yield this.close()}))}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}request(e,t){return r(this,void 0,void 0,(function*(){return this.requestStrict((0,s.formatJsonRpcRequest)(e.method,e.params||[],(0,s.getBigIntRpcId)().toString()),t)}))}requestStrict(e,t){return r(this,void 0,void 0,(function*(){return new Promise(((n,o)=>r(this,void 0,void 0,(function*(){if(!this.connection.connected)try{yield this.open()}catch(e){o(e)}this.events.on(`${e.id}`,(e=>{(0,s.isJsonRpcError)(e)?o(e.error):n(e.result)}));try{(0,a.logDebug)("[RPC] >>> send request",e,t),yield this.connection.send(e,t)}catch(e){o(e)}}))))}))}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,s.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}open(){return r(this,arguments,void 0,(function*(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(yield this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),yield this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}))}close(){return r(this,void 0,void 0,(function*(){yield this.connection.close()}))}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}}t.JsonRpcProvider=c},6429:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaProvider=void 0;const o=n(6970),i=n(9878),s=n(6526),a=n(5804),c=n(5961);class l{constructor(e,t,n,r){this.name="solana",this.namespace=e.namespace,this.events=r,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return r(this,void 0,void 0,(function*(){if((0,i.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,i.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method))return this.client.request(e);throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(o.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,s.getChainId)(t),r=(0,s.getRpcUrl)(t,this.namespace);let o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n)return new c.JsonRpcProvider(new a.JsonRpcConnection(n,(0,s.getGlobal)("disableProviderPing")))}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(null==(e=this.namespace.defaultChain)?void 0:e.startsWith("solana"))||(e=`solana:${e}`),this.namespace.accounts.filter((function(t){return t.split(":").length>2&&t.startsWith(e)})).map((function(e){return e.split(":")[2]}))[0]}showRequestModal(e){return!0}}t.SolanaProvider=l,t.default=l},9465:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(6970),i=n(9878),s=n(6526),a=n(5804),c=n(5961);t.default=class{constructor(e,t,n,r){this.name="starknet",this.namespace=e.namespace,this.events=r,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return r(this,void 0,void 0,(function*(){if((0,i.logDebug)("starknet request --args--string>",JSON.stringify(e)),(0,i.logDebug)("starknet provider namespace: ",this.namespace),this.namespace.methods.includes(e.method))return this.client.request(e);throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support"+e.method)}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(o.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,s.getChainId)(t),r=(0,s.getRpcUrl)(t,this.namespace);let o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n)return new c.JsonRpcProvider(new a.JsonRpcConnection(n,(0,s.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}},8898:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SuiProvider=void 0;const o=n(6970),i=n(9878),s=n(6526),a=n(5804),c=n(5961);class l{constructor(e,t,n){this.name=i.NameSpaceKeySui,this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}request(e){return r(this,void 0,void 0,(function*(){return(0,i.logDebug)("sui request --args--string>",JSON.stringify(e)),(0,i.logDebug)("sui provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(o.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,s.getChainId)(t),r=(0,s.getRpcUrl)(t,this.namespace);let o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if((0,i.logDebug)("[RPC] get http provider:",e,t),void 0===t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&((0,i.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n)return new c.JsonRpcProvider(new a.JsonRpcConnection(n,(0,s.getGlobal)("disableProviderPing")));(0,i.logError)(`No RPC url provided for chainId: ${e}`)}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(null==(e=this.namespace.defaultChain)?void 0:e.startsWith("sui"))||(e=`sui:${e}`),this.namespace.accounts.filter((function(t){return t.split(":").length>2&&t.startsWith(e)})).map((function(e){return e.split(":")[2]}))[0]}showRequestModal(e){switch(e.method){case"sui_signMessage":case"sui_signPersonalMessage":case"sui_signTransactionBlock":case"sui_signAndExecuteTransactionBlock":return!0;default:return!1}return!1}}t.SuiProvider=l,t.default=l},1112:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6970),s=n(9878),a=n(6526),c=n(5804),l=n(5961);t.default=class{constructor(e,t,n){this.name=s.NameSpaceKeyTON,this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}isRecord(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}request(e){return r(this,void 0,void 0,(function*(){var t,n,r,i;if((0,s.logDebug)("TONProvider request --args--string>",JSON.stringify(e)),(0,s.logDebug)("TONProvider request provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)){if(!e.params)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params is nil");if(this.isRecord(e.params)){const a=e.params,{validUntil:c}=a,l=o(a,["validUntil"]);let d=null===(n=null===(t=this.namespace.payload)||void 0===t?void 0:t.ton_addr)||void 0===n?void 0:n.address;"from"in l&&(d=l.from||(null===(i=null===(r=this.namespace.payload)||void 0===r?void 0:r.ton_addr)||void 0===i?void 0:i.address)),e.params.from=d,e.params.network=this.getDefaultChain(),e.params.valid_until=c;let u=yield this.client.request(e);if(this.isRecord(u)&&"result"in u){const e={boc:u.result.toString()};return(0,s.logDebug)("TONProvider request provider response: ",JSON.stringify(u)),(0,s.logDebug)("TONProvider request provider result: ",JSON.stringify(e)),e}throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_send request response is nil")}throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params type add nil")}return this.getHttpProvider().request(e)}))}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){var e,t;const n=this.namespace.accounts;if((0,s.logDebug)("ton getAccounts accounts :",n),(0,s.logDebug)("ton getAccounts .namespace :",JSON.stringify(this.namespace)),!n)return[];let r=null===(t=null===(e=this.namespace.payload)||void 0===e?void 0:e.ton_addr)||void 0===t?void 0:t.address;return(0,s.logDebug)("ton getAccounts address :",r),r?[r]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,a.getChainId)(t),r=(0,a.getRpcUrl)(t,this.namespace);let o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if((0,s.logDebug)("[RPC] get http provider:",e,t),void 0===t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&((0,s.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n)return new l.JsonRpcProvider(new c.JsonRpcConnection(n,(0,a.getGlobal)("disableProviderPing")));(0,s.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return"ton_sendTransaction"===e.method}}},5314:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(6970),i=n(9878),s=n(6526),a=n(5804),c=n(5961);t.default=class{constructor(e,t,n){this.name=i.NameSpaceKeyTron,this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return r(this,void 0,void 0,(function*(){if((0,i.logDebug)("tron request --args--string>",JSON.stringify(e)),(0,i.logDebug)("tron provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method))return this.client.request(e);throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(o.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=(0,s.getChainId)(t),r=(0,s.getRpcUrl)(t,this.namespace);let o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){const e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t;if(n)return new c.JsonRpcProvider(new a.JsonRpcConnection(n,(0,s.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}},8066:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9888),t),o(n(1023),t)},1023:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IJSONRpcProvider=t.IJSONRpcConnection=void 0,t.IJSONRpcConnection=class{},t.IJSONRpcProvider=class{constructor(e){}}},9222:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobal=t.getGlobal=void 0;const n={};t.getGlobal=e=>n[e],t.setGlobal=(e,t)=>{n[e]=t}},6526:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(8016),t),o(n(9222),t)},8016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRpcUrl=function(e,t,n){var r;const o=i(e);return(null===(r=t.rpcMap)||void 0===r?void 0:r[o.reference])||""},t.getChainId=function(e){return e.includes(":")?e.split(":")[1]:e},t.fromAccountToAddress=function(e){if(!e)return"";try{let t=e.split(":").slice(2),n=t.length>0?t.join(":"):"";return(0,r.logDebug)("fromAccountToAddress address and account:",n,e),n}catch(t){return(0,r.logError)("fromAccountToAddress error:",e),""}},t.convertChainIdToNumber=function(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))},t.parseChainId=i,t.mergeArrays=function(e=[],t=[]){return[...new Set([...e,...t])]},t.syncAddressAvailable=function(e){return!!e&&("OKX Wallet"===e.appName&&(!((0,r.versionCompare)("6.97.0",e.appVersion)>0)&&s()))},t.syncAddressHostAvailable=s;const r=n(9878),o=":";function i(e){const[t,n]=e.split(o);return{namespace:t,reference:n}}function s(){try{return!!window.okxGlobal}catch(e){return!1}}},972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4512);function o(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function l(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function d(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function u(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),d(e/4294967296>>>0,t,n),d(e>>>0,t,n+4),t}function f(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),u(e>>>0,t,n),u(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=o,t.writeInt16BE=o,t.writeUint16LE=i,t.writeInt16LE=i,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=l,t.writeUint32BE=d,t.writeInt32BE=d,t.writeUint32LE=u,t.writeInt32LE=u,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=s(e,t),r=s(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=l(e,t);return 4294967296*l(e,t+4)+n},t.writeUint64BE=h,t.writeInt64BE=h,t.writeUint64LE=f,t.writeInt64LE=f,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,o=1,i=e/8+n-1;i>=n;i--)r+=t[i]*o,o*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,o=1,i=n;i<n+e/8;i++)r+=t[i]*o,o*=256;return r},t.writeUintBE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,s=e/8+o-1;s>=o;s--)n[s]=t/i&255,i*=256;return n},t.writeUintLE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,s=o;s<o+e/8;s++)n[s]=t/i&255,i*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},4904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const r=n(7052),o=n(4974),i=n(6228);function s(e){const t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32,new Uint8Array(32)[0]=9;const a=s(),c=s([1]),l=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(e,t){for(let n=0;n<16;n++)e[n]=0|t[n]}function p(e){let t=1;for(let n=0;n<16;n++){let r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function m(e,t,n){const r=~(n-1);for(let n=0;n<16;n++){const o=r&(e[n]^t[n]);e[n]^=o,t[n]^=o}}function y(e,t){const n=s(),r=s();for(let e=0;e<16;e++)r[e]=t[e];p(r),p(r),p(r);for(let e=0;e<2;e++){n[0]=r[0]-65517;for(let e=1;e<15;e++)n[e]=r[e]-65535-(n[e-1]>>16&1),n[e-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const e=n[15]>>16&1;n[14]&=65535,m(r,n,1-e)}for(let t=0;t<16;t++)e[2*t]=255&r[t],e[2*t+1]=r[t]>>8}function v(e,t){let n=0;for(let r=0;r<32;r++)n|=e[r]^t[r];return(1&n-1>>>8)-1}function b(e,t){const n=new Uint8Array(32),r=new Uint8Array(32);return y(n,e),y(r,t),v(n,r)}function C(e){const t=new Uint8Array(32);return y(t,e),1&t[0]}function w(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]+n[r]}function _(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]-n[r]}function O(e,t,n){let r,o,i=0,s=0,a=0,c=0,l=0,d=0,u=0,h=0,f=0,g=0,p=0,m=0,y=0,v=0,b=0,C=0,w=0,_=0,O=0,E=0,S=0,N=0,T=0,R=0,k=0,P=0,A=0,I=0,D=0,x=0,M=0,K=n[0],U=n[1],j=n[2],L=n[3],B=n[4],W=n[5],X=n[6],H=n[7],z=n[8],J=n[9],F=n[10],q=n[11],V=n[12],$=n[13],G=n[14],Z=n[15];r=t[0],i+=r*K,s+=r*U,a+=r*j,c+=r*L,l+=r*B,d+=r*W,u+=r*X,h+=r*H,f+=r*z,g+=r*J,p+=r*F,m+=r*q,y+=r*V,v+=r*$,b+=r*G,C+=r*Z,r=t[1],s+=r*K,a+=r*U,c+=r*j,l+=r*L,d+=r*B,u+=r*W,h+=r*X,f+=r*H,g+=r*z,p+=r*J,m+=r*F,y+=r*q,v+=r*V,b+=r*$,C+=r*G,w+=r*Z,r=t[2],a+=r*K,c+=r*U,l+=r*j,d+=r*L,u+=r*B,h+=r*W,f+=r*X,g+=r*H,p+=r*z,m+=r*J,y+=r*F,v+=r*q,b+=r*V,C+=r*$,w+=r*G,_+=r*Z,r=t[3],c+=r*K,l+=r*U,d+=r*j,u+=r*L,h+=r*B,f+=r*W,g+=r*X,p+=r*H,m+=r*z,y+=r*J,v+=r*F,b+=r*q,C+=r*V,w+=r*$,_+=r*G,O+=r*Z,r=t[4],l+=r*K,d+=r*U,u+=r*j,h+=r*L,f+=r*B,g+=r*W,p+=r*X,m+=r*H,y+=r*z,v+=r*J,b+=r*F,C+=r*q,w+=r*V,_+=r*$,O+=r*G,E+=r*Z,r=t[5],d+=r*K,u+=r*U,h+=r*j,f+=r*L,g+=r*B,p+=r*W,m+=r*X,y+=r*H,v+=r*z,b+=r*J,C+=r*F,w+=r*q,_+=r*V,O+=r*$,E+=r*G,S+=r*Z,r=t[6],u+=r*K,h+=r*U,f+=r*j,g+=r*L,p+=r*B,m+=r*W,y+=r*X,v+=r*H,b+=r*z,C+=r*J,w+=r*F,_+=r*q,O+=r*V,E+=r*$,S+=r*G,N+=r*Z,r=t[7],h+=r*K,f+=r*U,g+=r*j,p+=r*L,m+=r*B,y+=r*W,v+=r*X,b+=r*H,C+=r*z,w+=r*J,_+=r*F,O+=r*q,E+=r*V,S+=r*$,N+=r*G,T+=r*Z,r=t[8],f+=r*K,g+=r*U,p+=r*j,m+=r*L,y+=r*B,v+=r*W,b+=r*X,C+=r*H,w+=r*z,_+=r*J,O+=r*F,E+=r*q,S+=r*V,N+=r*$,T+=r*G,R+=r*Z,r=t[9],g+=r*K,p+=r*U,m+=r*j,y+=r*L,v+=r*B,b+=r*W,C+=r*X,w+=r*H,_+=r*z,O+=r*J,E+=r*F,S+=r*q,N+=r*V,T+=r*$,R+=r*G,k+=r*Z,r=t[10],p+=r*K,m+=r*U,y+=r*j,v+=r*L,b+=r*B,C+=r*W,w+=r*X,_+=r*H,O+=r*z,E+=r*J,S+=r*F,N+=r*q,T+=r*V,R+=r*$,k+=r*G,P+=r*Z,r=t[11],m+=r*K,y+=r*U,v+=r*j,b+=r*L,C+=r*B,w+=r*W,_+=r*X,O+=r*H,E+=r*z,S+=r*J,N+=r*F,T+=r*q,R+=r*V,k+=r*$,P+=r*G,A+=r*Z,r=t[12],y+=r*K,v+=r*U,b+=r*j,C+=r*L,w+=r*B,_+=r*W,O+=r*X,E+=r*H,S+=r*z,N+=r*J,T+=r*F,R+=r*q,k+=r*V,P+=r*$,A+=r*G,I+=r*Z,r=t[13],v+=r*K,b+=r*U,C+=r*j,w+=r*L,_+=r*B,O+=r*W,E+=r*X,S+=r*H,N+=r*z,T+=r*J,R+=r*F,k+=r*q,P+=r*V,A+=r*$,I+=r*G,D+=r*Z,r=t[14],b+=r*K,C+=r*U,w+=r*j,_+=r*L,O+=r*B,E+=r*W,S+=r*X,N+=r*H,T+=r*z,R+=r*J,k+=r*F,P+=r*q,A+=r*V,I+=r*$,D+=r*G,x+=r*Z,r=t[15],C+=r*K,w+=r*U,_+=r*j,O+=r*L,E+=r*B,S+=r*W,N+=r*X,T+=r*H,R+=r*z,k+=r*J,P+=r*F,A+=r*q,I+=r*V,D+=r*$,x+=r*G,M+=r*Z,i+=38*w,s+=38*_,a+=38*O,c+=38*E,l+=38*S,d+=38*N,u+=38*T,h+=38*R,f+=38*k,g+=38*P,p+=38*A,m+=38*I,y+=38*D,v+=38*x,b+=38*M,o=1,r=i+o+65535,o=Math.floor(r/65536),i=r-65536*o,r=s+o+65535,o=Math.floor(r/65536),s=r-65536*o,r=a+o+65535,o=Math.floor(r/65536),a=r-65536*o,r=c+o+65535,o=Math.floor(r/65536),c=r-65536*o,r=l+o+65535,o=Math.floor(r/65536),l=r-65536*o,r=d+o+65535,o=Math.floor(r/65536),d=r-65536*o,r=u+o+65535,o=Math.floor(r/65536),u=r-65536*o,r=h+o+65535,o=Math.floor(r/65536),h=r-65536*o,r=f+o+65535,o=Math.floor(r/65536),f=r-65536*o,r=g+o+65535,o=Math.floor(r/65536),g=r-65536*o,r=p+o+65535,o=Math.floor(r/65536),p=r-65536*o,r=m+o+65535,o=Math.floor(r/65536),m=r-65536*o,r=y+o+65535,o=Math.floor(r/65536),y=r-65536*o,r=v+o+65535,o=Math.floor(r/65536),v=r-65536*o,r=b+o+65535,o=Math.floor(r/65536),b=r-65536*o,r=C+o+65535,o=Math.floor(r/65536),C=r-65536*o,i+=o-1+37*(o-1),o=1,r=i+o+65535,o=Math.floor(r/65536),i=r-65536*o,r=s+o+65535,o=Math.floor(r/65536),s=r-65536*o,r=a+o+65535,o=Math.floor(r/65536),a=r-65536*o,r=c+o+65535,o=Math.floor(r/65536),c=r-65536*o,r=l+o+65535,o=Math.floor(r/65536),l=r-65536*o,r=d+o+65535,o=Math.floor(r/65536),d=r-65536*o,r=u+o+65535,o=Math.floor(r/65536),u=r-65536*o,r=h+o+65535,o=Math.floor(r/65536),h=r-65536*o,r=f+o+65535,o=Math.floor(r/65536),f=r-65536*o,r=g+o+65535,o=Math.floor(r/65536),g=r-65536*o,r=p+o+65535,o=Math.floor(r/65536),p=r-65536*o,r=m+o+65535,o=Math.floor(r/65536),m=r-65536*o,r=y+o+65535,o=Math.floor(r/65536),y=r-65536*o,r=v+o+65535,o=Math.floor(r/65536),v=r-65536*o,r=b+o+65535,o=Math.floor(r/65536),b=r-65536*o,r=C+o+65535,o=Math.floor(r/65536),C=r-65536*o,i+=o-1+37*(o-1),e[0]=i,e[1]=s,e[2]=a,e[3]=c,e[4]=l,e[5]=d,e[6]=u,e[7]=h,e[8]=f,e[9]=g,e[10]=p,e[11]=m,e[12]=y,e[13]=v,e[14]=b,e[15]=C}function E(e,t){O(e,t,t)}function S(e,t){const n=s();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)E(n,n),2!==r&&4!==r&&O(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function N(e,t){const n=s(),r=s(),o=s(),i=s(),a=s(),c=s(),l=s(),u=s(),h=s();_(n,e[1],e[0]),_(h,t[1],t[0]),O(n,n,h),w(r,e[0],e[1]),w(h,t[0],t[1]),O(r,r,h),O(o,e[3],t[3]),O(o,o,d),O(i,e[2],t[2]),w(i,i,i),_(a,r,n),_(c,i,o),w(l,i,o),w(u,r,n),O(e[0],a,c),O(e[1],u,l),O(e[2],l,c),O(e[3],a,u)}function T(e,t,n){for(let r=0;r<4;r++)m(e[r],t[r],n)}function R(e,t){const n=s(),r=s(),o=s();S(o,t[2]),O(n,t[0],o),O(r,t[1],o),y(e,r),e[31]^=C(n)<<7}function k(e,t,n){g(e[0],a),g(e[1],c),g(e[2],c),g(e[3],a);for(let r=255;r>=0;--r){const o=n[r/8|0]>>(7&r)&1;T(e,t,o),N(t,e),N(e,e),T(e,t,o)}}function P(e,t){const n=[s(),s(),s(),s()];g(n[0],u),g(n[1],h),g(n[2],c),O(n[3],u,h),k(e,n,t)}function A(e){if(e.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const n=(0,o.hash)(e);n[0]&=248,n[31]&=127,n[31]|=64;const r=new Uint8Array(32),i=[s(),s(),s(),s()];P(i,n),R(r,i);const a=new Uint8Array(64);return a.set(e),a.set(r,32),{publicKey:r,secretKey:a}}t.generateKeyPairFromSeed=A,t.generateKeyPair=function(e){const t=(0,r.randomBytes)(32,e),n=A(t);return(0,i.wipe)(t),n},t.extractPublicKeyFromSecretKey=function(e){if(e.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(e.subarray(32))};const I=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function D(e,t){let n,r,o,i;for(r=63;r>=32;--r){for(n=0,o=r-32,i=r-12;o<i;++o)t[o]+=n-16*t[r]*I[o-(r-32)],n=Math.floor((t[o]+128)/256),t[o]-=256*n;t[o]+=n,t[r]=0}for(n=0,o=0;o<32;o++)t[o]+=n-(t[31]>>4)*I[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*I[o];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function x(e){const t=new Float64Array(64);for(let n=0;n<64;n++)t[n]=e[n];for(let t=0;t<64;t++)e[t]=0;D(e,t)}function M(e,t){const n=s(),r=s(),o=s(),i=s(),d=s(),u=s(),h=s();return g(e[2],c),function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),E(o,e[1]),O(i,o,l),_(o,o,e[2]),w(i,e[2],i),E(d,i),E(u,d),O(h,u,d),O(n,h,o),O(n,n,i),function(e,t){const n=s();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)E(n,n),1!==r&&O(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(n,n),O(n,n,o),O(n,n,i),O(n,n,i),O(e[0],n,i),E(r,e[0]),O(r,r,i),b(r,o)&&O(e[0],e[0],f),E(r,e[0]),O(r,r,i),b(r,o)?-1:(C(e[0])===t[31]>>7&&_(e[0],a,e[0]),O(e[3],e[0],e[1]),0)}t.sign=function(e,t){const n=new Float64Array(64),r=[s(),s(),s(),s()],i=(0,o.hash)(e.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;const a=new Uint8Array(64);a.set(i.subarray(32),32);const c=new o.SHA512;c.update(a.subarray(32)),c.update(t);const l=c.digest();c.clean(),x(l),P(r,l),R(a,r),c.reset(),c.update(a.subarray(0,32)),c.update(e.subarray(32)),c.update(t);const d=c.digest();x(d);for(let e=0;e<32;e++)n[e]=l[e];for(let e=0;e<32;e++)for(let t=0;t<32;t++)n[e+t]+=d[e]*i[t];return D(a.subarray(32),n),a},t.verify=function(e,n,r){const i=new Uint8Array(32),a=[s(),s(),s(),s()],c=[s(),s(),s(),s()];if(r.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(M(c,e))return!1;const l=new o.SHA512;l.update(r.subarray(0,32)),l.update(e),l.update(n);const d=l.digest();return x(d),k(a,c,d),P(c,r.subarray(32)),N(a,c),R(i,a),!v(r,i)},t.convertPublicKeyToX25519=function(e){let t=[s(),s(),s(),s()];if(M(t,e))throw new Error("Ed25519: invalid public key");let n=s(),r=s(),o=t[1];w(n,c,o),_(r,c,o),S(r,r),O(n,n,r);let i=new Uint8Array(32);return y(i,n),i},t.convertSecretKeyToX25519=function(e){const t=(0,o.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;const n=new Uint8Array(t.subarray(0,32));return(0,i.wipe)(t),n}},4512:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},7052:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const r=n(5492),o=n(972),i=n(6228);function s(e,n=t.defaultRandomSource){return n.randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=s,t.randomUint32=function(e=t.defaultRandomSource){const n=s(4,e),r=(0,o.readUint32LE)(n);return(0,i.wipe)(n),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,n=a,r=t.defaultRandomSource){if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let o="";const c=n.length,l=256-256%c;for(;e>0;){const t=s(Math.ceil(256*e/l),r);for(let r=0;r<t.length&&e>0;r++){const i=t[r];i<l&&(o+=n.charAt(i%c),e--)}(0,i.wipe)(t)}return o}t.randomString=c,t.randomStringForEntropy=function(e,n=a,r=t.defaultRandomSource){return c(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},7029:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0,t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}},5821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const r=n(6228);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=n(9432);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let e=0;e<n.length;e++)n[e]=t[e];return(0,r.wipe)(t),n}}},5492:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const r=n(7029),o=n(5821);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new o.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},204:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(972),o=n(6228);t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var i=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){o.wipe(this._buffer),o.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=a(this._temp,this._state,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,o=t/536870912|0,i=t<<3,s=t%64<56?64:128;this._buffer[n]=128;for(var c=n+1;c<s-8;c++)this._buffer[c]=0;r.writeUint32BE(o,this._buffer,s-8),r.writeUint32BE(i,this._buffer,s-4),a(this._temp,this._state,this._buffer,0,s),this._finished=!0}for(c=0;c<this.digestLength/4;c++)r.writeUint32BE(this._state[c],e,4*c);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){o.wipe(e.state),e.buffer&&o.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA256=i;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,t,n,o,i){for(;i>=64;){for(var a=t[0],c=t[1],l=t[2],d=t[3],u=t[4],h=t[5],f=t[6],g=t[7],p=0;p<16;p++){var m=o+4*p;e[p]=r.readUint32BE(n,m)}for(p=16;p<64;p++){var y=e[p-2],v=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,b=((y=e[p-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;e[p]=(v+e[p-7]|0)+(b+e[p-16]|0)}for(p=0;p<64;p++)v=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&h^~u&f)|0)+(g+(s[p]+e[p]|0)|0)|0,b=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&l^c&l)|0,g=f,f=h,h=u,u=d+v|0,d=l,l=c,c=a,a=v+b|0;t[0]+=a,t[1]+=c,t[2]+=l,t[3]+=d,t[4]+=u,t[5]+=h,t[6]+=f,t[7]+=g,o+=64,i-=64}return o}t.hash=function(e){var t=new i;t.update(e);var n=t.digest();return t.clean(),n}},4974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(972),o=n(6228);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var i=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){o.wipe(this._buffer),o.wipe(this._tempHi),o.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,n){if(void 0===n&&(n=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var r=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&n>0;)this._buffer[this._bufferLength++]=e[r++],n--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(r=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,r,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=e[r++],n--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,o=t/536870912|0,i=t<<3,s=t%128<112?128:256;this._buffer[n]=128;for(var c=n+1;c<s-8;c++)this._buffer[c]=0;r.writeUint32BE(o,this._buffer,s-8),r.writeUint32BE(i,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(c=0;c<this.digestLength/8;c++)r.writeUint32BE(this._stateHi[c],e,8*c),r.writeUint32BE(this._stateLo[c],e,8*c+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){o.wipe(e.stateHi),o.wipe(e.stateLo),e.buffer&&o.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=i;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,n,o,i,a,c){for(var l,d,u,h,f,g,p,m,y=n[0],v=n[1],b=n[2],C=n[3],w=n[4],_=n[5],O=n[6],E=n[7],S=o[0],N=o[1],T=o[2],R=o[3],k=o[4],P=o[5],A=o[6],I=o[7];c>=128;){for(var D=0;D<16;D++){var x=8*D+a;e[D]=r.readUint32BE(i,x),t[D]=r.readUint32BE(i,x+4)}for(D=0;D<80;D++){var M,K,U=y,j=v,L=b,B=C,W=w,X=_,H=O,z=S,J=N,F=T,q=R,V=k,$=P,G=A;if(f=65535&(d=I),g=d>>>16,p=65535&(l=E),m=l>>>16,f+=65535&(d=(k>>>14|w<<18)^(k>>>18|w<<14)^(w>>>9|k<<23)),g+=d>>>16,p+=65535&(l=(w>>>14|k<<18)^(w>>>18|k<<14)^(k>>>9|w<<23)),m+=l>>>16,f+=65535&(d=k&P^~k&A),g+=d>>>16,p+=65535&(l=w&_^~w&O),m+=l>>>16,l=s[2*D],f+=65535&(d=s[2*D+1]),g+=d>>>16,p+=65535&l,m+=l>>>16,l=e[D%16],g+=(d=t[D%16])>>>16,p+=65535&l,m+=l>>>16,p+=(g+=(f+=65535&d)>>>16)>>>16,f=65535&(d=h=65535&f|g<<16),g=d>>>16,p=65535&(l=u=65535&p|(m+=p>>>16)<<16),m=l>>>16,f+=65535&(d=(S>>>28|y<<4)^(y>>>2|S<<30)^(y>>>7|S<<25)),g+=d>>>16,p+=65535&(l=(y>>>28|S<<4)^(S>>>2|y<<30)^(S>>>7|y<<25)),m+=l>>>16,g+=(d=S&N^S&T^N&T)>>>16,p+=65535&(l=y&v^y&b^v&b),m+=l>>>16,M=65535&(p+=(g+=(f+=65535&d)>>>16)>>>16)|(m+=p>>>16)<<16,K=65535&f|g<<16,f=65535&(d=q),g=d>>>16,p=65535&(l=B),m=l>>>16,g+=(d=h)>>>16,p+=65535&(l=u),m+=l>>>16,v=U,b=j,C=L,w=B=65535&(p+=(g+=(f+=65535&d)>>>16)>>>16)|(m+=p>>>16)<<16,_=W,O=X,E=H,y=M,N=z,T=J,R=F,k=q=65535&f|g<<16,P=V,A=$,I=G,S=K,D%16==15)for(x=0;x<16;x++)l=e[x],f=65535&(d=t[x]),g=d>>>16,p=65535&l,m=l>>>16,l=e[(x+9)%16],f+=65535&(d=t[(x+9)%16]),g+=d>>>16,p+=65535&l,m+=l>>>16,u=e[(x+1)%16],f+=65535&(d=((h=t[(x+1)%16])>>>1|u<<31)^(h>>>8|u<<24)^(h>>>7|u<<25)),g+=d>>>16,p+=65535&(l=(u>>>1|h<<31)^(u>>>8|h<<24)^u>>>7),m+=l>>>16,u=e[(x+14)%16],g+=(d=((h=t[(x+14)%16])>>>19|u<<13)^(u>>>29|h<<3)^(h>>>6|u<<26))>>>16,p+=65535&(l=(u>>>19|h<<13)^(h>>>29|u<<3)^u>>>6),m+=l>>>16,m+=(p+=(g+=(f+=65535&d)>>>16)>>>16)>>>16,e[x]=65535&p|m<<16,t[x]=65535&f|g<<16}f=65535&(d=S),g=d>>>16,p=65535&(l=y),m=l>>>16,l=n[0],g+=(d=o[0])>>>16,p+=65535&l,m+=l>>>16,m+=(p+=(g+=(f+=65535&d)>>>16)>>>16)>>>16,n[0]=y=65535&p|m<<16,o[0]=S=65535&f|g<<16,f=65535&(d=N),g=d>>>16,p=65535&(l=v),m=l>>>16,l=n[1],g+=(d=o[1])>>>16,p+=65535&l,m+=l>>>16,m+=(p+=(g+=(f+=65535&d)>>>16)>>>16)>>>16,n[1]=v=65535&p|m<<16,o[1]=N=65535&f|g<<16,f=65535&(d=T),g=d>>>16,p=65535&(l=b),m=l>>>16,l=n[2],g+=(d=o[2])>>>16,p+=65535&l,m+=l>>>16,m+=(p+=(g+=(f+=65535&d)>>>16)>>>16)>>>16,n[2]=b=65535&p|m<<16,o[2]=T=65535&f|g<<16,f=65535&(d=R),g=d>>>16,p=65535&(l=C),m=l>>>16,l=n[3],g+=(d=o[3])>>>16,p+=65535&l,m+=l>>>16,m+=(p+=(g+=(f+=65535&d)>>>16)>>>16)>>>16,n[3]=C=65535&p|m<<16,o[3]=R=65535&f|g<<16,f=65535&(d=k),g=d>>>16,p=65535&(l=w),m=l>>>16,l=n[4],g+=(d=o[4])>>>16,p+=65535&l,m+=l>>>16,m+=(p+=(g+=(f+=65535&d)>>>16)>>>16)>>>16,n[4]=w=65535&p|m<<16,o[4]=k=65535&f|g<<16,f=65535&(d=P),g=d>>>16,p=65535&(l=_),m=l>>>16,l=n[5],g+=(d=o[5])>>>16,p+=65535&l,m+=l>>>16,m+=(p+=(g+=(f+=65535&d)>>>16)>>>16)>>>16,n[5]=_=65535&p|m<<16,o[5]=P=65535&f|g<<16,f=65535&(d=A),g=d>>>16,p=65535&(l=O),m=l>>>16,l=n[6],g+=(d=o[6])>>>16,p+=65535&l,m+=l>>>16,m+=(p+=(g+=(f+=65535&d)>>>16)>>>16)>>>16,n[6]=O=65535&p|m<<16,o[6]=A=65535&f|g<<16,f=65535&(d=I),g=d>>>16,p=65535&(l=E),m=l>>>16,l=n[7],g+=(d=o[7])>>>16,p+=65535&l,m+=l>>>16,m+=(p+=(g+=(f+=65535&d)>>>16)>>>16)>>>16,n[7]=E=65535&p|m<<16,o[7]=I=65535&f|g<<16,a+=128,c-=128}return a}t.hash=function(e){var t=new i;t.update(e);var n=t.digest();return t.clean(),n}},6228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},2505:(e,t,n)=>{e.exports=n(8015)},5592:(e,t,n)=>{"use strict";var r=n(9516),o=n(7522),i=n(3948),s=n(9106),a=n(9615),c=n(2012),l=n(4202),d=n(7763),u=n(6987),h=n(1928);e.exports=function(e){return new Promise((function(t,n){var f,g=e.data,p=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(g)&&delete p["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",C=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(b+":"+C)}var w=a(e.baseURL,e.url);function _(){if(v){var r="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,i={data:m&&"text"!==m&&"json"!==m?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:e,request:v};o((function(e){t(e),y()}),(function(e){n(e),y()}),i),v=null}}if(v.open(e.method.toUpperCase(),s(w,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=_:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(_)},v.onabort=function(){v&&(n(d("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){n(d("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||u.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(d(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},r.isStandardBrowserEnv()){var O=(e.withCredentials||l(w))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;O&&(p[e.xsrfHeaderName]=O)}"setRequestHeader"in v&&r.forEach(p,(function(e,t){void 0===g&&"content-type"===t.toLowerCase()?delete p[t]:v.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),m&&"json"!==m&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){v&&(n(!e||e&&e.type?new h("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),g||(g=null),v.send(g)}))}},8015:(e,t,n)=>{"use strict";var r=n(9516),o=n(9012),i=n(5155),s=n(5343),a=function e(t){var n=new i(t),a=o(i.prototype.request,n);return r.extend(a,i.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(6987));a.Axios=i,a.Cancel=n(1928),a.CancelToken=n(3191),a.isCancel=n(3864),a.VERSION=n(9641).version,a.all=function(e){return Promise.all(e)},a.spread=n(7980),a.isAxiosError=n(5019),e.exports=a,e.exports.default=a},1928:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},3191:(e,t,n)=>{"use strict";var r=n(1928);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},3864:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},5155:(e,t,n)=>{"use strict";var r=n(9516),o=n(9106),i=n(3471),s=n(4490),a=n(5343),c=n(7222),l=c.validators;function d(e){this.defaults=e,this.interceptors={request:new i,response:new i}}d.prototype.request=function(e,t){if("string"==typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,d=[];if(this.interceptors.response.forEach((function(e){d.push(e.fulfilled,e.rejected)})),!o){var u=[s,void 0];for(Array.prototype.unshift.apply(u,r),u=u.concat(d),i=Promise.resolve(t);u.length;)i=i.then(u.shift(),u.shift());return i}for(var h=t;r.length;){var f=r.shift(),g=r.shift();try{h=f(h)}catch(e){g(e);break}}try{i=s(h)}catch(e){return Promise.reject(e)}for(;d.length;)i=i.then(d.shift(),d.shift());return i},d.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){d.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=d},3471:(e,t,n)=>{"use strict";var r=n(9516);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},9615:(e,t,n)=>{"use strict";var r=n(9137),o=n(4680);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},7763:(e,t,n)=>{"use strict";var r=n(5449);e.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},4490:(e,t,n)=>{"use strict";var r=n(9516),o=n(2881),i=n(3864),s=n(6987),a=n(1928);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5449:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},5343:(e,t,n)=>{"use strict";var r=n(9516);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||i,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},7522:(e,t,n)=>{"use strict";var r=n(7763);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2881:(e,t,n)=>{"use strict";var r=n(9516),o=n(6987);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},6987:(e,t,n)=>{"use strict";var r=n(9516),o=n(7018),i=n(5449),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(5592)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(s)})),e.exports=l},9641:e=>{e.exports={version:"0.25.0"}},9012:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9106:(e,t,n)=>{"use strict";var r=n(9516);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},4680:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},3948:(e,t,n)=>{"use strict";var r=n(9516);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9137:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},5019:(e,t,n)=>{"use strict";var r=n(9516);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},4202:(e,t,n)=>{"use strict";var r=n(9516);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},7018:(e,t,n)=>{"use strict";var r=n(9516);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},2012:(e,t,n)=>{"use strict";var r=n(9516),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},7980:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7222:(e,t,n)=>{"use strict";var r=n(9641).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],s=t[i];if(s){var a=e[i],c=void 0===a||s(a,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},9516:(e,t,n)=>{"use strict";var r=n(9012),o=Object.prototype.toString;function i(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function d(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:d,isStream:function(e){return c(e)&&d(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},5364:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var o=e.charAt(r),i=o.charCodeAt(0);if(255!==t[i])throw new TypeError(o+" is ambiguous");t[i]=r}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,o=0;e[n]===a;)r++,n++;for(var i=(e.length-n)*c+1>>>0,l=new Uint8Array(i);e[n];){var d=t[e.charCodeAt(n)];if(255===d)return;for(var u=0,h=i-1;(0!==d||u<o)&&-1!==h;h--,u++)d+=s*l[h]>>>0,l[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=u,n++}for(var f=i-o;f!==i&&0===l[f];)f++;for(var g=new Uint8Array(r+(i-f)),p=r;f!==i;)g[p++]=l[f++];return g}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var c=(i-o)*l+1>>>0,d=new Uint8Array(c);o!==i;){for(var u=t[o],h=0,f=c-1;(0!==u||h<r)&&-1!==f;f--,h++)u+=256*d[f]>>>0,d[f]=u%s>>>0,u=u/s>>>0;if(0!==u)throw new Error("Non-zero carry");r=h,o++}for(var g=c-r;g!==c&&0===d[g];)g++;for(var p=a.repeat(n);g<c;++g)p+=e.charAt(d[g]);return p},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},6763:(e,t,n)=>{const r=n(5364);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},4945:(e,t,n)=>{var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g,o=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},o="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,s="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function g(e){this.map={},e instanceof g?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&s&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||d(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return p(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(s)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,o,i=p(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,n=m(t=new FileReader),o=(r=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?r[1]:"utf-8",t.readAsText(e,o),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}g.prototype.append=function(e,t){e=u(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},g.prototype.delete=function(e){delete this.map[u(e)]},g.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},g.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},g.prototype.set=function(e,t){this.map[u(e)]=h(t)},g.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},g.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},g.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},g.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},i&&(g.prototype[Symbol.iterator]=g.prototype.entries);var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,o,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new g(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new g(t.headers)),this.method=(o=(n=t.method||this.method||"GET").toUpperCase(),C.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function O(e,t){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new g(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var E=[301,302,303,307,308];O.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(o,i){var a=new w(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function d(){l.abort()}if(l.onload=function(){var e,t,n={statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new g,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();try{t.append(r,o)}catch(e){console.warn("Response "+e.message)}}})),t)};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?n.status=200:n.status=l.status,n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;setTimeout((function(){o(new O(r,n))}),0)},l.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){i(new t.DOMException("Aborted","AbortError"))}),0)},l.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(s?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof g||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach((function(e){f.push(u(e)),l.setRequestHeader(e,h(n.headers[e]))})),a.headers.forEach((function(e,t){-1===f.indexOf(t)&&l.setRequestHeader(t,e)}))}else a.headers.forEach((function(e,t){l.setRequestHeader(t,e)}));a.signal&&(a.signal.addEventListener("abort",d),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",d)}),l.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,r.fetch||(r.fetch=S,r.Headers=g,r.Request=w,r.Response=O),t.Headers=g,t.Request=w,t.Response=O,t.fetch=S}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var i=r.fetch?r:o;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},955:function(e,t,n){var r;e.exports=(r=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,o=[],i=[],s=[],a=[],c=[],l=[],d=[],u=[],h=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var g=r^r<<1^r<<2^r<<3^r<<4;g=g>>>8^255&g^99,o[n]=g,i[g]=n;var p=e[n],m=e[p],y=e[m],v=257*e[g]^16843008*g;s[n]=v<<24|v>>>8,a[n]=v<<16|v>>>16,c[n]=v<<8|v>>>24,l[n]=v,v=16843009*y^65537*m^257*p^16843008*n,d[g]=v<<24|v>>>8,u[g]=v<<16|v>>>16,h[g]=v<<8|v>>>24,f[g]=v,n?(n=p^e[e[e[y^p]]],r^=e[e[r]]):n=r=1}}();var g=[0,1,2,4,8,16,32,64,128,27,54],p=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],s=0;s<r;s++)s<n?i[s]=t[s]:(l=i[s-1],s%n?n>6&&s%n==4&&(l=o[l>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l]):(l=o[(l=l<<8|l>>>24)>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l],l^=g[s/n|0]<<24),i[s]=i[s-n]^l);for(var a=this._invKeySchedule=[],c=0;c<r;c++){if(s=r-c,c%4)var l=i[s];else l=i[s-4];a[c]=c<4||s<=4?l:d[o[l>>>24]]^u[o[l>>>16&255]]^h[o[l>>>8&255]]^f[o[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,c,l,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,d,u,h,f,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,s,a){for(var c=this._nRounds,l=e[t]^n[0],d=e[t+1]^n[1],u=e[t+2]^n[2],h=e[t+3]^n[3],f=4,g=1;g<c;g++){var p=r[l>>>24]^o[d>>>16&255]^i[u>>>8&255]^s[255&h]^n[f++],m=r[d>>>24]^o[u>>>16&255]^i[h>>>8&255]^s[255&l]^n[f++],y=r[u>>>24]^o[h>>>16&255]^i[l>>>8&255]^s[255&d]^n[f++],v=r[h>>>24]^o[l>>>16&255]^i[d>>>8&255]^s[255&u]^n[f++];l=p,d=m,u=y,h=v}p=(a[l>>>24]<<24|a[d>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^n[f++],m=(a[d>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&l])^n[f++],y=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[l>>>8&255]<<8|a[255&d])^n[f++],v=(a[h>>>24]<<24|a[l>>>16&255]<<16|a[d>>>8&255]<<8|a[255&u])^n[f++],e[t]=p,e[t+1]=m,e[t+2]=y,e[t+3]=v},keySize:8});e.AES=t._createHelper(p)}(),r.AES)},3128:function(e,t,n){var r;e.exports=(r=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=r,t=e.lib.BlockCipher,n=e.algo;const o=16,i=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var a={pbox:[],sbox:[]};function c(e,t){let n=t>>24&255,r=t>>16&255,o=t>>8&255,i=255&t,s=e.sbox[0][n]+e.sbox[1][r];return s^=e.sbox[2][o],s+=e.sbox[3][i],s}function l(e,t,n){let r,i=t,s=n;for(let t=0;t<o;++t)i^=e.pbox[t],s=c(e,i)^s,r=i,i=s,s=r;return r=i,i=s,s=r,s^=e.pbox[o],i^=e.pbox[17],{left:i,right:s}}var d=n.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;!function(e,t,n){for(let t=0;t<4;t++){e.sbox[t]=[];for(let n=0;n<256;n++)e.sbox[t][n]=s[t][n]}let r=0;for(let o=0;o<18;o++)e.pbox[o]=i[o]^t[r],r++,r>=n&&(r=0);let o=0,a=0,c=0;for(let t=0;t<18;t+=2)c=l(e,o,a),o=c.left,a=c.right,e.pbox[t]=o,e.pbox[t+1]=a;for(let t=0;t<4;t++)for(let n=0;n<256;n+=2)c=l(e,o,a),o=c.left,a=c.right,e.sbox[t][n]=o,e.sbox[t][n+1]=a}(a,t,n)}},encryptBlock:function(e,t){var n=l(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=function(e,t,n){let r,o=t,i=n;for(let t=17;t>1;--t)o^=e.pbox[t],i=c(e,o)^i,r=o,o=i,i=r;return r=o,o=i,i=r,i^=e.pbox[1],o^=e.pbox[0],{left:o,right:i}}(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(d)}(),r.Blowfish)},7165:function(e,t,n){var r,o,i,s,a,c,l,d,u,h,f,g,p,m,y,v,b,C,w;e.exports=(r=n(9021),n(9506),void(r.lib.Cipher||(o=r,i=o.lib,s=i.Base,a=i.WordArray,c=i.BufferedBlockAlgorithm,l=o.enc,l.Utf8,d=l.Base64,u=o.algo.EvpKDF,h=i.Cipher=c.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:b}return function(t){return{encrypt:function(n,r,o){return e(r).encrypt(t,n,r,o)},decrypt:function(n,r,o){return e(r).decrypt(t,n,r,o)}}}}()}),i.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=o.mode={},g=i.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=f.CBC=function(){var e=g.extend();function t(e,t,n){var r,o=this._iv;o?(r=o,this._iv=void 0):r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);r.decryptBlock(e,n),t.call(this,e,n,o),this._prevBlock=i}}),e}(),m=(o.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,i=[],s=0;s<r;s+=4)i.push(o);var c=a.create(i,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:p,padding:m}),reset:function(){var e;h.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),y=i.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(o.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?a.create([1398893684,1701076831]).concat(n).concat(t):t).toString(d)},parse:function(e){var t,n=d.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=a.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),y.create({ciphertext:n,salt:t})}},b=i.SerializableCipher=s.extend({cfg:s.extend({format:v}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r),i=o.finalize(t),s=o.cfg;return y.create({ciphertext:i,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),C=(o.kdf={}).OpenSSL={execute:function(e,t,n,r,o){if(r||(r=a.random(8)),o)i=u.create({keySize:t+n,hasher:o}).compute(e,r);else var i=u.create({keySize:t+n}).compute(e,r);var s=a.create(i.words.slice(t),4*n);return i.sigBytes=4*t,y.create({key:i,iv:s,salt:r})}},w=i.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:C}),encrypt:function(e,t,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=o.iv;var i=b.encrypt.call(this,e,t,o.key,r);return i.mixIn(o),i},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=o.iv,b.decrypt.call(this,e,t,o.key,r)}}))))},9021:function(e,t,n){var r;e.exports=(r=r||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==n.g&&n.g.crypto&&(t=n.g.crypto),!t)try{t=n(477)}catch(e){}var r=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},s=i.lib={},a=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var s=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=s<<24-(r+i)%4*8}else for(var a=0;a<o;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new c.init(t,e)}}),l=i.enc={},d=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},u=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,o=r.words,i=r.sigBytes,s=this.blockSize,a=i/(4*s),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,d=e.min(4*l,i);if(l){for(var u=0;u<l;u+=s)this._doProcessBlock(o,u);n=o.splice(0,l),r.sigBytes-=d}return new c.init(n,d)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(s.Hasher=f.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),i.algo={});return i}(Math),r)},754:function(e,t,n){var r,o,i;e.exports=(r=n(9021),i=(o=r).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(r.charAt(s>>>6*(3-a)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,n){for(var r=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;r[o>>>2]|=a<<24-o%4*8,o++}return i.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},4725:function(e,t,n){var r,o,i;e.exports=(r=n(9021),i=(o=r).lib.WordArray,o.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,o=t?this._safe_map:this._map;e.clamp();for(var i=[],s=0;s<r;s+=3)for(var a=(n[s>>>2]>>>24-s%4*8&255)<<16|(n[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|n[s+2>>>2]>>>24-(s+2)%4*8&255,c=0;c<4&&s+.75*c<r;c++)i.push(o.charAt(a>>>6*(3-c)&63));var l=o.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e,t){void 0===t&&(t=!0);var n=e.length,r=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var s=0;s<r.length;s++)o[r.charCodeAt(s)]=s}var a=r.charAt(64);if(a){var c=e.indexOf(a);-1!==c&&(n=c)}return function(e,t,n){for(var r=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;r[o>>>2]|=a<<24-o%4*8,o++}return i.create(r,o)}(e,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},r.enc.Base64url)},5503:function(e,t,n){var r;e.exports=(r=n(9021),function(){var e=r,t=e.lib.WordArray,n=e.enc;function o(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var i=t[o>>>2]>>>16-o%4*8&65535;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var s=o(t[i>>>2]>>>16-i%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=o(e.charCodeAt(i)<<16-i%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)},9506:function(e,t,n){var r,o,i,s,a,c,l,d;e.exports=(d=n(9021),n(5471),n(1025),i=(o=(r=d).lib).Base,s=o.WordArray,c=(a=r.algo).MD5,l=a.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,o=r.hasher.create(),i=s.create(),a=i.words,c=r.keySize,l=r.iterations;a.length<c;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var d=1;d<l;d++)n=o.finalize(n),o.reset();i.concat(n)}return i.sigBytes=4*c,i}}),r.EvpKDF=function(e,t,n){return l.create(n).compute(e,t)},d.EvpKDF)},25:function(e,t,n){var r,o,i,s;e.exports=(s=n(9021),n(7165),o=(r=s).lib.CipherParams,i=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return o.create({ciphertext:t})}},s.format.Hex)},1025:function(e,t,n){var r,o,i;e.exports=(o=(r=n(9021)).lib.Base,i=r.enc.Utf8,void(r.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,c=s.words,l=0;l<n;l++)a[l]^=1549556828,c[l]^=909522486;o.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},1396:function(e,t,n){var r;e.exports=(r=n(9021),n(3240),n(6440),n(5503),n(754),n(4725),n(4636),n(5471),n(3009),n(6308),n(1380),n(9557),n(5953),n(8056),n(1025),n(19),n(9506),n(7165),n(2169),n(6939),n(6372),n(3797),n(8454),n(2073),n(4905),n(482),n(2155),n(8124),n(25),n(955),n(7628),n(7193),n(6298),n(2696),n(3128),r)},6440:function(e,t,n){var r;e.exports=(r=n(9021),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],o=0;o<n;o++)r[o>>>2]|=e[o]<<24-o%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)},4636:function(e,t,n){var r;e.exports=(r=n(9021),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=s.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,s=e[t+0],c=e[t+1],f=e[t+2],g=e[t+3],p=e[t+4],m=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],C=e[t+9],w=e[t+10],_=e[t+11],O=e[t+12],E=e[t+13],S=e[t+14],N=e[t+15],T=i[0],R=i[1],k=i[2],P=i[3];T=l(T,R,k,P,s,7,a[0]),P=l(P,T,R,k,c,12,a[1]),k=l(k,P,T,R,f,17,a[2]),R=l(R,k,P,T,g,22,a[3]),T=l(T,R,k,P,p,7,a[4]),P=l(P,T,R,k,m,12,a[5]),k=l(k,P,T,R,y,17,a[6]),R=l(R,k,P,T,v,22,a[7]),T=l(T,R,k,P,b,7,a[8]),P=l(P,T,R,k,C,12,a[9]),k=l(k,P,T,R,w,17,a[10]),R=l(R,k,P,T,_,22,a[11]),T=l(T,R,k,P,O,7,a[12]),P=l(P,T,R,k,E,12,a[13]),k=l(k,P,T,R,S,17,a[14]),T=d(T,R=l(R,k,P,T,N,22,a[15]),k,P,c,5,a[16]),P=d(P,T,R,k,y,9,a[17]),k=d(k,P,T,R,_,14,a[18]),R=d(R,k,P,T,s,20,a[19]),T=d(T,R,k,P,m,5,a[20]),P=d(P,T,R,k,w,9,a[21]),k=d(k,P,T,R,N,14,a[22]),R=d(R,k,P,T,p,20,a[23]),T=d(T,R,k,P,C,5,a[24]),P=d(P,T,R,k,S,9,a[25]),k=d(k,P,T,R,g,14,a[26]),R=d(R,k,P,T,b,20,a[27]),T=d(T,R,k,P,E,5,a[28]),P=d(P,T,R,k,f,9,a[29]),k=d(k,P,T,R,v,14,a[30]),T=u(T,R=d(R,k,P,T,O,20,a[31]),k,P,m,4,a[32]),P=u(P,T,R,k,b,11,a[33]),k=u(k,P,T,R,_,16,a[34]),R=u(R,k,P,T,S,23,a[35]),T=u(T,R,k,P,c,4,a[36]),P=u(P,T,R,k,p,11,a[37]),k=u(k,P,T,R,v,16,a[38]),R=u(R,k,P,T,w,23,a[39]),T=u(T,R,k,P,E,4,a[40]),P=u(P,T,R,k,s,11,a[41]),k=u(k,P,T,R,g,16,a[42]),R=u(R,k,P,T,y,23,a[43]),T=u(T,R,k,P,C,4,a[44]),P=u(P,T,R,k,O,11,a[45]),k=u(k,P,T,R,N,16,a[46]),T=h(T,R=u(R,k,P,T,f,23,a[47]),k,P,s,6,a[48]),P=h(P,T,R,k,v,10,a[49]),k=h(k,P,T,R,S,15,a[50]),R=h(R,k,P,T,m,21,a[51]),T=h(T,R,k,P,O,6,a[52]),P=h(P,T,R,k,g,10,a[53]),k=h(k,P,T,R,w,15,a[54]),R=h(R,k,P,T,c,21,a[55]),T=h(T,R,k,P,b,6,a[56]),P=h(P,T,R,k,N,10,a[57]),k=h(k,P,T,R,y,15,a[58]),R=h(R,k,P,T,E,21,a[59]),T=h(T,R,k,P,p,6,a[60]),P=h(P,T,R,k,_,10,a[61]),k=h(k,P,T,R,f,15,a[62]),R=h(R,k,P,T,C,21,a[63]),i[0]=i[0]+T|0,i[1]=i[1]+R|0,i[2]=i[2]+k|0,i[3]=i[3]+P|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),s=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,c=a.words,l=0;l<4;l++){var d=c[l];c[l]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return a},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,o,i,s){var a=e+(t&n|~t&r)+o+s;return(a<<i|a>>>32-i)+t}function d(e,t,n,r,o,i,s){var a=e+(t&r|n&~r)+o+s;return(a<<i|a>>>32-i)+t}function u(e,t,n,r,o,i,s){var a=e+(t^n^r)+o+s;return(a<<i|a>>>32-i)+t}function h(e,t,n,r,o,i,s){var a=e+(n^(t|~r))+o+s;return(a<<i|a>>>32-i)+t}t.MD5=i._createHelper(c),t.HmacMD5=i._createHmacHelper(c)}(Math),r.MD5)},2169:function(e,t,n){var r;e.exports=(r=n(9021),n(7165),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var o,i=this._iv;i?(o=i.slice(0),this._iv=void 0):o=this._prevBlock,r.encryptBlock(o,0);for(var s=0;s<n;s++)e[t+s]^=o[s]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o,r),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);t.call(this,e,n,o,r),this._prevBlock=i}}),e}(),r.mode.CFB)},6372:function(e,t,n){var r;e.exports=(r=n(9021),n(7165),r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(s);var a=s.slice(0);r.encryptBlock(a,0);for(var c=0;c<o;c++)e[n+c]^=a[c]}});return e.Decryptor=n,e}(),r.mode.CTRGladman)},6939:function(e,t,n){var r,o,i;e.exports=(i=n(9021),n(7165),i.mode.CTR=(o=(r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var s=i.slice(0);n.encryptBlock(s,0),i[r-1]=i[r-1]+1|0;for(var a=0;a<r;a++)e[t+a]^=s[a]}}),r.Decryptor=o,r),i.mode.CTR)},8454:function(e,t,n){var r,o;e.exports=(o=n(9021),n(7165),o.mode.ECB=((r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),o.mode.ECB)},3797:function(e,t,n){var r,o,i;e.exports=(i=n(9021),n(7165),i.mode.OFB=(o=(r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(i,0);for(var s=0;s<r;s++)e[t+s]^=i[s]}}),r.Decryptor=o,r),i.mode.OFB)},2073:function(e,t,n){var r;e.exports=(r=n(9021),n(7165),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,o=r-n%r,i=n+o-1;e.clamp(),e.words[i>>>2]|=o<<24-i%4*8,e.sigBytes+=o},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)},4905:function(e,t,n){var r;e.exports=(r=n(9021),n(7165),r.pad.Iso10126={pad:function(e,t){var n=4*t,o=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)},482:function(e,t,n){var r;e.exports=(r=n(9021),n(7165),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},8124:function(e,t,n){var r;e.exports=(r=n(9021),n(7165),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},2155:function(e,t,n){var r;e.exports=(r=n(9021),n(7165),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},r.pad.ZeroPadding)},19:function(e,t,n){var r,o,i,s,a,c,l,d,u;e.exports=(u=n(9021),n(3009),n(1025),i=(o=(r=u).lib).Base,s=o.WordArray,c=(a=r.algo).SHA256,l=a.HMAC,d=a.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=l.create(n.hasher,e),o=s.create(),i=s.create([1]),a=o.words,c=i.words,d=n.keySize,u=n.iterations;a.length<d;){var h=r.update(t).finalize(i);r.reset();for(var f=h.words,g=f.length,p=h,m=1;m<u;m++){p=r.finalize(p),r.reset();for(var y=p.words,v=0;v<g;v++)f[v]^=y[v]}o.concat(h),c[0]++}return o.sigBytes=4*d,o}}),r.PBKDF2=function(e,t,n){return d.create(n).compute(e,t)},u.PBKDF2)},2696:function(e,t,n){var r;e.exports=(r=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=[],i=[],s=[],a=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)c.call(this);for(o=0;o<8;o++)r[o]^=n[o+4&7];if(t){var i=t.words,s=i[0],a=i[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=l>>>16|4294901760&d,h=d<<16|65535&l;for(r[0]^=l,r[1]^=u,r[2]^=d,r[3]^=h,r[4]^=l,r[5]^=u,r[6]^=d,r[7]^=h,o=0;o<4;o++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,a=r>>>16,c=((o*o>>>17)+o*a>>>15)+a*a,l=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^l}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=t._createHelper(a)}(),r.RabbitLegacy)},6298:function(e,t,n){var r;e.exports=(r=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=[],i=[],s=[],a=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)o[n]^=r[n+4&7];if(t){var i=t.words,s=i[0],a=i[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=l>>>16|4294901760&d,h=d<<16|65535&l;for(o[0]^=l,o[1]^=u,o[2]^=d,o[3]^=h,o[4]^=l,o[5]^=u,o[6]^=d,o[7]^=h,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,a=r>>>16,c=((o*o>>>17)+o*a>>>15)+a*a,l=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^l}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=t._createHelper(a)}(),r.Rabbit)},7193:function(e,t,n){var r;e.exports=(r=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],o=0;o<256;o++)r[o]=o;o=0;for(var i=0;o<256;o++){var s=o%n,a=t[s>>>2]>>>24-s%4*8&255;i=(i+r[o]+a)%256;var c=r[o];r[o]=r[i],r[i]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,n=this._j,r=0,o=0;o<4;o++){n=(n+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[n],e[n]=i,r|=e[(e[t]+e[n])%256]<<24-8*o}return this._i=t,this._j=n,r}e.RC4=t._createHelper(o);var s=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(s)}(),r.RC4)},8056:function(e,t,n){var r;e.exports=(r=n(9021),function(){var e=r,t=e.lib,n=t.WordArray,o=t.Hasher,i=e.algo,s=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=n.create([0,1518500249,1859775393,2400959708,2840853838]),u=n.create([1352829926,1548603684,1836072691,2053994217,0]),h=i.RIPEMD160=o.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i,h,b,C,w,_,O,E,S,N,T,R=this._hash.words,k=d.words,P=u.words,A=s.words,I=a.words,D=c.words,x=l.words;for(_=i=R[0],O=h=R[1],E=b=R[2],S=C=R[3],N=w=R[4],n=0;n<80;n+=1)T=i+e[t+A[n]]|0,T+=n<16?f(h,b,C)+k[0]:n<32?g(h,b,C)+k[1]:n<48?p(h,b,C)+k[2]:n<64?m(h,b,C)+k[3]:y(h,b,C)+k[4],T=(T=v(T|=0,D[n]))+w|0,i=w,w=C,C=v(b,10),b=h,h=T,T=_+e[t+I[n]]|0,T+=n<16?y(O,E,S)+P[0]:n<32?m(O,E,S)+P[1]:n<48?p(O,E,S)+P[2]:n<64?g(O,E,S)+P[3]:f(O,E,S)+P[4],T=(T=v(T|=0,x[n]))+N|0,_=N,N=S,S=v(E,10),E=O,O=T;T=R[1]+b+S|0,R[1]=R[2]+C+N|0,R[2]=R[3]+w+_|0,R[3]=R[4]+i+O|0,R[4]=R[0]+h+E|0,R[0]=T},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=this._hash,i=o.words,s=0;s<5;s++){var a=i[s];i[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return o},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,n){return e^t^n}function g(e,t,n){return e&t|~e&n}function p(e,t,n){return(e|~t)^n}function m(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function v(e,t){return e<<t|e>>>32-t}e.RIPEMD160=o._createHelper(h),e.HmacRIPEMD160=o._createHmacHelper(h)}(Math),r.RIPEMD160)},5471:function(e,t,n){var r,o,i,s,a,c,l,d;e.exports=(o=(r=d=n(9021)).lib,i=o.WordArray,s=o.Hasher,a=r.algo,c=[],l=a.SHA1=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var d=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=d<<1|d>>>31}var u=(r<<5|r>>>27)+a+c[l];u+=l<20?1518500249+(o&i|~o&s):l<40?1859775393+(o^i^s):l<60?(o&i|o&s|i&s)-1894007588:(o^i^s)-899497514,a=s,s=i,i=o<<30|o>>>2,o=r,r=u}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=s._createHelper(l),r.HmacSHA1=s._createHmacHelper(l),d.SHA1)},6308:function(e,t,n){var r,o,i,s,a,c;e.exports=(c=n(9021),n(3009),o=(r=c).lib.WordArray,i=r.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=s._createHelper(a),r.HmacSHA224=s._createHmacHelper(a),c.SHA224)},3009:function(e,t,n){var r;e.exports=(r=n(9021),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,s=t.algo,a=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(a[o]=n(e.pow(r,.5))),c[o]=n(e.pow(r,1/3)),o++),r++}();var l=[],d=s.SHA256=i.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],d=n[5],u=n[6],h=n[7],f=0;f<64;f++){if(f<16)l[f]=0|e[t+f];else{var g=l[f-15],p=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,m=l[f-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[f]=p+l[f-7]+y+l[f-16]}var v=r&o^r&i^o&i,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),C=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&d^~a&u)+c[f]+l[f];h=u,u=d,d=a,a=s+C|0,s=i,i=o,o=r,r=C+(b+v)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+d|0,n[6]=n[6]+u|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(d),t.HmacSHA256=i._createHmacHelper(d)}(Math),r.SHA256)},5953:function(e,t,n){var r;e.exports=(r=n(9021),n(3240),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,s=t.x64.Word,a=t.algo,c=[],l=[],d=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,i=0;i<24;i++){for(var a=0,u=0,h=0;h<7;h++){if(1&o){var f=(1<<h)-1;f<32?u^=1<<f:a^=1<<f-32}128&o?o=o<<1^113:o<<=1}d[i]=s.create(a,u)}}();var u=[];!function(){for(var e=0;e<25;e++)u[e]=s.create()}();var h=a.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,o=0;o<r;o++){var i=e[t+2*o],s=e[t+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(R=n[o]).high^=s,R.low^=i}for(var a=0;a<24;a++){for(var h=0;h<5;h++){for(var f=0,g=0,p=0;p<5;p++)f^=(R=n[h+5*p]).high,g^=R.low;var m=u[h];m.high=f,m.low=g}for(h=0;h<5;h++){var y=u[(h+4)%5],v=u[(h+1)%5],b=v.high,C=v.low;for(f=y.high^(b<<1|C>>>31),g=y.low^(C<<1|b>>>31),p=0;p<5;p++)(R=n[h+5*p]).high^=f,R.low^=g}for(var w=1;w<25;w++){var _=(R=n[w]).high,O=R.low,E=c[w];E<32?(f=_<<E|O>>>32-E,g=O<<E|_>>>32-E):(f=O<<E-32|_>>>64-E,g=_<<E-32|O>>>64-E);var S=u[l[w]];S.high=f,S.low=g}var N=u[0],T=n[0];for(N.high=T.high,N.low=T.low,h=0;h<5;h++)for(p=0;p<5;p++){var R=n[w=h+5*p],k=u[w],P=u[(h+1)%5+5*p],A=u[(h+2)%5+5*p];R.high=k.high^~P.high&A.high,R.low=k.low^~P.low&A.low}R=n[0];var I=d[a];R.high^=I.high,R.low^=I.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,c=a/8,l=[],d=0;d<c;d++){var u=s[d],h=u.high,f=u.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),l.push(f),l.push(h)}return new o.init(l,a)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=i._createHelper(h),t.HmacSHA3=i._createHmacHelper(h)}(Math),r.SHA3)},9557:function(e,t,n){var r,o,i,s,a,c,l,d;e.exports=(d=n(9021),n(3240),n(1380),o=(r=d).x64,i=o.Word,s=o.WordArray,a=r.algo,c=a.SHA512,l=a.SHA384=c.extend({_doReset:function(){this._hash=new s.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=c._createHelper(l),r.HmacSHA384=c._createHmacHelper(l),d.SHA384)},1380:function(e,t,n){var r;e.exports=(r=n(9021),n(3240),function(){var e=r,t=e.lib.Hasher,n=e.x64,o=n.Word,i=n.WordArray,s=e.algo;function a(){return o.create.apply(o,arguments)}var c=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=a()}();var d=s.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],d=n[5],u=n[6],h=n[7],f=r.high,g=r.low,p=o.high,m=o.low,y=i.high,v=i.low,b=s.high,C=s.low,w=a.high,_=a.low,O=d.high,E=d.low,S=u.high,N=u.low,T=h.high,R=h.low,k=f,P=g,A=p,I=m,D=y,x=v,M=b,K=C,U=w,j=_,L=O,B=E,W=S,X=N,H=T,z=R,J=0;J<80;J++){var F,q,V=l[J];if(J<16)q=V.high=0|e[t+2*J],F=V.low=0|e[t+2*J+1];else{var $=l[J-15],G=$.high,Z=$.low,Y=(G>>>1|Z<<31)^(G>>>8|Z<<24)^G>>>7,Q=(Z>>>1|G<<31)^(Z>>>8|G<<24)^(Z>>>7|G<<25),ee=l[J-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,oe=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ie=l[J-7],se=ie.high,ae=ie.low,ce=l[J-16],le=ce.high,de=ce.low;q=(q=(q=Y+se+((F=Q+ae)>>>0<Q>>>0?1:0))+re+((F+=oe)>>>0<oe>>>0?1:0))+le+((F+=de)>>>0<de>>>0?1:0),V.high=q,V.low=F}var ue,he=U&L^~U&W,fe=j&B^~j&X,ge=k&A^k&D^A&D,pe=P&I^P&x^I&x,me=(k>>>28|P<<4)^(k<<30|P>>>2)^(k<<25|P>>>7),ye=(P>>>28|k<<4)^(P<<30|k>>>2)^(P<<25|k>>>7),ve=(U>>>14|j<<18)^(U>>>18|j<<14)^(U<<23|j>>>9),be=(j>>>14|U<<18)^(j>>>18|U<<14)^(j<<23|U>>>9),Ce=c[J],we=Ce.high,_e=Ce.low,Oe=H+ve+((ue=z+be)>>>0<z>>>0?1:0),Ee=ye+pe;H=W,z=X,W=L,X=B,L=U,B=j,U=M+(Oe=(Oe=(Oe=Oe+he+((ue+=fe)>>>0<fe>>>0?1:0))+we+((ue+=_e)>>>0<_e>>>0?1:0))+q+((ue+=F)>>>0<F>>>0?1:0))+((j=K+ue|0)>>>0<K>>>0?1:0)|0,M=D,K=x,D=A,x=I,A=k,I=P,k=Oe+(me+ge+(Ee>>>0<ye>>>0?1:0))+((P=ue+Ee|0)>>>0<ue>>>0?1:0)|0}g=r.low=g+P,r.high=f+k+(g>>>0<P>>>0?1:0),m=o.low=m+I,o.high=p+A+(m>>>0<I>>>0?1:0),v=i.low=v+x,i.high=y+D+(v>>>0<x>>>0?1:0),C=s.low=C+K,s.high=b+M+(C>>>0<K>>>0?1:0),_=a.low=_+j,a.high=w+U+(_>>>0<j>>>0?1:0),E=d.low=E+B,d.high=O+L+(E>>>0<B>>>0?1:0),N=u.low=N+X,u.high=S+W+(N>>>0<X>>>0?1:0),R=h.low=R+z,h.high=T+H+(R>>>0<z>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(d),e.HmacSHA512=t._createHmacHelper(d)}(),r.SHA512)},7628:function(e,t,n){var r;e.exports=(r=n(9021),n(754),n(4636),n(9506),n(7165),function(){var e=r,t=e.lib,n=t.WordArray,o=t.BlockCipher,i=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=i.DES=o.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var o=this._subKeys=[],i=0;i<16;i++){var l=o[i]=[],d=c[i];for(n=0;n<24;n++)l[n/6|0]|=t[(a[n]-1+d)%28]<<31-n%6,l[4+(n/6|0)]|=t[28+(a[n+24]-1+d)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var u=this._invSubKeys=[];for(n=0;n<16;n++)u[n]=o[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,252645135),h.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),h.call(this,1,1431655765);for(var r=0;r<16;r++){for(var o=n[r],i=this._lBlock,s=this._rBlock,a=0,c=0;c<8;c++)a|=l[c][((s^o[c])&d[c])>>>0];this._lBlock=s,this._rBlock=i^a}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,h.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function f(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=o._createHelper(u);var g=i.TripleDES=o.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),o=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=u.createEncryptor(n.create(t)),this._des2=u.createEncryptor(n.create(r)),this._des3=u.createEncryptor(n.create(o))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=o._createHelper(g)}(),r.TripleDES)},3240:function(e,t,n){var r,o,i,s,a,c;e.exports=(r=n(9021),i=(o=r).lib,s=i.Base,a=i.WordArray,(c=o.x64={}).Word=s.extend({init:function(e,t){this.high=e,this.low=t}}),c.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=s.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}}),r)},9302:e=>{"use strict";var t,n=function(){function e(e,t){if("function"!=typeof e)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=function(e){if(!(!e||!1!==e.batch))return 1;var t=e&&e.maxBatchSize;if(void 0===t)return 1/0;if("number"!=typeof t||t<1)throw new TypeError("maxBatchSize must be a positive number: "+t);return t}(t),this._batchScheduleFn=function(e){var t=e&&e.batchScheduleFn;if(void 0===t)return r;if("function"!=typeof t)throw new TypeError("batchScheduleFn must be a function: "+t);return t}(t),this._cacheKeyFn=function(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!=typeof t)throw new TypeError("cacheKeyFn must be a function: "+t);return t}(t),this._cacheMap=function(e){if(!(!e||!1!==e.cache))return null;var t=e&&e.cacheMap;if(void 0===t)return new Map;if(null!==t){var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!=typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "))}return t}(t),this._batch=null,this.name=function(e){return e&&e.name?e.name:null}(t)}var t=e.prototype;return t.load=function(e){if(null==e)throw new TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t,n=function(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn((function(){!function(e,t){if(t.hasDispatched=!0,0!==t.keys.length){var n;try{n=e._batchLoadFn(t.keys)}catch(n){return o(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(n)+"."))}if(!n||"function"!=typeof n.then)return o(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(n)+"."));n.then((function(e){if(!s(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));i(t);for(var n=0;n<t.callbacks.length;n++){var r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}})).catch((function(n){o(e,t,n)}))}else i(t)}(e,n)})),n}(this),r=this._cacheMap;if(r){t=this._cacheKeyFn(e);var a=r.get(t);if(a){var c=n.cacheHits||(n.cacheHits=[]);return new Promise((function(e){c.push((function(){e(a)}))}))}}n.keys.push(e);var l=new Promise((function(e,t){n.callbacks.push({resolve:e,reject:t})}));return r&&r.set(t,l),l},t.loadMany=function(e){if(!s(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],n=0;n<e.length;n++)t.push(this.load(e[n]).catch((function(e){return e})));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var n=this._cacheKeyFn(e);t.delete(n)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var n=this._cacheMap;if(n){var r,o=this._cacheKeyFn(e);void 0===n.get(o)&&(t instanceof Error?(r=Promise.reject(t)).catch((function(){})):r=Promise.resolve(t),n.set(o,r))}return this},e}(),r="object"==typeof process&&"function"==typeof process.nextTick?function(e){t||(t=Promise.resolve()),t.then((function(){process.nextTick(e)}))}:"function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function o(e,t,n){i(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function i(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function s(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}e.exports=n},4744:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,c){(c=c||{}).arrayMerge=c.arrayMerge||o,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=r;var l=Array.isArray(n);return l===Array.isArray(e)?l?c.arrayMerge(e,n,c):function(e,t,n){var o={};return n.isMergeableObject(e)&&i(e).forEach((function(t){o[t]=r(e[t],n)})),i(t).forEach((function(i){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(s(e,i)&&n.isMergeableObject(t[i])?o[i]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(i,n)(e[i],t[i],n):o[i]=r(t[i],n))})),o}(e,n,c):r(n,c)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})};var c=a;e.exports=c},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,o,i,s){var a=n?n+e:e;if(!this._events[a])return!1;var c,l,d=this._events[a],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,o),!0;case 5:return d.fn.call(d.context,t,r,o,i),!0;case 6:return d.fn.call(d.context,t,r,o,i,s),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var h,f=d.length;for(l=0;l<f;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,r);break;case 4:d[l].fn.call(d[l].context,t,r,o);break;default:if(!c)for(h=1,c=new Array(u-1);h<u;h++)c[h-1]=arguments[h];d[l].fn.apply(d[l].context,c)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var c=0,l=[],d=a.length;c<d;c++)(a[c].fn!==t||o&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[i]=1===l.length?l[0]:l:s(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},8343:function(e){e.exports=function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function t(e,t,n,r){var o,i,s,a=t||[0],c=(n=n||0)>>>3,l=-1===r?3:0;for(o=0;o<e.length;o+=1)i=(s=o+c)>>>2,a.length<=i&&a.push(0),a[i]|=e[o]<<8*(l+r*(s%4));return{value:a,binLen:8*e.length+n}}function n(n,r,o){switch(r){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(n){case"HEX":return function(e,t,n){return function(e,t,n,r){var o,i,s,a;if(0!=e.length%2)throw new Error("String of HEX type must be in byte increments");var c=t||[0],l=(n=n||0)>>>3,d=-1===r?3:0;for(o=0;o<e.length;o+=2){if(i=parseInt(e.substr(o,2),16),isNaN(i))throw new Error("String of HEX type contains invalid characters");for(s=(a=(o>>>1)+l)>>>2;c.length<=s;)c.push(0);c[s]|=i<<8*(d+r*(a%4))}return{value:c,binLen:4*e.length+n}}(e,t,n,o)};case"TEXT":return function(e,t,n){return function(e,t,n,r,o){var i,s,a,c,l,d,u,h,f=0,g=n||[0],p=(r=r||0)>>>3;if("UTF8"===t)for(u=-1===o?3:0,a=0;a<e.length;a+=1)for(s=[],128>(i=e.charCodeAt(a))?s.push(i):2048>i?(s.push(192|i>>>6),s.push(128|63&i)):55296>i||57344<=i?s.push(224|i>>>12,128|i>>>6&63,128|63&i):(a+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(a)),s.push(240|i>>>18,128|i>>>12&63,128|i>>>6&63,128|63&i)),c=0;c<s.length;c+=1){for(l=(d=f+p)>>>2;g.length<=l;)g.push(0);g[l]|=s[c]<<8*(u+o*(d%4)),f+=1}else for(u=-1===o?2:0,h="UTF16LE"===t&&1!==o||"UTF16LE"!==t&&1===o,a=0;a<e.length;a+=1){for(i=e.charCodeAt(a),!0===h&&(i=(c=255&i)<<8|i>>>8),l=(d=f+p)>>>2;g.length<=l;)g.push(0);g[l]|=i<<8*(u+o*(d%4)),f+=2}return{value:g,binLen:8*f+r}}(e,r,t,n,o)};case"B64":return function(t,n,r){return function(t,n,r,o){var i,s,a,c,l,d,u=0,h=n||[0],f=(r=r||0)>>>3,g=-1===o?3:0,p=t.indexOf("=");if(-1===t.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(t=t.replace(/=/g,""),-1!==p&&p<t.length)throw new Error("Invalid '=' found in base-64 string");for(i=0;i<t.length;i+=4){for(c=t.substr(i,4),a=0,s=0;s<c.length;s+=1)a|=e.indexOf(c.charAt(s))<<18-6*s;for(s=0;s<c.length-1;s+=1){for(l=(d=u+f)>>>2;h.length<=l;)h.push(0);h[l]|=(a>>>16-8*s&255)<<8*(g+o*(d%4)),u+=1}}return{value:h,binLen:8*u+r}}(t,n,r,o)};case"BYTES":return function(e,t,n){return function(e,t,n,r){var o,i,s,a,c=t||[0],l=(n=n||0)>>>3,d=-1===r?3:0;for(i=0;i<e.length;i+=1)o=e.charCodeAt(i),s=(a=i+l)>>>2,c.length<=s&&c.push(0),c[s]|=o<<8*(d+r*(a%4));return{value:c,binLen:8*e.length+n}}(e,t,n,o)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(e){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e,n,r){return function(e,n,r,o){return t(new Uint8Array(e),n,r,o)}(e,n,r,o)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(e){throw new Error("UINT8ARRAY not supported by this environment")}return function(e,n,r){return t(e,n,r,o)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function r(t,n,r,o){switch(t){case"HEX":return function(e){return function(e,t,n,r){var o,i,s="",a=t/8,c=-1===n?3:0;for(o=0;o<a;o+=1)i=e[o>>>2]>>>8*(c+n*(o%4)),s+="0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i);return r.outputUpper?s.toUpperCase():s}(e,n,r,o)};case"B64":return function(t){return function(t,n,r,o){var i,s,a,c,l,d="",u=n/8,h=-1===r?3:0;for(i=0;i<u;i+=3)for(c=i+1<u?t[i+1>>>2]:0,l=i+2<u?t[i+2>>>2]:0,a=(t[i>>>2]>>>8*(h+r*(i%4))&255)<<16|(c>>>8*(h+r*((i+1)%4))&255)<<8|l>>>8*(h+r*((i+2)%4))&255,s=0;s<4;s+=1)d+=8*i+6*s<=n?e.charAt(a>>>6*(3-s)&63):o.b64Pad;return d}(t,n,r,o)};case"BYTES":return function(e){return function(e,t,n){var r,o,i="",s=t/8,a=-1===n?3:0;for(r=0;r<s;r+=1)o=e[r>>>2]>>>8*(a+n*(r%4))&255,i+=String.fromCharCode(o);return i}(e,n,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(e){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e){return function(e,t,n){var r,o=t/8,i=new ArrayBuffer(o),s=new Uint8Array(i),a=-1===n?3:0;for(r=0;r<o;r+=1)s[r]=e[r>>>2]>>>8*(a+n*(r%4))&255;return i}(e,n,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(e){throw new Error("UINT8ARRAY not supported by this environment")}return function(e){return function(e,t,n){var r,o=t/8,i=-1===n?3:0,s=new Uint8Array(o);for(r=0;r<o;r+=1)s[r]=e[r>>>2]>>>8*(i+n*(r%4))&255;return s}(e,n,r)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],s=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],a="Chosen SHA variant is not supported";function c(e,t){var n,r,o=e.binLen>>>3,i=t.binLen>>>3,s=o<<3,a=4-o<<3;if(o%4!=0){for(n=0;n<i;n+=4)r=o+n>>>2,e.value[r]|=t.value[n>>>2]<<s,e.value.push(0),e.value[r+1]|=t.value[n>>>2]>>>a;return(e.value.length<<2)-4>=i+o&&e.value.pop(),{value:e.value,binLen:e.binLen+t.binLen}}return{value:e.value.concat(t.value),binLen:e.binLen+t.binLen}}function l(e){var t={outputUpper:!1,b64Pad:"=",outputLen:-1},n=e||{},r="Output length must be a multiple of 8";if(t.outputUpper=n.outputUpper||!1,n.b64Pad&&(t.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(r);t.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(r);t.outputLen=n.shakeLen}if("boolean"!=typeof t.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw new Error("Invalid b64Pad formatting option");return t}function d(e,t,r,o){var i=e+" must include a value and format";if(!t){if(!o)throw new Error(i);return o}if(void 0===t.value||!t.format)throw new Error(i);return n(t.format,t.encoding||"UTF8",r)(t.value)}var u=function(){function e(e,t,n){var r=n||{};if(this.t=t,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=e,this.u=[],this.s=0,this.h=!1,this.v=0,this.A=!1,this.l=[],this.H=[]}return e.prototype.update=function(e){var t,n=0,r=this.S>>>5,o=this.p(e,this.u,this.s),i=o.binLen,s=o.value,a=i>>>5;for(t=0;t<a;t+=r)n+this.S<=i&&(this.m=this.R(s.slice(t,t+r),this.m),n+=this.S);this.v+=n,this.u=s.slice(n>>>5),this.s=i%this.S,this.h=!0},e.prototype.getHash=function(e,t){var n,o,i=this.U,s=l(t);if(this.T){if(-1===s.outputLen)throw new Error("Output length must be specified in options");i=s.outputLen}var a=r(e,i,this.C,s);if(this.A&&this.F)return a(this.F(s));for(o=this.K(this.u.slice(),this.s,this.v,this.B(this.m),i),n=1;n<this.numRounds;n+=1)this.T&&i%32!=0&&(o[o.length-1]&=16777215>>>24-i%32),o=this.K(o,i,0,this.L(this.o),i);return a(o)},e.prototype.setHMACKey=function(e,t,r){if(!this.g)throw new Error("Variant does not support HMAC");if(this.h)throw new Error("Cannot set MAC key after calling update");var o=n(t,(r||{}).encoding||"UTF8",this.C);this.k(o(e))},e.prototype.k=function(e){var t,n=this.S>>>3,r=n/4-1;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(n<e.binLen/8&&(e.value=this.K(e.value,e.binLen,0,this.L(this.o),this.U));e.value.length<=r;)e.value.push(0);for(t=0;t<=r;t+=1)this.l[t]=909522486^e.value[t],this.H[t]=1549556828^e.value[t];this.m=this.R(this.l,this.m),this.v=this.S,this.A=!0},e.prototype.getHMAC=function(e,t){var n=l(t);return r(e,this.U,this.C,n)(this.Y())},e.prototype.Y=function(){var e;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");var t=this.K(this.u.slice(),this.s,this.v,this.B(this.m),this.U);return e=this.R(this.H,this.L(this.o)),this.K(t,this.U,this.S,e,this.U)},e}(),h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function f(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function g(e,t){return e<<t|e>>>32-t}function p(e,t){return e>>>t|e<<32-t}function m(e,t){return e>>>t}function y(e,t,n){return e^t^n}function v(e,t,n){return e&t^~e&n}function b(e,t,n){return e&t^e&n^t&n}function C(e){return p(e,2)^p(e,13)^p(e,22)}function w(e,t){var n=(65535&e)+(65535&t);return(65535&(e>>>16)+(t>>>16)+(n>>>16))<<16|65535&n}function _(e,t,n,r){var o=(65535&e)+(65535&t)+(65535&n)+(65535&r);return(65535&(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(o>>>16))<<16|65535&o}function O(e,t,n,r,o){var i=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&o);return(65535&(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(o>>>16)+(i>>>16))<<16|65535&i}function E(e){return p(e,7)^p(e,18)^m(e,3)}function S(e){return p(e,6)^p(e,11)^p(e,25)}function N(e){return[1732584193,4023233417,2562383102,271733878,3285377520]}function T(e,t){var n,r,o,i,s,a,c,l=[];for(n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],c=0;c<80;c+=1)l[c]=c<16?e[c]:g(l[c-3]^l[c-8]^l[c-14]^l[c-16],1),a=c<20?O(g(n,5),v(r,o,i),s,1518500249,l[c]):c<40?O(g(n,5),y(r,o,i),s,1859775393,l[c]):c<60?O(g(n,5),b(r,o,i),s,2400959708,l[c]):O(g(n,5),y(r,o,i),s,3395469782,l[c]),s=i,i=o,o=g(r,30),r=n,n=a;return t[0]=w(n,t[0]),t[1]=w(r,t[1]),t[2]=w(o,t[2]),t[3]=w(i,t[3]),t[4]=w(s,t[4]),t}function R(e,t,n,r){for(var o,i=15+(t+65>>>9<<4),s=t+n;e.length<=i;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[i]=4294967295&s,e[i-1]=s/4294967296|0,o=0;o<e.length;o+=16)r=T(e.slice(o,o+16),r);return r}var k=function(e){function t(t,r,o){var i=this;if("SHA-1"!==t)throw new Error(a);var s=o||{};return(i=e.call(this,t,r,o)||this).g=!0,i.F=i.Y,i.C=-1,i.p=n(i.t,i.i,i.C),i.R=T,i.B=function(e){return e.slice()},i.L=N,i.K=R,i.m=[1732584193,4023233417,2562383102,271733878,3285377520],i.S=512,i.U=160,i.T=!1,s.hmacKey&&i.k(d("hmacKey",s.hmacKey,i.C)),i}return f(t,e),t}(u);function P(e){return"SHA-224"==e?i.slice():s.slice()}function A(e,t){var n,r,i,s,a,c,l,d,u,h,f,g,y=[];for(n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],c=t[5],l=t[6],d=t[7],f=0;f<64;f+=1)y[f]=f<16?e[f]:_(p(g=y[f-2],17)^p(g,19)^m(g,10),y[f-7],E(y[f-15]),y[f-16]),u=O(d,S(a),v(a,c,l),o[f],y[f]),h=w(C(n),b(n,r,i)),d=l,l=c,c=a,a=w(s,u),s=i,i=r,r=n,n=w(u,h);return t[0]=w(n,t[0]),t[1]=w(r,t[1]),t[2]=w(i,t[2]),t[3]=w(s,t[3]),t[4]=w(a,t[4]),t[5]=w(c,t[5]),t[6]=w(l,t[6]),t[7]=w(d,t[7]),t}var I=function(e){function t(t,r,o){var i=this;if("SHA-224"!==t&&"SHA-256"!==t)throw new Error(a);var s=o||{};return(i=e.call(this,t,r,o)||this).F=i.Y,i.g=!0,i.C=-1,i.p=n(i.t,i.i,i.C),i.R=A,i.B=function(e){return e.slice()},i.L=P,i.K=function(e,n,r,o){return function(e,t,n,r,o){for(var i,s=15+(t+65>>>9<<4),a=t+n;e.length<=s;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[s]=4294967295&a,e[s-1]=a/4294967296|0,i=0;i<e.length;i+=16)r=A(e.slice(i,i+16),r);return"SHA-224"===o?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r}(e,n,r,o,t)},i.m=P(t),i.S=512,i.U="SHA-224"===t?224:256,i.T=!1,s.hmacKey&&i.k(d("hmacKey",s.hmacKey,i.C)),i}return f(t,e),t}(u),D=function(e,t){this.N=e,this.I=t};function x(e,t){var n;return t>32?(n=64-t,new D(e.I<<t|e.N>>>n,e.N<<t|e.I>>>n)):0!==t?(n=32-t,new D(e.N<<t|e.I>>>n,e.I<<t|e.N>>>n)):e}function M(e,t){var n;return t<32?(n=32-t,new D(e.N>>>t|e.I<<n,e.I>>>t|e.N<<n)):(n=64-t,new D(e.I>>>t|e.N<<n,e.N>>>t|e.I<<n))}function K(e,t){return new D(e.N>>>t,e.I>>>t|e.N<<32-t)}function U(e,t,n){return new D(e.N&t.N^~e.N&n.N,e.I&t.I^~e.I&n.I)}function j(e,t,n){return new D(e.N&t.N^e.N&n.N^t.N&n.N,e.I&t.I^e.I&n.I^t.I&n.I)}function L(e){var t=M(e,28),n=M(e,34),r=M(e,39);return new D(t.N^n.N^r.N,t.I^n.I^r.I)}function B(e,t){var n,r;n=(65535&e.I)+(65535&t.I);var o=(65535&(r=(e.I>>>16)+(t.I>>>16)+(n>>>16)))<<16|65535&n;return n=(65535&e.N)+(65535&t.N)+(r>>>16),r=(e.N>>>16)+(t.N>>>16)+(n>>>16),new D((65535&r)<<16|65535&n,o)}function W(e,t,n,r){var o,i;o=(65535&e.I)+(65535&t.I)+(65535&n.I)+(65535&r.I);var s=(65535&(i=(e.I>>>16)+(t.I>>>16)+(n.I>>>16)+(r.I>>>16)+(o>>>16)))<<16|65535&o;return o=(65535&e.N)+(65535&t.N)+(65535&n.N)+(65535&r.N)+(i>>>16),i=(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(r.N>>>16)+(o>>>16),new D((65535&i)<<16|65535&o,s)}function X(e,t,n,r,o){var i,s;i=(65535&e.I)+(65535&t.I)+(65535&n.I)+(65535&r.I)+(65535&o.I);var a=(65535&(s=(e.I>>>16)+(t.I>>>16)+(n.I>>>16)+(r.I>>>16)+(o.I>>>16)+(i>>>16)))<<16|65535&i;return i=(65535&e.N)+(65535&t.N)+(65535&n.N)+(65535&r.N)+(65535&o.N)+(s>>>16),s=(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(r.N>>>16)+(o.N>>>16)+(i>>>16),new D((65535&s)<<16|65535&i,a)}function H(e,t){return new D(e.N^t.N,e.I^t.I)}function z(e){var t=M(e,1),n=M(e,8),r=K(e,7);return new D(t.N^n.N^r.N,t.I^n.I^r.I)}function J(e){var t=M(e,14),n=M(e,18),r=M(e,41);return new D(t.N^n.N^r.N,t.I^n.I^r.I)}var F=[new D(o[0],3609767458),new D(o[1],602891725),new D(o[2],3964484399),new D(o[3],2173295548),new D(o[4],4081628472),new D(o[5],3053834265),new D(o[6],2937671579),new D(o[7],3664609560),new D(o[8],2734883394),new D(o[9],1164996542),new D(o[10],1323610764),new D(o[11],3590304994),new D(o[12],4068182383),new D(o[13],991336113),new D(o[14],633803317),new D(o[15],3479774868),new D(o[16],2666613458),new D(o[17],944711139),new D(o[18],2341262773),new D(o[19],2007800933),new D(o[20],1495990901),new D(o[21],1856431235),new D(o[22],3175218132),new D(o[23],2198950837),new D(o[24],3999719339),new D(o[25],766784016),new D(o[26],2566594879),new D(o[27],3203337956),new D(o[28],1034457026),new D(o[29],2466948901),new D(o[30],3758326383),new D(o[31],168717936),new D(o[32],1188179964),new D(o[33],1546045734),new D(o[34],1522805485),new D(o[35],2643833823),new D(o[36],2343527390),new D(o[37],1014477480),new D(o[38],1206759142),new D(o[39],344077627),new D(o[40],1290863460),new D(o[41],3158454273),new D(o[42],3505952657),new D(o[43],106217008),new D(o[44],3606008344),new D(o[45],1432725776),new D(o[46],1467031594),new D(o[47],851169720),new D(o[48],3100823752),new D(o[49],1363258195),new D(o[50],3750685593),new D(o[51],3785050280),new D(o[52],3318307427),new D(o[53],3812723403),new D(o[54],2003034995),new D(o[55],3602036899),new D(o[56],1575990012),new D(o[57],1125592928),new D(o[58],2716904306),new D(o[59],442776044),new D(o[60],593698344),new D(o[61],3733110249),new D(o[62],2999351573),new D(o[63],3815920427),new D(3391569614,3928383900),new D(3515267271,566280711),new D(3940187606,3454069534),new D(4118630271,4000239992),new D(116418474,1914138554),new D(174292421,2731055270),new D(289380356,3203993006),new D(460393269,320620315),new D(685471733,587496836),new D(852142971,1086792851),new D(1017036298,365543100),new D(1126000580,2618297676),new D(1288033470,3409855158),new D(1501505948,4234509866),new D(1607167915,987167468),new D(1816402316,1246189591)];function q(e){return"SHA-384"===e?[new D(3418070365,i[0]),new D(1654270250,i[1]),new D(2438529370,i[2]),new D(355462360,i[3]),new D(1731405415,i[4]),new D(41048885895,i[5]),new D(3675008525,i[6]),new D(1203062813,i[7])]:[new D(s[0],4089235720),new D(s[1],2227873595),new D(s[2],4271175723),new D(s[3],1595750129),new D(s[4],2917565137),new D(s[5],725511199),new D(s[6],4215389547),new D(s[7],327033209)]}function V(e,t){var n,r,o,i,s,a,c,l,d,u,h,f,g,p,m,y,v=[];for(n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],c=t[6],l=t[7],h=0;h<80;h+=1)h<16?(f=2*h,v[h]=new D(e[f],e[f+1])):v[h]=W((void 0,void 0,void 0,p=M(g=v[h-2],19),m=M(g,61),y=K(g,6),new D(p.N^m.N^y.N,p.I^m.I^y.I)),v[h-7],z(v[h-15]),v[h-16]),d=X(l,J(s),U(s,a,c),F[h],v[h]),u=B(L(n),j(n,r,o)),l=c,c=a,a=s,s=B(i,d),i=o,o=r,r=n,n=B(d,u);return t[0]=B(n,t[0]),t[1]=B(r,t[1]),t[2]=B(o,t[2]),t[3]=B(i,t[3]),t[4]=B(s,t[4]),t[5]=B(a,t[5]),t[6]=B(c,t[6]),t[7]=B(l,t[7]),t}var $=function(e){function t(t,r,o){var i=this;if("SHA-384"!==t&&"SHA-512"!==t)throw new Error(a);var s=o||{};return(i=e.call(this,t,r,o)||this).F=i.Y,i.g=!0,i.C=-1,i.p=n(i.t,i.i,i.C),i.R=V,i.B=function(e){return e.slice()},i.L=q,i.K=function(e,n,r,o){return function(e,t,n,r,o){for(var i,s=31+(t+129>>>10<<5),a=t+n;e.length<=s;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[s]=4294967295&a,e[s-1]=a/4294967296|0,i=0;i<e.length;i+=32)r=V(e.slice(i,i+32),r);return"SHA-384"===o?[r[0].N,r[0].I,r[1].N,r[1].I,r[2].N,r[2].I,r[3].N,r[3].I,r[4].N,r[4].I,r[5].N,r[5].I]:[r[0].N,r[0].I,r[1].N,r[1].I,r[2].N,r[2].I,r[3].N,r[3].I,r[4].N,r[4].I,r[5].N,r[5].I,r[6].N,r[6].I,r[7].N,r[7].I]}(e,n,r,o,t)},i.m=q(t),i.S=1024,i.U="SHA-384"===t?384:512,i.T=!1,s.hmacKey&&i.k(d("hmacKey",s.hmacKey,i.C)),i}return f(t,e),t}(u),G=[new D(0,1),new D(0,32898),new D(2147483648,32906),new D(2147483648,2147516416),new D(0,32907),new D(0,2147483649),new D(2147483648,2147516545),new D(2147483648,32777),new D(0,138),new D(0,136),new D(0,2147516425),new D(0,2147483658),new D(0,2147516555),new D(2147483648,139),new D(2147483648,32905),new D(2147483648,32771),new D(2147483648,32770),new D(2147483648,128),new D(0,32778),new D(2147483648,2147483658),new D(2147483648,2147516545),new D(2147483648,32896),new D(0,2147483649),new D(2147483648,2147516424)],Z=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function Y(e){var t,n=[];for(t=0;t<5;t+=1)n[t]=[new D(0,0),new D(0,0),new D(0,0),new D(0,0),new D(0,0)];return n}function Q(e){var t,n=[];for(t=0;t<5;t+=1)n[t]=e[t].slice();return n}function ee(e,t){var n,r,o,i,s,a,c,l,d,u=[],h=[];if(null!==e)for(r=0;r<e.length;r+=2)t[(r>>>1)%5][(r>>>1)/5|0]=H(t[(r>>>1)%5][(r>>>1)/5|0],new D(e[r+1],e[r]));for(n=0;n<24;n+=1){for(i=Y(),r=0;r<5;r+=1)u[r]=(s=t[r][0],a=t[r][1],c=t[r][2],l=t[r][3],d=t[r][4],new D(s.N^a.N^c.N^l.N^d.N,s.I^a.I^c.I^l.I^d.I));for(r=0;r<5;r+=1)h[r]=H(u[(r+4)%5],x(u[(r+1)%5],1));for(r=0;r<5;r+=1)for(o=0;o<5;o+=1)t[r][o]=H(t[r][o],h[r]);for(r=0;r<5;r+=1)for(o=0;o<5;o+=1)i[o][(2*r+3*o)%5]=x(t[r][o],Z[r][o]);for(r=0;r<5;r+=1)for(o=0;o<5;o+=1)t[r][o]=H(i[r][o],new D(~i[(r+1)%5][o].N&i[(r+2)%5][o].N,~i[(r+1)%5][o].I&i[(r+2)%5][o].I));t[0][0]=H(t[0][0],G[n])}return t}function te(e){var t,n,r=0,o=[0,0],i=[4294967295&e,e/4294967296&2097151];for(t=6;t>=0;t--)0==(n=i[t>>2]>>>8*t&255)&&0===r||(o[r+1>>2]|=n<<8*(r+1),r+=1);return r=0!==r?r:1,o[0]|=r,{value:r+1>4?o:[o[0]],binLen:8+8*r}}function ne(e){return c(te(e.binLen),e)}function re(e,t){var n,r=te(t),o=t>>>2,i=(o-(r=c(r,e)).value.length%o)%o;for(n=0;n<i;n++)r.value.push(0);return r.value}var oe=function(e){function t(t,r,o){var i=this,s=6,c=0,l=o||{};if(1!==(i=e.call(this,t,r,o)||this).numRounds){if(l.kmacKey||l.hmacKey)throw new Error("Cannot set numRounds with MAC");if("CSHAKE128"===i.o||"CSHAKE256"===i.o)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(i.C=1,i.p=n(i.t,i.i,i.C),i.R=ee,i.B=Q,i.L=Y,i.m=Y(),i.T=!1,t){case"SHA3-224":i.S=c=1152,i.U=224,i.g=!0,i.F=i.Y;break;case"SHA3-256":i.S=c=1088,i.U=256,i.g=!0,i.F=i.Y;break;case"SHA3-384":i.S=c=832,i.U=384,i.g=!0,i.F=i.Y;break;case"SHA3-512":i.S=c=576,i.U=512,i.g=!0,i.F=i.Y;break;case"SHAKE128":s=31,i.S=c=1344,i.U=-1,i.T=!0,i.g=!1,i.F=null;break;case"SHAKE256":s=31,i.S=c=1088,i.U=-1,i.T=!0,i.g=!1,i.F=null;break;case"KMAC128":s=4,i.S=c=1344,i.M(o),i.U=-1,i.T=!0,i.g=!1,i.F=i.X;break;case"KMAC256":s=4,i.S=c=1088,i.M(o),i.U=-1,i.T=!0,i.g=!1,i.F=i.X;break;case"CSHAKE128":i.S=c=1344,s=i.O(o),i.U=-1,i.T=!0,i.g=!1,i.F=null;break;case"CSHAKE256":i.S=c=1088,s=i.O(o),i.U=-1,i.T=!0,i.g=!1,i.F=null;break;default:throw new Error(a)}return i.K=function(e,t,n,r,o){return function(e,t,n,r,o,i,s){var a,c,l=0,d=[],u=o>>>5,h=t>>>5;for(a=0;a<h&&t>=o;a+=u)r=ee(e.slice(a,a+u),r),t-=o;for(e=e.slice(a),t%=o;e.length<u;)e.push(0);for(e[(a=t>>>3)>>2]^=i<<a%4*8,e[u-1]^=2147483648,r=ee(e,r);32*d.length<s&&(c=r[l%5][l/5|0],d.push(c.I),!(32*d.length>=s));)d.push(c.N),0==64*(l+=1)%o&&(ee(null,r),l=0);return d}(e,t,0,r,c,s,o)},l.hmacKey&&i.k(d("hmacKey",l.hmacKey,i.C)),i}return f(t,e),t.prototype.O=function(e,t){var n=function(e){var t=e||{};return{funcName:d("funcName",t.funcName,1,{value:[],binLen:0}),customization:d("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});t&&(n.funcName=t);var r=c(ne(n.funcName),ne(n.customization));if(0!==n.customization.binLen||0!==n.funcName.binLen){for(var o=re(r,this.S>>>3),i=0;i<o.length;i+=this.S>>>5)this.m=this.R(o.slice(i,i+(this.S>>>5)),this.m),this.v+=this.S;return 4}return 31},t.prototype.M=function(e){var t=function(e){var t=e||{};return{kmacKey:d("kmacKey",t.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:d("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});this.O(e,t.funcName);for(var n=re(ne(t.kmacKey),this.S>>>3),r=0;r<n.length;r+=this.S>>>5)this.m=this.R(n.slice(r,r+(this.S>>>5)),this.m),this.v+=this.S;this.A=!0},t.prototype.X=function(e){var t=c({value:this.u.slice(),binLen:this.s},function(e){var t,n,r=0,o=[0,0],i=[4294967295&e,e/4294967296&2097151];for(t=6;t>=0;t--)0==(n=i[t>>2]>>>8*t&255)&&0===r||(o[r>>2]|=n<<8*r,r+=1);return o[(r=0!==r?r:1)>>2]|=r<<8*r,{value:r+1>4?o:[o[0]],binLen:8+8*r}}(e.outputLen));return this.K(t.value,t.binLen,this.v,this.B(this.m),e.outputLen)},t}(u);return function(){function e(e,t,n){if("SHA-1"==e)this.j=new k(e,t,n);else if("SHA-224"==e||"SHA-256"==e)this.j=new I(e,t,n);else if("SHA-384"==e||"SHA-512"==e)this.j=new $(e,t,n);else{if("SHA3-224"!=e&&"SHA3-256"!=e&&"SHA3-384"!=e&&"SHA3-512"!=e&&"SHAKE128"!=e&&"SHAKE256"!=e&&"CSHAKE128"!=e&&"CSHAKE256"!=e&&"KMAC128"!=e&&"KMAC256"!=e)throw new Error(a);this.j=new oe(e,t,n)}}return e.prototype.update=function(e){this.j.update(e)},e.prototype.getHash=function(e,t){return this.j.getHash(e,t)},e.prototype.setHMACKey=function(e,t,n){this.j.setHMACKey(e,t,n)},e.prototype.getHMAC=function(e,t){return this.j.getHMAC(e,t)},e}()}()},3790:(e,t,n)=>{e.exports=function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){return o(t[s][1][e]||e)}),l,l.exports,e,t,n,r)}return n[s].exports}for(var i=void 0,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,r){(function(e){"use strict";var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,s=new o(d),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var c=new e.MessageChannel;c.port1.onmessage=d,n=function(){c.port2.postMessage(0)}}var l=[];function d(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){1!==l.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function o(){}var i={},s=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==o&&f(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return i.reject(e,t)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}var s=g((function(){t(o,r)}));"error"===s.status&&r(s.value)}function g(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=l,l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(o);return this.state!==c?u(n,this.state===a?e:t,this.outcome):this.queue.push(new d(n,e,t)),n},d.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){i.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=g(h,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=a,e.outcome=t;for(var o=-1,s=e.queue.length;++o<s;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},l.reject=function(e){var t=new this(o);return i.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,c=-1,l=new this(o);++c<n;)d(e[c],c);return l;function d(e,o){t.resolve(e).then((function(e){s[o]=e,++a!==n||r||(r=!0,i.resolve(l,s))}),(function(e){r||(r=!0,i.reject(l,e))}))}},l.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n,r=e.length,s=!1;if(!r)return this.resolve([]);for(var a=-1,c=new this(o);++a<r;)n=e[a],t.resolve(n).then((function(e){s||(s=!0,i.resolve(c,e))}),(function(e){s||(s=!0,i.reject(c,e))}));return c}},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var s=Promise;function a(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function c(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function l(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var u="local-forage-detect-blob-support",h=void 0,f={},g=Object.prototype.toString,p="readonly",m="readwrite";function y(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function v(e){return"boolean"==typeof h?s.resolve(h):function(e){return new s((function(t){var n=e.transaction(u,m),r=i([""]);n.objectStore(u).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return h=e}))}function b(e){var t=f[e.name],n={};n.promise=new s((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function C(e){var t=f[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function w(e,t){var n=f[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function _(e,t){return new s((function(n,r){if(f[e.name]=f[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);b(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var s=o.open.apply(o,i);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(u)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),s.onerror=function(e){e.preventDefault(),r(s.error)},s.onsuccess=function(){var t=s.result;t.onversionchange=function(e){e.target.close()},n(t),C(e)}}))}function O(e){return _(e,!1)}function E(e){return _(e,!0)}function S(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function N(e){return i([y(atob(e.data))],{type:e.type})}function T(e){return e&&e.__local_forage_encoded_blob}function R(e){var t=this,n=t._initReady().then((function(){var e=f[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return c(n,e,e),n}function k(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return s.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),E(e)})).then((function(){return function(e){b(e);for(var t=f[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,O(e).then((function(t){return e.db=t,S(e)?E(e):t})).then((function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(t){throw w(e,t),t}))}(e).then((function(){k(e,t,n,r-1)}))})).catch(n);n(o)}}var P={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=f[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},f[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=R);var i=[];function a(){return s.resolve()}for(var c=0;c<o.forages.length;c++){var l=o.forages[c];l!==t&&i.push(l._initReady().catch(a))}var d=o.forages.slice(0);return s.all(i).then((function(){return n.db=o.db,O(n)})).then((function(e){return n.db=e,S(n,t._defaultConfig.version)?E(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<d.length;r++){var i=d[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))},_support:function(){try{if(!o||!o.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){k(n._dbInfo,p,(function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;T(r)&&(r=N(r));var o=e(r,n.key,a++);void 0!==o?t(o):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=new s((function(t,r){n.ready().then((function(){k(n._dbInfo,p,(function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),T(e)&&(e=N(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},setItem:function(e,t,n){var r=this;e=l(e);var o=new s((function(n,o){var i;r.ready().then((function(){return i=r._dbInfo,"[object Blob]"===g.call(t)?v(i.db).then((function(e){return e?t:(n=t,new s((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){k(r._dbInfo,m,(function(i,s){if(i)return o(i);try{var a=s.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=c.error?c.error:c.transaction.error;o(e)}}catch(e){o(e)}}))})).catch(o)}));return a(o,n),o},removeItem:function(e,t){var n=this;e=l(e);var r=new s((function(t,r){n.ready().then((function(){k(n._dbInfo,m,(function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(s.error)},i.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){k(t._dbInfo,m,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){k(t._dbInfo,p,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},key:function(e,t){var n=this,r=new s((function(t,r){e<0?t(null):n.ready().then((function(){k(n._dbInfo,p,(function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName),a=!1,c=s.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||a?t(n.key):(a=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){k(t._dbInfo,p,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),s=[];i.onsuccess=function(){var t=i.result;t?(s.push(t.key),t.continue()):e(s)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},dropInstance:function(e,t){t=d.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var i=e.name===r.name&&this._dbInfo.db?s.resolve(this._dbInfo.db):O(e).then((function(t){var n=f[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t}));n=e.storeName?i.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;b(e);var r=f[e.name],i=r.forages;t.close();for(var a=0;a<i.length;a++){var c=i[a];c._dbInfo.db=null,c._dbInfo.version=n}var l=new s((function(t,r){var i=o.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}));return l.then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,C(n._dbInfo)}})).catch((function(t){throw(w(e,t)||s.resolve()).catch((function(){})),t}))}})):i.then((function(t){b(e);var n=f[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;var a=new s((function(t,n){var r=o.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return a.then((function(e){n.db=e;for(var t=0;t<r.length;t++)C(r[t]._dbInfo)})).catch((function(t){throw(w(e,t)||s.resolve()).catch((function(){})),t}))}))}else n=s.reject("Invalid arguments");return a(n,t),n}};var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=/^~~local_forage_type~([^~]+)~/,D="__lfsc__:",x="arbf",M="blob",K="si08",U="ui08",j="uic8",L="si16",B="si32",W="ur16",X="ui32",H="fl32",z="fl64",J=Object.prototype.toString;function F(e){var t,n,r,o,i,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(t=0;t<a;t+=4)n=A.indexOf(e[t]),r=A.indexOf(e[t+1]),o=A.indexOf(e[t+2]),i=A.indexOf(e[t+3]),d[c++]=n<<2|r>>4,d[c++]=(15&r)<<4|o>>2,d[c++]=(3&o)<<6|63&i;return l}function q(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=A[n[t]>>2],r+=A[(3&n[t])<<4|n[t+1]>>4],r+=A[(15&n[t+1])<<2|n[t+2]>>6],r+=A[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var V={serialize:function(e,t){var n="";if(e&&(n=J.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===J.call(e.buffer))){var r,o=D;e instanceof ArrayBuffer?(r=e,o+=x):(r=e.buffer,"[object Int8Array]"===n?o+=K:"[object Uint8Array]"===n?o+=U:"[object Uint8ClampedArray]"===n?o+=j:"[object Int16Array]"===n?o+=L:"[object Uint16Array]"===n?o+=W:"[object Int32Array]"===n?o+=B:"[object Uint32Array]"===n?o+=X:"[object Float32Array]"===n?o+=H:"[object Float64Array]"===n?o+=z:t(new Error("Failed to get type for BinaryArray"))),t(o+q(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n="~~local_forage_type~"+e.type+"~"+q(this.result);t(D+M+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,9)!==D)return JSON.parse(e);var t,n=e.substring(13),r=e.substring(9,13);if(r===M&&I.test(n)){var o=n.match(I);t=o[1],n=n.substring(o[0].length)}var s=F(n);switch(r){case x:return s;case M:return i([s],{type:t});case K:return new Int8Array(s);case U:return new Uint8Array(s);case j:return new Uint8ClampedArray(s);case L:return new Int16Array(s);case W:return new Uint16Array(s);case B:return new Int32Array(s);case X:return new Uint32Array(s);case H:return new Float32Array(s);case z:return new Float64Array(s);default:throw new Error("Unkown type: "+r)}},stringToBuffer:F,bufferToString:q};function $(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function G(e,t,n,r,o,i){e.executeSql(n,r,o,(function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,a){a.rows.length?i(e,s):$(e,t,(function(){e.executeSql(n,r,o,i)}),i)}),i):i(e,s)}),i)}function Z(e,t,n,r){var o=this;e=l(e);var i=new s((function(i,s){o.ready().then((function(){void 0===t&&(t=null);var a=t,c=o._dbInfo;c.serializer.serialize(t,(function(t,l){l?s(l):c.db.transaction((function(n){G(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){i(a)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(Z.apply(o,[e,a,n,r-1]));s(t)}}))}))})).catch(s)}));return a(i,n),i}var Y={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new s((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(o){$(o,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=V,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){G(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,s=i.length,a=0;a<s;a++){var c=i.item(a),l=c.value;if(l&&(l=o.serializer.deserialize(l)),void 0!==(l=e(l,c.key,a+1)))return void t(l)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=new s((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){G(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},setItem:function(e,t,n){return Z.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=l(e);var r=new s((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){G(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){G(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){G(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},key:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){G(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){G(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},dropInstance:function(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return a(r=e.name?new s((function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function(e){return new s((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}(r))})).then((function(e){return new s((function(t,n){e.db.transaction((function(r){function o(e){return new s((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var i=[],a=0,c=e.storeNames.length;a<c;a++)i.push(o(e.storeNames[a]));s.all(i).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):s.reject("Invalid arguments"),t),r}};function Q(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ee(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var te={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=Q(e,this._defaultConfig),ee()?(this._dbInfo=t,t.serializer=V,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,s=1,a=0;a<i;a++){var c=localStorage.key(a);if(0===c.indexOf(r)){var l=localStorage.getItem(c);if(l&&(l=t.serializer.deserialize(l)),void 0!==(l=e(l,c.substring(o),s++)))return l}}}));return a(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return a(r,t),r},setItem:function(e,t,n){var r=this;e=l(e);var o=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new s((function(o,i){var s=r._dbInfo;s.serializer.serialize(t,(function(t,r){if(r)i(r);else try{localStorage.setItem(s.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}}))}))}));return a(o,n),o},removeItem:function(e,t){var n=this;e=l(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return a(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return a(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return a(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return a(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r}));return a(n,e),n},dropInstance:function(e,t){if(t=d.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return r=e.name?new s((function(t){e.storeName?t(Q(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),a(r,t),r}},ne=function(e,t){for(var n=e.length,r=0;r<n;){if((o=e[r])===(i=t)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;r++}var o,i;return!1},re=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},oe={},ie={},se={INDEXEDDB:P,WEBSQL:Y,LOCALSTORAGE:te},ae=[se.INDEXEDDB._driver,se.WEBSQL._driver,se.LOCALSTORAGE._driver],ce=["dropInstance"],le=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ce),de={description:"",driver:ae.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ue(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function he(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(re(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var fe=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se)if(se.hasOwnProperty(n)){var r=se[n],o=r._driver;this[n]=o,oe[o]||this.defineDriver(r)}this._defaultConfig=he({},de),this._config=he({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new s((function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var i=le.concat("_initStorage"),c=0,l=i.length;c<l;c++){var d=i[c];if((!ne(ce,d)||e[d])&&"function"!=typeof e[d])return void n(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=s.reject(t);return a(n,arguments[arguments.length-1]),n}},n=0,r=ce.length;n<r;n++){var o=ce[n];e[o]||(e[o]=t(o))}}();var u=function(n){oe[r]&&console.info("Redefining LocalForage driver: "+r),oe[r]=e,ie[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(u,n):u(!!e._support):u(!0)}catch(e){n(e)}}));return c(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=oe[e]?s.resolve(oe[e]):s.reject(new Error("Driver not found."));return c(r,t,n),r},e.prototype.getSerializer=function(e){var t=s.resolve(V);return c(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return c(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;re(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function a(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}var l=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=l.then((function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(a).catch(n)}i();var c=new Error("No available storage method found.");return r._driverSet=s.reject(c),r._driverSet}()}}(o)}))})).catch((function(){i();var e=new Error("No available storage method found.");return r._driverSet=s.reject(e),r._driverSet})),c(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!ie[e]},e.prototype._extend=function(e){he(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=le.length;e<t;e++)ue(this,le[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),ge=new fe;t.exports=ge},{3:3}]},{},[4])(4)},9107:e=>{"use strict";const t=Symbol.for("nodejs.util.inspect.custom");e.exports=t},1925:function(e,t,n){"use strict";var r,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ADNLAddress=void 0;const i=o(n(9107)),s=n(145),a=n(3336);class c{static parseFriendly(e){if(55!==e.length)throw Error("Invalid address");e="f"+e;let t=(0,s.base32Decode)(e);if(45!==t[0])throw Error("Invalid address");let n=t.slice(33);if(!(0,a.crc16)(t.slice(0,33)).equals(n))throw Error("Invalid address");return new c(t.slice(1,33))}static parseRaw(e){const t=Buffer.from(e,"base64");return new c(t)}constructor(e){if(this.toRaw=()=>this.address.toString("hex").toUpperCase(),this.toString=()=>{let e=Buffer.concat([Buffer.from([45]),this.address]),t=(0,a.crc16)(e);return e=Buffer.concat([e,t]),(0,s.base32Encode)(e).slice(1)},this[r]=()=>this.toString(),32!==e.length)throw Error("Invalid address");this.address=e}equals(e){return this.address.equals(e.address)}}t.ADNLAddress=c,r=i.default},6016:function(e,t,n){"use strict";var r,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.address=t.Address=void 0;const i=o(n(9107)),s=n(3336);function a(e){if("string"==typeof e&&!c.isFriendly(e))throw new Error("Unknown address type");const t=Buffer.isBuffer(e)?e:Buffer.from(e,"base64");if(36!==t.length)throw new Error("Unknown address type: byte length is not equal to 36");const n=t.subarray(0,34),r=t.subarray(34,36),o=(0,s.crc16)(n);if(o[0]!==r[0]||o[1]!==r[1])throw new Error("Invalid checksum: "+e);let i=n[0],a=!1,l=!1;if(128&i&&(a=!0,i^=128),17!==i&&81!==i)throw"Unknown address tag";l=17===i;let d=null;return d=255===n[1]?-1:n[1],{isTestOnly:a,isBounceable:l,workchain:d,hashPart:n.subarray(2,34)}}class c{static isAddress(e){return e instanceof c}static isFriendly(e){return 48===e.length&&!!/[A-Za-z0-9+/_-]+/.test(e)}static isRaw(e){if(-1===e.indexOf(":"))return!1;let[t,n]=e.split(":");return!!Number.isInteger(parseFloat(t))&&!!/[a-f0-9]+/.test(n.toLowerCase())&&64===n.length}static normalize(e){return"string"==typeof e?c.parse(e).toString():e.toString()}static parse(e){if(c.isFriendly(e))return this.parseFriendly(e).address;if(c.isRaw(e))return this.parseRaw(e);throw new Error("Unknown address type: "+e)}static parseRaw(e){let t=parseInt(e.split(":")[0]),n=Buffer.from(e.split(":")[1],"hex");return new c(t,n)}static parseFriendly(e){if(Buffer.isBuffer(e)){let t=a(e);return{isBounceable:t.isBounceable,isTestOnly:t.isTestOnly,address:new c(t.workchain,t.hashPart)}}{let t=a(e.replace(/\-/g,"+").replace(/_/g,"/"));return{isBounceable:t.isBounceable,isTestOnly:t.isTestOnly,address:new c(t.workchain,t.hashPart)}}}constructor(e,t){if(this.toRawString=()=>this.workChain+":"+this.hash.toString("hex"),this.toRaw=()=>{const e=Buffer.alloc(36);return e.set(this.hash),e.set([this.workChain,this.workChain,this.workChain,this.workChain],32),e},this.toStringBuffer=e=>{let t=!(!e||void 0===e.testOnly)&&e.testOnly,n=!e||void 0===e.bounceable||e.bounceable?17:81;t&&(n|=128);const r=Buffer.alloc(34);r[0]=n,r[1]=this.workChain,r.set(this.hash,2);const o=Buffer.alloc(36);return o.set(r),o.set((0,s.crc16)(r),34),o},this.toString=e=>{let t=!e||void 0===e.urlSafe||e.urlSafe,n=this.toStringBuffer(e);return t?n.toString("base64").replace(/\+/g,"-").replace(/\//g,"_"):n.toString("base64")},this[r]=()=>this.toString(),32!==t.length)throw new Error("Invalid address hash length: "+t.length);this.workChain=e,this.hash=t,Object.freeze(this)}equals(e){return e.workChain===this.workChain&&e.hash.equals(this.hash)}}t.Address=c,r=i.default,t.address=function(e){return c.parse(e)}},1765:function(e,t,n){"use strict";var r,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalAddress=void 0;const i=o(n(9107));class s{static isAddress(e){return e instanceof s}constructor(e,t){this[r]=()=>this.toString(),this.value=e,this.bits=t}toString(){return`External<${this.bits}:${this.value}>`}}t.ExternalAddress=s,r=i.default},546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contractAddress=void 0;const r=n(199),o=n(5002),i=n(6016);t.contractAddress=function(e,t){let n=(0,r.beginCell)().store((0,o.storeStateInit)(t)).endCell().hash();return new i.Address(e,n)}},8364:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitBuilder=void 0;const r=n(6016),o=n(1765),i=n(9658);t.BitBuilder=class{constructor(e=1023){this._buffer=Buffer.alloc(Math.ceil(e/8)),this._length=0}get length(){return this._length}writeBit(e){let t=this._length;if(t>8*this._buffer.length)throw new Error("BitBuilder overflow");(!0===e||e>0)&&(this._buffer[t/8|0]|=1<<7-t%8),this._length++}writeBits(e){for(let t=0;t<e.length;t++)this.writeBit(e.at(t))}writeBuffer(e){if(this._length%8==0){if(this._length+8*e.length>8*this._buffer.length)throw new Error("BitBuilder overflow");e.copy(this._buffer,this._length/8),this._length+=8*e.length}else for(let t=0;t<e.length;t++)this.writeUint(e[t],8)}writeUint(e,t){if(8===t&&this._length%8==0){let n=Number(e);if(n<0||n>255||!Number.isSafeInteger(n))throw Error(`value is out of range for ${t} bits. Got ${e}`);return this._buffer[this._length/8]=Number(e),void(this._length+=8)}if(16===t&&this._length%8==0){let n=Number(e);if(n<0||n>65536||!Number.isSafeInteger(n))throw Error(`value is out of range for ${t} bits. Got ${e}`);return this._buffer[this._length/8]=n>>8,this._buffer[this._length/8+1]=255&n,void(this._length+=16)}let n=BigInt(e);if(t<0||!Number.isSafeInteger(t))throw Error(`invalid bit length. Got ${t}`);if(0===t){if(0n!==e)throw Error(`value is not zero for ${t} bits. Got ${e}`);return}let r=1n<<BigInt(t);if(n<0||n>=r)throw Error(`bitLength is too small for a value ${e}. Got ${t}`);let o=[];for(;n>0;)o.push(n%2n===1n),n/=2n;for(let e=0;e<t;e++){let n=t-e-1;n<o.length?this.writeBit(o[n]):this.writeBit(!1)}}writeInt(e,t){let n=BigInt(e);if(t<0||!Number.isSafeInteger(t))throw Error(`invalid bit length. Got ${t}`);if(0===t){if(0n!==e)throw Error(`value is not zero for ${t} bits. Got ${e}`);return}if(1===t){if(-1n!==e&&0n!==e)throw Error(`value is not zero or -1 for ${t} bits. Got ${e}`);return void this.writeBit(-1n===e)}let r=1n<<BigInt(t)-1n;if(n<-r||n>=r)throw Error(`value is out of range for ${t} bits. Got ${e}`);n<0?(this.writeBit(!0),n=r+n):this.writeBit(!1),this.writeUint(n,t-1)}writeVarUint(e,t){let n=BigInt(e);if(t<0||!Number.isSafeInteger(t))throw Error(`invalid bit length. Got ${t}`);if(n<0)throw Error(`value is negative. Got ${e}`);if(0n===n)return void this.writeUint(0,t);const r=Math.ceil(n.toString(2).length/8),o=8*r;this.writeUint(r,t),this.writeUint(n,o)}writeVarInt(e,t){let n=BigInt(e);if(t<0||!Number.isSafeInteger(t))throw Error(`invalid bit length. Got ${t}`);if(0n===n)return void this.writeUint(0,t);let r=n>0?n:-n;const o=1+Math.ceil(r.toString(2).length/8),i=8*o;this.writeUint(o,t),this.writeInt(n,i)}writeCoins(e){this.writeVarUint(e,4)}writeAddress(e){if(null!=e){if(r.Address.isAddress(e))return this.writeUint(2,2),this.writeUint(0,1),this.writeInt(e.workChain,8),void this.writeBuffer(e.hash);if(o.ExternalAddress.isAddress(e))return this.writeUint(1,2),this.writeUint(e.bits,9),void this.writeUint(e.value,e.bits);throw Error(`Invalid address. Got ${e}`)}this.writeUint(0,2)}build(){return new i.BitString(this._buffer,0,this._length)}buffer(){if(this._length%8!=0)throw new Error("BitBuilder buffer is not byte aligned");return this._buffer.subarray(0,this._length/8)}}},1872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitReader=void 0;const r=n(6016),o=n(1765);class i{constructor(e,t=0){this._checkpoints=[],this._bits=e,this._offset=t}get offset(){return this._offset}get remaining(){return this._bits.length-this._offset}skip(e){if(e<0||this._offset+e>this._bits.length)throw new Error(`Index ${this._offset+e} is out of bounds`);this._offset+=e}reset(){this._checkpoints.length>0?this._offset=this._checkpoints.pop():this._offset=0}save(){this._checkpoints.push(this._offset)}loadBit(){let e=this._bits.at(this._offset);return this._offset++,e}preloadBit(){return this._bits.at(this._offset)}loadBits(e){let t=this._bits.substring(this._offset,e);return this._offset+=e,t}preloadBits(e){return this._bits.substring(this._offset,e)}loadBuffer(e){let t=this._preloadBuffer(e,this._offset);return this._offset+=8*e,t}preloadBuffer(e){return this._preloadBuffer(e,this._offset)}loadUint(e){return Number(this.loadUintBig(e))}loadUintBig(e){let t=this.preloadUintBig(e);return this._offset+=e,t}preloadUint(e){return Number(this._preloadUint(e,this._offset))}preloadUintBig(e){return this._preloadUint(e,this._offset)}loadInt(e){let t=this._preloadInt(e,this._offset);return this._offset+=e,Number(t)}loadIntBig(e){let t=this._preloadInt(e,this._offset);return this._offset+=e,t}preloadInt(e){return Number(this._preloadInt(e,this._offset))}preloadIntBig(e){return this._preloadInt(e,this._offset)}loadVarUint(e){let t=Number(this.loadUint(e));return Number(this.loadUintBig(8*t))}loadVarUintBig(e){let t=Number(this.loadUint(e));return this.loadUintBig(8*t)}preloadVarUint(e){let t=Number(this._preloadUint(e,this._offset));return Number(this._preloadUint(8*t,this._offset+e))}preloadVarUintBig(e){let t=Number(this._preloadUint(e,this._offset));return this._preloadUint(8*t,this._offset+e)}loadVarInt(e){let t=Number(this.loadUint(e));return Number(this.loadIntBig(8*t))}loadVarIntBig(e){let t=Number(this.loadUint(e));return this.loadIntBig(8*t)}preloadVarInt(e){let t=Number(this._preloadUint(e,this._offset));return Number(this._preloadInt(8*t,this._offset+e))}preloadVarIntBig(e){let t=Number(this._preloadUint(e,this._offset));return this._preloadInt(8*t,this._offset+e)}loadCoins(){return this.loadVarUintBig(4)}preloadCoins(){return this.preloadVarUintBig(4)}loadAddress(){let e=Number(this._preloadUint(2,this._offset));if(2===e)return this._loadInternalAddress();throw new Error("Invalid address: "+e)}loadMaybeAddress(){let e=Number(this._preloadUint(2,this._offset));if(0===e)return this._offset+=2,null;if(2===e)return this._loadInternalAddress();throw new Error("Invalid address")}loadExternalAddress(){if(1===Number(this._preloadUint(2,this._offset)))return this._loadExternalAddress();throw new Error("Invalid address")}loadMaybeExternalAddress(){let e=Number(this._preloadUint(2,this._offset));if(0===e)return this._offset+=2,null;if(1===e)return this._loadExternalAddress();throw new Error("Invalid address")}loadAddressAny(){let e=Number(this._preloadUint(2,this._offset));if(0===e)return this._offset+=2,null;if(2===e)return this._loadInternalAddress();if(1===e)return this._loadExternalAddress();throw 3===e?Error("Unsupported"):Error("Unreachable")}loadPaddedBits(e){if(e%8!=0)throw new Error("Invalid number of bits");let t=e;for(;;){if(this._bits.at(this._offset+t-1)){t--;break}t--}let n=this._bits.substring(this._offset,t);return this._offset+=e,n}clone(){return new i(this._bits,this._offset)}_preloadInt(e,t){if(0==e)return 0n;let n=this._bits.at(t),r=0n;for(let n=0;n<e-1;n++)this._bits.at(t+1+n)&&(r+=1n<<BigInt(e-n-1-1));return n&&(r-=1n<<BigInt(e-1)),r}_preloadUint(e,t){if(0==e)return 0n;let n=0n;for(let r=0;r<e;r++)this._bits.at(t+r)&&(n+=1n<<BigInt(e-r-1));return n}_preloadBuffer(e,t){let n=this._bits.subbuffer(t,8*e);if(n)return n;let r=Buffer.alloc(e);for(let n=0;n<e;n++)r[n]=Number(this._preloadUint(8,t+8*n));return r}_loadInternalAddress(){if(2!==Number(this._preloadUint(2,this._offset)))throw Error("Invalid address");if(0n!==this._preloadUint(1,this._offset+2))throw Error("Invalid address");let e=Number(this._preloadInt(8,this._offset+3)),t=this._preloadBuffer(32,this._offset+11);return this._offset+=267,new r.Address(e,t)}_loadExternalAddress(){if(1!==Number(this._preloadUint(2,this._offset)))throw Error("Invalid address");let e=Number(this._preloadUint(9,this._offset+2)),t=this._preloadUint(e,this._offset+11);return this._offset+=11+e,new o.ExternalAddress(t,e)}}t.BitReader=i},9658:function(e,t,n){"use strict";var r,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BitString=void 0;const i=n(3878),s=o(n(9107));class a{static isBitString(e){return e instanceof a}constructor(e,t,n){if(this[r]=()=>this.toString(),n<0)throw new Error(`Length ${n} is out of bounds`);this._length=n,this._data=e,this._offset=t}get length(){return this._length}at(e){if(e>=this._length)throw new Error(`Index ${e} > ${this._length} is out of bounds`);if(e<0)throw new Error(`Index ${e} < 0 is out of bounds`);let t=this._offset+e>>3,n=7-(this._offset+e)%8;return!!(this._data[t]&1<<n)}substring(e,t){if(e>this._length)throw new Error(`Offset(${e}) > ${this._length} is out of bounds`);if(e<0)throw new Error(`Offset(${e}) < 0 is out of bounds`);if(0===t)return a.EMPTY;if(e+t>this._length)throw new Error(`Offset ${e} + Length ${t} > ${this._length} is out of bounds`);return new a(this._data,this._offset+e,t)}subbuffer(e,t){if(e>this._length)throw new Error(`Offset ${e} is out of bounds`);if(e<0)throw new Error(`Offset ${e} is out of bounds`);if(e+t>this._length)throw new Error(`Offset + Lenght = ${e+t} is out of bounds`);if(t%8!=0)return null;if((this._offset+e)%8!=0)return null;let n=this._offset+e>>3,r=n+(t>>3);return this._data.subarray(n,r)}equals(e){if(this._length!==e._length)return!1;for(let t=0;t<this._length;t++)if(this.at(t)!==e.at(t))return!1;return!0}toString(){const e=(0,i.bitsToPaddedBuffer)(this);if(this._length%4==0){const t=e.subarray(0,Math.ceil(this._length/8)).toString("hex").toUpperCase();return this._length%8==0?t:t.substring(0,t.length-1)}{const t=e.toString("hex").toUpperCase();return this._length%8<=4?t.substring(0,t.length-1)+"_":t+"_"}}}t.BitString=a,r=s.default,a.EMPTY=new a(Buffer.alloc(0),0,0)},199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Builder=t.beginCell=void 0;const r=n(8364),o=n(2622),i=n(3260);function s(){return new a}t.beginCell=s;class a{constructor(){this._bits=new r.BitBuilder,this._refs=[]}get bits(){return this._bits.length}get refs(){return this._refs.length}get availableBits(){return 1023-this.bits}get availableRefs(){return 4-this.refs}storeBit(e){return this._bits.writeBit(e),this}storeBits(e){return this._bits.writeBits(e),this}storeBuffer(e,t){if(null!=t&&e.length!==t)throw Error(`Buffer length ${e.length} is not equal to ${t}`);return this._bits.writeBuffer(e),this}storeMaybeBuffer(e,t){return null!==e?(this.storeBit(1),this.storeBuffer(e,t)):this.storeBit(0),this}storeUint(e,t){return this._bits.writeUint(e,t),this}storeMaybeUint(e,t){return null!=e?(this.storeBit(1),this.storeUint(e,t)):this.storeBit(0),this}storeInt(e,t){return this._bits.writeInt(e,t),this}storeMaybeInt(e,t){return null!=e?(this.storeBit(1),this.storeInt(e,t)):this.storeBit(0),this}storeVarUint(e,t){return this._bits.writeVarUint(e,t),this}storeMaybeVarUint(e,t){return null!=e?(this.storeBit(1),this.storeVarUint(e,t)):this.storeBit(0),this}storeVarInt(e,t){return this._bits.writeVarInt(e,t),this}storeMaybeVarInt(e,t){return null!=e?(this.storeBit(1),this.storeVarInt(e,t)):this.storeBit(0),this}storeCoins(e){return this._bits.writeCoins(e),this}storeMaybeCoins(e){return null!=e?(this.storeBit(1),this.storeCoins(e)):this.storeBit(0),this}storeAddress(e){return this._bits.writeAddress(e),this}storeRef(e){if(this._refs.length>=4)throw new Error("Too many references");if(e instanceof o.Cell)this._refs.push(e);else{if(!(e instanceof a))throw new Error("Invalid argument");this._refs.push(e.endCell())}return this}storeMaybeRef(e){return e?(this.storeBit(1),this.storeRef(e)):this.storeBit(0),this}storeSlice(e){let t=e.clone();for(t.remainingBits>0&&this.storeBits(t.loadBits(t.remainingBits));t.remainingRefs>0;)this.storeRef(t.loadRef());return this}storeMaybeSlice(e){return e?(this.storeBit(1),this.storeSlice(e)):this.storeBit(0),this}storeBuilder(e){return this.storeSlice(e.endCell().beginParse())}storeMaybeBuilder(e){return e?(this.storeBit(1),this.storeBuilder(e)):this.storeBit(0),this}storeWritable(e){return"object"==typeof e?e.writeTo(this):e(this),this}storeMaybeWritable(e){return e?(this.storeBit(1),this.storeWritable(e)):this.storeBit(0),this}store(e){return this.storeWritable(e),this}storeStringTail(e){return(0,i.writeString)(e,this),this}storeMaybeStringTail(e){return null!=e?(this.storeBit(1),(0,i.writeString)(e,this)):this.storeBit(0),this}storeStringRefTail(e){return this.storeRef(s().storeStringTail(e)),this}storeMaybeStringRefTail(e){return null!=e?(this.storeBit(1),this.storeStringRefTail(e)):this.storeBit(0),this}storeDict(e,t,n){return e?e.store(this,t,n):this.storeBit(0),this}storeDictDirect(e,t,n){return e.storeDirect(this,t,n),this}endCell(){return new o.Cell({bits:this._bits.build(),refs:this._refs})}asCell(){return this.endCell()}asSlice(){return this.endCell().beginParse()}}t.Builder=a},2622:function(e,t,n){"use strict";var r,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Cell=void 0;const i=o(n(9107)),s=n(9658),a=n(9750),c=n(3090),l=n(6239),d=n(5538),u=n(6805),h=n(1872),f=n(199);class g{static fromBoc(e){return(0,u.deserializeBoc)(e)}static fromBase64(e){let t=g.fromBoc(Buffer.from(e,"base64"));if(1!==t.length)throw new Error("Deserialized more than one cell");return t[0]}constructor(e){this._hashes=[],this._depths=[],this.beginParse=(e=!1)=>{if(this.isExotic&&!e)throw new Error("Exotic cells cannot be parsed");return new c.Slice(new h.BitReader(this.bits),this.refs)},this.hash=(e=3)=>this._hashes[Math.min(this._hashes.length-1,e)],this.depth=(e=3)=>this._depths[Math.min(this._depths.length-1,e)],this.level=()=>this.mask.level,this.equals=e=>this.hash().equals(e.hash()),this[r]=()=>this.toString();let t=s.BitString.EMPTY;e&&e.bits&&(t=e.bits);let n,o,i,u=[];e&&e.refs&&(u=[...e.refs]);let f=a.CellType.Ordinary;if(e&&e.exotic){let e=(0,l.resolveExotic)(t,u),r=(0,d.wonderCalculator)(e.type,t,u);i=r.mask,o=r.depths,n=r.hashes,f=e.type}else{if(u.length>4)throw new Error("Invalid number of references");if(t.length>1023)throw new Error(`Bits overflow: ${t.length} > 1023`);let e=(0,d.wonderCalculator)(a.CellType.Ordinary,t,u);i=e.mask,o=e.depths,n=e.hashes,f=a.CellType.Ordinary}this.type=f,this.bits=t,this.refs=u,this.mask=i,this._depths=o,this._hashes=n,Object.freeze(this),Object.freeze(this.refs),Object.freeze(this.bits),Object.freeze(this.mask),Object.freeze(this._depths),Object.freeze(this._hashes)}get isExotic(){return this.type!==a.CellType.Ordinary}toBoc(e){let t=!(!e||null===e.idx||void 0===e.idx)&&e.idx,n=!e||null===e.crc32||void 0===e.crc32||e.crc32;return(0,u.serializeBoc)(this,{idx:t,crc32:n})}toString(e){let t=e||"",n="x";this.isExotic&&(this.type===a.CellType.MerkleProof?n="p":this.type===a.CellType.MerkleUpdate?n="u":this.type===a.CellType.PrunedBranch&&(n="p"));let r=t+(this.isExotic?n:"x")+"{"+this.bits.toString()+"}";for(let e in this.refs)r+="\n"+this.refs[e].toString(t+" ");return r}asSlice(){return this.beginParse()}asBuilder(){return(0,f.beginCell)().storeSlice(this.asSlice())}}t.Cell=g,r=i.default,g.EMPTY=new g},9750:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CellType=void 0,(n=t.CellType||(t.CellType={}))[n.Ordinary=-1]="Ordinary",n[n.PrunedBranch=1]="PrunedBranch",n[n.Library=2]="Library",n[n.MerkleProof=3]="MerkleProof",n[n.MerkleUpdate=4]="MerkleUpdate"},3090:function(e,t,n){"use strict";var r,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Slice=void 0;const i=o(n(9107)),s=n(3150),a=n(199),c=n(3260);class l{constructor(e,t){this[r]=()=>this.toString(),this._reader=e.clone(),this._refs=[...t],this._refsOffset=0}get remainingBits(){return this._reader.remaining}get offsetBits(){return this._reader.offset}get remainingRefs(){return this._refs.length-this._refsOffset}get offsetRefs(){return this._refsOffset}skip(e){return this._reader.skip(e),this}loadBit(){return this._reader.loadBit()}preloadBit(){return this._reader.preloadBit()}loadBoolean(){return this.loadBit()}loadMaybeBoolean(){return this.loadBit()?this.loadBoolean():null}loadBits(e){return this._reader.loadBits(e)}preloadBits(e){return this._reader.preloadBits(e)}loadUint(e){return this._reader.loadUint(e)}loadUintBig(e){return this._reader.loadUintBig(e)}preloadUint(e){return this._reader.preloadUint(e)}preloadUintBig(e){return this._reader.preloadUintBig(e)}loadMaybeUint(e){return this.loadBit()?this.loadUint(e):null}loadMaybeUintBig(e){return this.loadBit()?this.loadUintBig(e):null}loadInt(e){return this._reader.loadInt(e)}loadIntBig(e){return this._reader.loadIntBig(e)}preloadInt(e){return this._reader.preloadInt(e)}preloadIntBig(e){return this._reader.preloadIntBig(e)}loadMaybeInt(e){return this.loadBit()?this.loadInt(e):null}loadMaybeIntBig(e){return this.loadBit()?this.loadIntBig(e):null}loadVarUint(e){return this._reader.loadVarUint(e)}loadVarUintBig(e){return this._reader.loadVarUintBig(e)}preloadVarUint(e){return this._reader.preloadVarUint(e)}preloadVarUintBig(e){return this._reader.preloadVarUintBig(e)}loadVarInt(e){return this._reader.loadVarInt(e)}loadVarIntBig(e){return this._reader.loadVarIntBig(e)}preloadVarInt(e){return this._reader.preloadVarInt(e)}preloadVarIntBig(e){return this._reader.preloadVarIntBig(e)}loadCoins(){return this._reader.loadCoins()}preloadCoins(){return this._reader.preloadCoins()}loadMaybeCoins(){return this._reader.loadBit()?this._reader.loadCoins():null}loadAddress(){return this._reader.loadAddress()}loadMaybeAddress(){return this._reader.loadMaybeAddress()}loadExternalAddress(){return this._reader.loadExternalAddress()}loadMaybeExternalAddress(){return this._reader.loadMaybeExternalAddress()}loadAddressAny(){return this._reader.loadAddressAny()}loadRef(){if(this._refsOffset>=this._refs.length)throw new Error("No more references");return this._refs[this._refsOffset++]}preloadRef(){if(this._refsOffset>=this._refs.length)throw new Error("No more references");return this._refs[this._refsOffset]}loadMaybeRef(){return this.loadBit()?this.loadRef():null}preloadMaybeRef(){return this.preloadBit()?this.preloadRef():null}loadBuffer(e){return this._reader.loadBuffer(e)}preloadBuffer(e){return this._reader.preloadBuffer(e)}loadStringTail(){return(0,c.readString)(this)}loadMaybeStringTail(){return this.loadBit()?(0,c.readString)(this):null}loadStringRefTail(){return(0,c.readString)(this.loadRef().beginParse())}loadMaybeStringRefTail(){const e=this.loadMaybeRef();return e?(0,c.readString)(e.beginParse()):null}loadDict(e,t){return s.Dictionary.load(e,t,this)}loadDictDirect(e,t){return s.Dictionary.loadDirect(e,t,this)}endParse(){if(this.remainingBits>0||this.remainingRefs>0)throw new Error("Slice is not empty")}asCell(){return(0,a.beginCell)().storeSlice(this).endCell()}asBuilder(){return(0,a.beginCell)().storeSlice(this)}clone(e=!1){if(e){let e=this._reader.clone();return e.reset(),new l(e,this._refs)}{let e=new l(this._reader,this._refs);return e._refsOffset=this._refsOffset,e}}toString(){return this.asCell().toString()}}t.Slice=l,r=i.default},4259:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LevelMask=void 0;class n{constructor(e=0){var t;this._mask=0,this._mask=e,this._hashIndex=(t=this._mask,16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>24),this._hashCount=this._hashIndex+1}get value(){return this._mask}get level(){return 32-Math.clz32(this._mask)}get hashIndex(){return this._hashIndex}get hashCount(){return this._hashCount}apply(e){return new n(this._mask&(1<<e)-1)}isSignificant(e){return 0===e||(this._mask>>e-1)%2!=0}}t.LevelMask=n},9504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRepr=t.getBitsDescriptor=t.getRefsDescriptor=void 0;const r=n(9750),o=n(3878);function i(e,t,n){return e.length+8*(n!==r.CellType.Ordinary?1:0)+32*t}function s(e){let t=e.length;return Math.ceil(t/8)+Math.floor(t/8)}t.getRefsDescriptor=i,t.getBitsDescriptor=s,t.getRepr=function(e,t,n,a,c){const l=Math.ceil(t.length/8),d=Buffer.alloc(2+l+34*n.length);let u=0;d[u++]=i(n,a,c),d[u++]=s(e),(0,o.bitsToPaddedBuffer)(t).copy(d,u),u+=l;for(const e of n){let t;t=c==r.CellType.MerkleProof||c==r.CellType.MerkleUpdate?e.depth(a+1):e.depth(a),d[u++]=Math.floor(t/256),d[u++]=t%256}for(const e of n){let t;t=c==r.CellType.MerkleProof||c==r.CellType.MerkleUpdate?e.hash(a+1):e.hash(a),t.copy(d,u),u+=32}return d}},7760:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exoticLibrary=void 0;const r=n(1872);t.exoticLibrary=function(e,t){const n=new r.BitReader(e);if(264!==e.length)throw new Error(`Library cell must have exactly (8 + 256) bits, got "${e.length}"`);let o=n.loadUint(8);if(2!==o)throw new Error(`Library cell must have type 2, got "${o}"`);return{}}},3899:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exoticMerkleProof=void 0;const r=n(1872);t.exoticMerkleProof=function(e,t){const n=new r.BitReader(e);if(280!==e.length)throw new Error(`Merkle Proof cell must have exactly (8 + 256 + 16) bits, got "${e.length}"`);if(1!==t.length)throw new Error(`Merkle Proof cell must have exactly 1 ref, got "${t.length}"`);let o=n.loadUint(8);if(3!==o)throw new Error(`Merkle Proof cell must have type 3, got "${o}"`);const i=n.loadBuffer(32),s=n.loadUint(16),a=t[0].hash(0),c=t[0].depth(0);if(s!==c)throw new Error(`Merkle Proof cell ref depth must be exactly "${s}", got "${c}"`);if(!i.equals(a))throw new Error(`Merkle Proof cell ref hash must be exactly "${i.toString("hex")}", got "${a.toString("hex")}"`);return{proofDepth:s,proofHash:i}}},5752:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exoticMerkleUpdate=void 0;const r=n(1872);t.exoticMerkleUpdate=function(e,t){const n=new r.BitReader(e);if(552!==e.length)throw new Error(`Merkle Update cell must have exactly (8 + (2 * (256 + 16))) bits, got "${e.length}"`);if(2!==t.length)throw new Error(`Merkle Update cell must have exactly 2 refs, got "${t.length}"`);let o=n.loadUint(8);if(4!==o)throw new Error(`Merkle Update cell type must be exactly 4, got "${o}"`);const i=n.loadBuffer(32),s=n.loadBuffer(32),a=n.loadUint(16),c=n.loadUint(16);if(a!==t[0].depth(0))throw new Error(`Merkle Update cell ref depth must be exactly "${a}", got "${t[0].depth(0)}"`);if(!i.equals(t[0].hash(0)))throw new Error(`Merkle Update cell ref hash must be exactly "${i.toString("hex")}", got "${t[0].hash(0).toString("hex")}"`);if(c!==t[1].depth(0))throw new Error(`Merkle Update cell ref depth must be exactly "${c}", got "${t[1].depth(0)}"`);if(!s.equals(t[1].hash(0)))throw new Error(`Merkle Update cell ref hash must be exactly "${s.toString("hex")}", got "${t[1].hash(0).toString("hex")}"`);return{proofDepth1:a,proofDepth2:c,proofHash1:i,proofHash2:s}}},4979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exoticPruned=void 0;const r=n(1872),o=n(4259);t.exoticPruned=function(e,t){let n,i=new r.BitReader(e),s=i.loadUint(8);if(1!==s)throw new Error(`Pruned branch cell must have type 1, got "${s}"`);if(0!==t.length)throw new Error(`Pruned Branch cell can't has refs, got "${t.length}"`);if(280===e.length)n=new o.LevelMask(1);else{if(n=new o.LevelMask(i.loadUint(8)),n.level<1||n.level>3)throw new Error(`Pruned Branch cell level must be >= 1 and <= 3, got "${n.level}/${n.value}"`);const t=16+272*n.apply(n.level-1).hashCount;if(e.length!==t)throw new Error(`Pruned branch cell must have exactly ${t} bits, got "${e.length}"`)}let a=[],c=[],l=[];for(let e=0;e<n.level;e++)c.push(i.loadBuffer(32));for(let e=0;e<n.level;e++)l.push(i.loadUint(16));for(let e=0;e<n.level;e++)a.push({depth:l[e],hash:c[e]});return{mask:n.value,pruned:a}}},6239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveExotic=void 0;const r=n(1872),o=n(9750),i=n(7760),s=n(3899),a=n(5752),c=n(4979),l=n(4259);t.resolveExotic=function(e,t){let n=new r.BitReader(e).preloadUint(8);if(1===n)return function(e,t){let n=(0,c.exoticPruned)(e,t),r=[],i=[],s=new l.LevelMask(n.mask);for(let e=0;e<n.pruned.length;e++)r.push(n.pruned[e].depth),i.push(n.pruned[e].hash);return{type:o.CellType.PrunedBranch,depths:r,hashes:i,mask:s}}(e,t);if(2===n)return function(e,t){(0,i.exoticLibrary)(e,t);let n=new l.LevelMask;return{type:o.CellType.Library,depths:[],hashes:[],mask:n}}(e,t);if(3===n)return function(e,t){(0,s.exoticMerkleProof)(e,t);let n=new l.LevelMask(t[0].level()>>1);return{type:o.CellType.MerkleProof,depths:[],hashes:[],mask:n}}(e,t);if(4===n)return function(e,t){(0,a.exoticMerkleUpdate)(e,t);let n=new l.LevelMask((t[0].level()|t[1].level())>>1);return{type:o.CellType.MerkleUpdate,depths:[],hashes:[],mask:n}}(e,t);throw Error("Invalid exotic cell type: "+n)}},6805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeBoc=t.deserializeBoc=t.parseBoc=void 0;const r=n(1872),o=n(9658),i=n(2622),s=n(1952),a=n(583),c=n(8364),l=n(9504),d=n(3878),u=n(9917);function h(e){return function(e){let t=0;for(let n=0;n<3;n++)t+=1&e,e>>=1;return t+1}(7&e)}function f(e,t){const n=e.loadUint(8),r=n%8,i=!!(8&n),s=e.loadUint(8),a=Math.ceil(s/2),c=!!(s%2),l=n>>5,d=!!(16&n),u=d?32*h(l):0,f=d?2*h(l):0;e.skip(8*u),e.skip(8*f);let g=o.BitString.EMPTY;a>0&&(g=c?e.loadPaddedBits(8*a):e.loadBits(8*a));let p=[];for(let n=0;n<r;n++)p.push(e.loadUint(8*t));return{bits:g,refs:p,exotic:i}}function g(e,t){return 2+Math.ceil(e.bits.length/8)+e.refs.length*t}function p(e){let t=new r.BitReader(new o.BitString(e,0,8*e.length)),n=t.loadUint(32);if(1761568243===n){let e=t.loadUint(8),n=t.loadUint(8),r=t.loadUint(8*e),o=t.loadUint(8*e),i=t.loadUint(8*e),s=t.loadUint(8*n);return{size:e,offBytes:n,cells:r,roots:o,absent:i,totalCellSize:s,index:t.loadBuffer(r*n),cellData:t.loadBuffer(s),root:[0]}}if(2898503464===n){let n=t.loadUint(8),r=t.loadUint(8),o=t.loadUint(8*n),i=t.loadUint(8*n),s=t.loadUint(8*n),a=t.loadUint(8*r),c=t.loadBuffer(o*r),l=t.loadBuffer(a),d=t.loadBuffer(4);if(!(0,u.crc32c)(e.subarray(0,e.length-4)).equals(d))throw Error("Invalid CRC32C");return{size:n,offBytes:r,cells:o,roots:i,absent:s,totalCellSize:a,index:c,cellData:l,root:[0]}}if(3052313714===n){let n=t.loadUint(1),r=t.loadUint(1),o=(t.loadUint(1),t.loadUint(2),t.loadUint(3)),i=t.loadUint(8),s=t.loadUint(8*o),a=t.loadUint(8*o),c=t.loadUint(8*o),l=t.loadUint(8*i),d=[];for(let e=0;e<a;e++)d.push(t.loadUint(8*o));let h=null;n&&(h=t.loadBuffer(s*i));let f=t.loadBuffer(l);if(r){let n=t.loadBuffer(4);if(!(0,u.crc32c)(e.subarray(0,e.length-4)).equals(n))throw Error("Invalid CRC32C")}return{size:o,offBytes:i,cells:s,roots:a,absent:c,totalCellSize:l,index:h,cellData:f,root:d}}throw Error("Invalid magic")}function m(e,t,n,r){let o=(0,l.getRefsDescriptor)(e.refs,e.level(),e.type),i=(0,l.getBitsDescriptor)(e.bits);r.writeUint(o,8),r.writeUint(i,8),r.writeBuffer((0,d.bitsToPaddedBuffer)(e.bits));for(let e of t)r.writeUint(e,8*n)}t.parseBoc=p,t.deserializeBoc=function(e){let t=p(e),n=new r.BitReader(new o.BitString(t.cellData,0,8*t.cellData.length)),s=[];for(let e=0;e<t.cells;e++){let e=f(n,t.size);s.push({...e,result:null})}for(let e=s.length-1;e>=0;e--){if(s[e].result)throw Error("Impossible");let t=[];for(let n of s[e].refs){if(!s[n].result)throw Error("Invalid BOC file");t.push(s[n].result)}s[e].result=new i.Cell({bits:s[e].bits,refs:t,exotic:s[e].exotic})}let a=[];for(let e=0;e<t.root.length;e++)a.push(s[t.root[e]].result);return a},t.serializeBoc=function(e,t){let n=(0,s.topologicalSort)(e),r=n.length,o=t.idx,i=t.crc32,l=Math.max(Math.ceil((0,a.bitsForNumber)(r,"uint")/8),1),d=0,h=[];for(let e of n){let t=g(e.cell,l);h.push(d),d+=t}let f=Math.max(Math.ceil((0,a.bitsForNumber)(d,"uint")/8),1),p=8*(6+3*l+f+1*l+(o?r*f:0)+d+(i?4:0)),y=new c.BitBuilder(p);if(y.writeUint(3052313714,32),y.writeBit(o),y.writeBit(i),y.writeBit(!1),y.writeUint(0,2),y.writeUint(l,3),y.writeUint(f,8),y.writeUint(r,8*l),y.writeUint(1,8*l),y.writeUint(0,8*l),y.writeUint(d,8*f),y.writeUint(0,8*l),o)for(let e=0;e<r;e++)y.writeUint(h[e],8*f);for(let e=0;e<r;e++)m(n[e].cell,n[e].refs,l,y);if(i){let e=(0,u.crc32c)(y.buffer());y.writeBuffer(e)}let v=y.buffer();if(v.length!==p/8)throw Error("Internal error");return v}},1952:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.topologicalSort=void 0,t.topologicalSort=function(e){let t=[e],n=new Map,r=new Set,o=[];for(;t.length>0;){const e=[...t];t=[];for(let o of e){const e=o.hash().toString("hex");if(!n.has(e)){r.add(e),n.set(e,{cell:o,refs:o.refs.map((e=>e.hash().toString("hex")))});for(let e of o.refs)t.push(e)}}}let i=new Set;function s(e){if(r.has(e)){if(i.has(e))throw Error("Not a DAG");i.add(e);for(let t of n.get(e).refs)s(t);o.unshift(e),i.delete(e),r.delete(e)}}for(;r.size>0;)s(Array.from(r)[0]);let a=new Map;for(let e=0;e<o.length;e++)a.set(o[e],e);let c=[];for(let e of o){const t=n.get(e);c.push({cell:t.cell,refs:t.refs.map((e=>a.get(e)))})}return c}},5538:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wonderCalculator=void 0;const r=n(9658),o=n(9750),i=n(4259),s=n(4979),a=n(3899),c=n(9504),l=n(1533),d=n(5752),u=n(7760);t.wonderCalculator=function(e,t,n){let h,f=null;if(e===o.CellType.Ordinary){let e=0;for(let t of n)e|=t.mask.value;h=new i.LevelMask(e)}else if(e===o.CellType.PrunedBranch)f=(0,s.exoticPruned)(t,n),h=new i.LevelMask(f.mask);else if(e===o.CellType.MerkleProof)(0,a.exoticMerkleProof)(t,n),h=new i.LevelMask(n[0].mask.value>>1);else if(e===o.CellType.MerkleUpdate)(0,d.exoticMerkleUpdate)(t,n),h=new i.LevelMask((n[0].mask.value|n[1].mask.value)>>1);else{if(e!==o.CellType.Library)throw new Error("Unsupported exotic type");(0,u.exoticLibrary)(t,n),h=new i.LevelMask}let g=[],p=[],m=e===o.CellType.PrunedBranch?1:h.hashCount,y=h.hashCount-m;for(let i=0,s=0;i<=h.level;i++){if(!h.isSignificant(i))continue;if(s<y){s++;continue}let a;if(s===y){if(0!==i&&e!==o.CellType.PrunedBranch)throw Error("Invalid");a=t}else{if(0===i||e===o.CellType.PrunedBranch)throw Error("Invalid: "+i+", "+e);a=new r.BitString(p[s-y-1],0,256)}let d=0;for(let t of n){let n;n=e==o.CellType.MerkleProof||e==o.CellType.MerkleUpdate?t.depth(i+1):t.depth(i),d=Math.max(d,n)}n.length>0&&d++;let u=(0,c.getRepr)(t,a,n,i,e),f=(0,l.sha256_sync)(u),m=s-y;g[m]=d,p[m]=f,s++}let v=[],b=[];if(f)for(let e=0;e<4;e++){const{hashIndex:t}=h.apply(e),{hashIndex:n}=h;t!==n?(v.push(f.pruned[t].hash),b.push(f.pruned[t].depth)):(v.push(p[0]),b.push(g[0]))}else for(let e=0;e<4;e++)v.push(p[h.apply(e).hashIndex]),b.push(g[h.apply(e).hashIndex]);return{mask:h,hashes:v,depths:b}}},3878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paddedBufferToBits=t.bitsToPaddedBuffer=void 0;const r=n(8364),o=n(9658);t.bitsToPaddedBuffer=function(e){let t=new r.BitBuilder(8*Math.ceil(e.length/8));t.writeBits(e);let n=8*Math.ceil(e.length/8)-e.length;for(let e=0;e<n;e++)0===e?t.writeBit(1):t.writeBit(0);return t.buffer()},t.paddedBufferToBits=function(e){let t=0;for(let n=e.length-1;n>=0;n--)if(0!==e[n]){const r=e[n];let o=r&-r;1&o||(o=Math.log2(o)+1),n>0&&(t=n<<3),t+=8-o;break}return new o.BitString(e,0,t)}},3260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeString=t.stringToCell=t.readString=void 0;const r=n(199);function o(e){if(e.remainingBits%8!=0)throw new Error(`Invalid string length: ${e.remainingBits}`);if(0!==e.remainingRefs&&1!==e.remainingRefs)throw new Error(`invalid number of refs: ${e.remainingRefs}`);let t;return t=0===e.remainingBits?Buffer.alloc(0):e.loadBuffer(e.remainingBits/8),1===e.remainingRefs&&(t=Buffer.concat([t,o(e.loadRef().beginParse())])),t}function i(e,t){if(e.length>0){let n=Math.floor(t.availableBits/8);if(e.length>n){let o=e.subarray(0,n),s=e.subarray(n);t=t.storeBuffer(o);let a=(0,r.beginCell)();i(s,a),t=t.storeRef(a.endCell())}else t=t.storeBuffer(e)}}t.readString=function(e){return o(e).toString()},t.stringToCell=function(e){let t=(0,r.beginCell)();return i(Buffer.from(e),t),t.endCell()},t.writeString=function(e,t){i(Buffer.from(e),t)}},2041:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComputeError=void 0;class n extends Error{constructor(e,t,r){super(e),this.exitCode=t,this.debugLogs=r&&r.debugLogs?r.debugLogs:null,this.logs=r&&r.logs?r.logs:null,Object.setPrototypeOf(this,n.prototype)}}t.ComputeError=n},1102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openContract=void 0;const r=n(6016),o=n(2622);t.openContract=function(e,t){let n,i=null;if(!r.Address.isAddress(e.address))throw Error("Invalid address");if(n=e.address,e.init){if(!(e.init.code instanceof o.Cell))throw Error("Invalid init.code");if(!(e.init.data instanceof o.Cell))throw Error("Invalid init.data");i=e.init}let s=t({address:n,init:i});return new Proxy(e,{get(e,t){const n=e[t];return"string"==typeof t&&(t.startsWith("get")||t.startsWith("send"))&&"function"==typeof n?(...t)=>n.apply(e,[s,...t]):n}})}},4533:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeSignVerify=t.safeSign=void 0;const r=n(1533);function o(e,t){let n=Buffer.from(t);if(n.length>64)throw Error("Seed can\t be longer than 64 bytes");if(n.length<8)throw Error("Seed must be at least 8 bytes");return(0,r.sha256_sync)(Buffer.concat([Buffer.from([255,255]),n,e.hash()]))}t.safeSign=function(e,t,n="ton-safe-sign-magic"){return(0,r.sign)(o(e,n),t)},t.safeSignVerify=function(e,t,n,i="ton-safe-sign-magic"){return(0,r.signVerify)(o(e,i),t,n)}},3150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dictionary=void 0;const r=n(6016),o=n(199),i=n(2622),s=n(9658),a=n(4445),c=n(2894),l=n(5291),d=n(7761),u=n(8974);class h{static empty(e,t){return e&&t?new h(new Map,e,t):new h(new Map,null,null)}static load(e,t,n){let r;if(n instanceof i.Cell){if(n.isExotic)return h.empty(e,t);r=n.beginParse()}else r=n;let o=r.loadMaybeRef();return o&&!o.isExotic?h.loadDirect(e,t,o.beginParse()):h.empty(e,t)}static loadDirect(e,t,n){if(!n)return h.empty(e,t);let r;r=n instanceof i.Cell?n.beginParse():n;let o=(0,l.parseDict)(r,e.bits,t.parse),s=new Map;for(let[t,n]of o)s.set((0,u.serializeInternalKey)(e.parse(t)),n);return new h(s,e,t)}constructor(e,t,n){this._key=t,this._value=n,this._map=e}get size(){return this._map.size}get(e){return this._map.get((0,u.serializeInternalKey)(e))}has(e){return this._map.has((0,u.serializeInternalKey)(e))}set(e,t){return this._map.set((0,u.serializeInternalKey)(e),t),this}delete(e){const t=(0,u.serializeInternalKey)(e);return this._map.delete(t)}clear(){this._map.clear()}*[Symbol.iterator](){for(const[e,t]of this._map){const n=(0,u.deserializeInternalKey)(e);yield[n,t]}}keys(){return Array.from(this._map.keys()).map((e=>(0,u.deserializeInternalKey)(e)))}values(){return Array.from(this._map.values())}store(e,t,n){if(0===this._map.size)e.storeBit(0);else{let r=this._key;null!=t&&(r=t);let i=this._value;if(null!=n&&(i=n),!r)throw Error("Key serializer is not defined");if(!i)throw Error("Value serializer is not defined");let s=new Map;for(const[e,t]of this._map)s.set(r.serialize((0,u.deserializeInternalKey)(e)),t);e.storeBit(1);let a=(0,o.beginCell)();(0,d.serializeDict)(s,r.bits,i.serialize,a),e.storeRef(a.endCell())}}storeDirect(e,t,n){if(0===this._map.size)throw Error("Cannot store empty dictionary directly");let r=this._key;null!=t&&(r=t);let o=this._value;if(null!=n&&(o=n),!r)throw Error("Key serializer is not defined");if(!o)throw Error("Value serializer is not defined");let i=new Map;for(const[e,t]of this._map)i.set(r.serialize((0,u.deserializeInternalKey)(e)),t);(0,d.serializeDict)(i,r.bits,o.serialize,e)}generateMerkleProof(e){return(0,a.generateMerkleProof)(this,e,this._key)}generateMerkleUpdate(e,t){return(0,c.generateMerkleUpdate)(this,e,this._key,t)}}t.Dictionary=h,h.Keys={Address:()=>({bits:267,serialize:e=>{if(!r.Address.isAddress(e))throw Error("Key is not an address");return(0,o.beginCell)().storeAddress(e).endCell().beginParse().preloadUintBig(267)},parse:e=>(0,o.beginCell)().storeUint(e,267).endCell().beginParse().loadAddress()}),BigInt:e=>function(e){return{bits:e,serialize:t=>{if("bigint"!=typeof t)throw Error("Key is not a bigint");return(0,o.beginCell)().storeInt(t,e).endCell().beginParse().loadUintBig(e)},parse:t=>(0,o.beginCell)().storeUint(t,e).endCell().beginParse().loadIntBig(e)}}(e),Int:e=>function(e){return{bits:e,serialize:t=>{if("number"!=typeof t)throw Error("Key is not a number");if(!Number.isSafeInteger(t))throw Error("Key is not a safe integer: "+t);return(0,o.beginCell)().storeInt(t,e).endCell().beginParse().loadUintBig(e)},parse:t=>(0,o.beginCell)().storeUint(t,e).endCell().beginParse().loadInt(e)}}(e),BigUint:e=>function(e){return{bits:e,serialize:t=>{if("bigint"!=typeof t)throw Error("Key is not a bigint");if(t<0)throw Error("Key is negative: "+t);return(0,o.beginCell)().storeUint(t,e).endCell().beginParse().loadUintBig(e)},parse:t=>(0,o.beginCell)().storeUint(t,e).endCell().beginParse().loadUintBig(e)}}(e),Uint:e=>function(e){return{bits:e,serialize:t=>{if("number"!=typeof t)throw Error("Key is not a number");if(!Number.isSafeInteger(t))throw Error("Key is not a safe integer: "+t);if(t<0)throw Error("Key is negative: "+t);return(0,o.beginCell)().storeUint(t,e).endCell().beginParse().loadUintBig(e)},parse:t=>Number((0,o.beginCell)().storeUint(t,e).endCell().beginParse().loadUint(e))}}(e),Buffer:e=>function(e){return{bits:8*e,serialize:t=>{if(!Buffer.isBuffer(t))throw Error("Key is not a buffer");return(0,o.beginCell)().storeBuffer(t).endCell().beginParse().loadUintBig(8*e)},parse:t=>(0,o.beginCell)().storeUint(t,8*e).endCell().beginParse().loadBuffer(e)}}(e),BitString:e=>function(e){return{bits:e,serialize:t=>{if(!s.BitString.isBitString(t))throw Error("Key is not a BitString");return(0,o.beginCell)().storeBits(t).endCell().beginParse().loadUintBig(e)},parse:t=>(0,o.beginCell)().storeUint(t,e).endCell().beginParse().loadBits(e)}}(e)},h.Values={BigInt:e=>function(e){return{serialize:(t,n)=>{n.storeInt(t,e)},parse:t=>t.loadIntBig(e)}}(e),Int:e=>function(e){return{serialize:(t,n)=>{n.storeInt(t,e)},parse:t=>t.loadInt(e)}}(e),BigVarInt:e=>function(e){return{serialize:(t,n)=>{n.storeVarInt(t,e)},parse:t=>t.loadVarIntBig(e)}}(e),BigUint:e=>function(e){return{serialize:(t,n)=>{n.storeUint(t,e)},parse:t=>t.loadUintBig(e)}}(e),Uint:e=>function(e){return{serialize:(t,n)=>{n.storeUint(t,e)},parse:t=>t.loadUint(e)}}(e),BigVarUint:e=>function(e){return{serialize:(t,n)=>{n.storeVarUint(t,e)},parse:t=>t.loadVarUintBig(e)}}(e),Bool:()=>({serialize:(e,t)=>{t.storeBit(e)},parse:e=>e.loadBit()}),Address:()=>({serialize:(e,t)=>{t.storeAddress(e)},parse:e=>e.loadAddress()}),Cell:()=>({serialize:(e,t)=>{t.storeRef(e)},parse:e=>e.loadRef()}),Buffer:e=>{return t=e,{serialize:(e,n)=>{if(e.length!==t)throw Error("Invalid buffer size");n.storeBuffer(e)},parse:e=>e.loadBuffer(t)};var t},BitString:e=>function(e){return{serialize:(t,n)=>{if(t.length!==e)throw Error("Invalid BitString size");n.storeBits(t)},parse:t=>t.loadBits(e)}}(e),Dictionary:(e,t)=>function(e,t){return{serialize:(e,t)=>{e.store(t)},parse:n=>h.load(e,t,n)}}(e,t)}},4445:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMerkleProof=void 0;const r=n(199),o=n(2622),i=n(8013);function s(e){return new o.Cell({exotic:!0,bits:(0,r.beginCell)().storeUint(1,8).storeUint(1,8).storeBuffer(e.hash(0)).storeUint(e.depth(0),16).endCell().beginParse().loadBits(288)})}function a(e,t,n,o){const c=t.asCell();let l=0,d=e;if(0==(t.loadBit()?1:0)){l=(0,i.readUnaryLength)(t);for(let e=0;e<l;e++)d+=t.loadBit()?"1":"0"}else if(0==(t.loadBit()?1:0)){l=t.loadUint(Math.ceil(Math.log2(n+1)));for(let e=0;e<l;e++)d+=t.loadBit()?"1":"0"}else{let e=t.loadBit()?"1":"0";l=t.loadUint(Math.ceil(Math.log2(n+1)));for(let t=0;t<l;t++)d+=e}if(n-l==0)return c;{let e=c.beginParse(),t=e.loadRef(),i=e.loadRef();return t.isExotic||(t=d+"0"===o.slice(0,d.length+1)?a(d+"0",t.beginParse(),n-l-1,o):s(t)),i.isExotic||(i=d+"1"===o.slice(0,d.length+1)?a(d+"1",i.beginParse(),n-l-1,o):s(i)),(0,r.beginCell)().storeSlice(e).storeRef(t).storeRef(i).endCell()}}t.generateMerkleProof=function(e,t,n){return i=a("",(0,r.beginCell)().storeDictDirect(e).endCell().beginParse(),n.bits,n.serialize(t).toString(2).padStart(n.bits,"0")),new o.Cell({exotic:!0,bits:(0,r.beginCell)().storeUint(3,8).storeBuffer(i.hash(0)).storeUint(i.depth(0),16).endCell().beginParse().loadBits(280),refs:[i]});var i}},2894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMerkleUpdate=void 0;const r=n(199),o=n(2622),i=n(4445);t.generateMerkleUpdate=function(e,t,n,s){const a=(0,i.generateMerkleProof)(e,t,n).refs[0];e.set(t,s);return c=a,l=(0,i.generateMerkleProof)(e,t,n).refs[0],new o.Cell({exotic:!0,bits:(0,r.beginCell)().storeUint(4,8).storeBuffer(c.hash(0)).storeBuffer(l.hash(0)).storeUint(c.depth(0),16).storeUint(l.depth(0),16).endCell().beginParse().loadBits(552),refs:[c,l]});var c,l}},5291:(e,t)=>{"use strict";function n(e,t,r,o,i){let s=0,a=e;if(0==(t.loadBit()?1:0)){s=function(e){let t=0;for(;e.loadBit();)t++;return t}(t);for(let e=0;e<s;e++)a+=t.loadBit()?"1":"0"}else if(0==(t.loadBit()?1:0)){s=t.loadUint(Math.ceil(Math.log2(r+1)));for(let e=0;e<s;e++)a+=t.loadBit()?"1":"0"}else{let e=t.loadBit()?"1":"0";s=t.loadUint(Math.ceil(Math.log2(r+1)));for(let t=0;t<s;t++)a+=e}if(r-s==0)o.set(BigInt("0b"+a),i(t));else{let e=t.loadRef(),c=t.loadRef();e.isExotic||n(a+"0",e.beginParse(),r-s-1,o,i),c.isExotic||n(a+"1",c.beginParse(),r-s-1,o,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseDict=void 0,t.parseDict=function(e,t,r){let o=new Map;return e&&n("",e,t,o,r),o}},7761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeDict=t.detectLabelType=t.writeLabelSame=t.writeLabelLong=t.writeLabelShort=t.buildTree=void 0;const r=n(199),o=n(6342);function i(e,t){for(;e.length<t;)e="0"+e;return e}function s(e,t){if(0===t)return e;{let n=new Map;for(let r of e.keys()){let o=e.get(r);n.set(r.slice(t),o)}return n}}function a(e){if(0===e.size)throw Error("Internal inconsistency");if(1===e.size)return{type:"leaf",value:Array.from(e.values())[0]};let{left:t,right:n}=function(e){if(0===e.size)throw Error("Internal inconsistency");let t=new Map,n=new Map;for(let r of e.keys()){let o=e.get(r);r.startsWith("0")?t.set(r.substr(1),o):n.set(r.substr(1),o)}if(0===t.size)throw Error("Internal inconsistency. Left emtpy.");if(0===n.size)throw Error("Internal inconsistency. Right emtpy.");return{left:t,right:n}}(e);return{type:"fork",left:c(t),right:c(n)}}function c(e){if(0===e.size)throw Error("Internal inconsistency");const t=(0,o.findCommonPrefix)(Array.from(e.keys()));return{label:t,node:a(s(e,t.length))}}function l(e,t){let n=new Map;for(let r of Array.from(e.keys())){const o=i(r.toString(2),t);n.set(o,e.get(r))}return c(n)}function d(e,t){t.storeBit(0);for(let n=0;n<e.length;n++)t.storeBit(1);t.storeBit(0);for(let n=0;n<e.length;n++)t.storeBit("1"===e[n]);return t}function u(e,t,n){n.storeBit(1),n.storeBit(0);let r=Math.ceil(Math.log2(t+1));n.storeUint(e.length,r);for(let t=0;t<e.length;t++)n.storeBit("1"===e[t]);return n}function h(e,t,n,r){r.storeBit(1),r.storeBit(1),r.storeBit(e);let o=Math.ceil(Math.log2(n+1));r.storeUint(t,o)}function f(e,t){let n="short",r=function(e){return 1+e.length+1+e.length}(e),o=function(e,t){return 2+Math.ceil(Math.log2(t+1))+e.length}(e,t);if(o<r&&(r=o,n="long"),function(e){if(0===e.length||1===e.length)return!0;for(let t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0}(e)){let e=function(e){return 3+Math.ceil(Math.log2(e+1))}(t);e<r&&(r=e,n="same")}return n}function g(e,t,n,o){!function(e,t,n){let r=f(e,t);"short"===r&&d(e,n),"long"===r&&u(e,t,n),"same"===r&&h("1"===e[0],e.length,t,n)}(e.label,t,o),function(e,t,n,o){if("leaf"===e.type&&n(e.value,o),"fork"===e.type){const i=(0,r.beginCell)(),s=(0,r.beginCell)();g(e.left,t-1,n,i),g(e.right,t-1,n,s),o.storeRef(i),o.storeRef(s)}}(e.node,t-e.label.length,n,o)}t.buildTree=l,t.writeLabelShort=d,t.writeLabelLong=u,t.writeLabelSame=h,t.detectLabelType=f,t.serializeDict=function(e,t,n,r){g(l(e,t),t,n,r)}},6342:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findCommonPrefix=void 0,t.findCommonPrefix=function(e){if(0===e.length)return"";if(1===e.length)return e[0];const t=[...e].sort();let n=0;for(let e=0;e<t[0].length&&t[0][e]===t[t.length-1][e];e++)n++;return e[0].slice(0,n)}},8974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeInternalKey=t.serializeInternalKey=void 0;const r=n(6016),o=n(9658),i=n(3878);t.serializeInternalKey=function(e){if("number"==typeof e){if(!Number.isSafeInteger(e))throw Error("Invalid key type: not a safe integer: "+e);return"n:"+e.toString(10)}if("bigint"==typeof e)return"b:"+e.toString(10);if(r.Address.isAddress(e))return"a:"+e.toString();if(Buffer.isBuffer(e))return"f:"+e.toString("hex");if(o.BitString.isBitString(e))return"B:"+e.toString();throw Error("Invalid key type")},t.deserializeInternalKey=function(e){let t=e.slice(0,2),n=e.slice(2);if("n:"===t)return parseInt(n,10);if("b:"===t)return BigInt(n);if("a:"===t)return r.Address.parse(n);if("f:"===t)return Buffer.from(n,"hex");if("B:"===t){const e="_"==n.slice(-1);if(e||n.length%2!=0){let t=e?n.length-1:n.length;const r=n.substr(0,t)+"0";return!e&&1&t?new o.BitString(Buffer.from(r,"hex"),0,t<<2):(0,i.paddedBufferToBits)(Buffer.from(r,"hex"))}return new o.BitString(Buffer.from(n,"hex"),0,n.length<<2)}throw Error("Invalid key type: "+t)}},8013:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readUnaryLength=void 0,t.readUnaryLength=function(e){let t=0;for(;e.loadBit();)t++;return t}},8035:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.safeSignVerify=t.safeSign=t.getMethodId=t.base32Encode=t.base32Decode=t.crc32c=t.crc16=t.fromNano=t.toNano=t.ComputeError=t.openContract=t.TupleBuilder=t.TupleReader=t.serializeTuple=t.parseTuple=t.generateMerkleUpdate=t.generateMerkleProof=t.exoticPruned=t.exoticMerkleUpdate=t.exoticMerkleProof=t.Dictionary=t.Cell=t.CellType=t.Slice=t.beginCell=t.Builder=t.BitBuilder=t.BitReader=t.BitString=t.contractAddress=t.ADNLAddress=t.ExternalAddress=t.address=t.Address=void 0;var i=n(6016);Object.defineProperty(t,"Address",{enumerable:!0,get:function(){return i.Address}}),Object.defineProperty(t,"address",{enumerable:!0,get:function(){return i.address}});var s=n(1765);Object.defineProperty(t,"ExternalAddress",{enumerable:!0,get:function(){return s.ExternalAddress}});var a=n(1925);Object.defineProperty(t,"ADNLAddress",{enumerable:!0,get:function(){return a.ADNLAddress}});var c=n(546);Object.defineProperty(t,"contractAddress",{enumerable:!0,get:function(){return c.contractAddress}});var l=n(9658);Object.defineProperty(t,"BitString",{enumerable:!0,get:function(){return l.BitString}});var d=n(1872);Object.defineProperty(t,"BitReader",{enumerable:!0,get:function(){return d.BitReader}});var u=n(8364);Object.defineProperty(t,"BitBuilder",{enumerable:!0,get:function(){return u.BitBuilder}});var h=n(199);Object.defineProperty(t,"Builder",{enumerable:!0,get:function(){return h.Builder}}),Object.defineProperty(t,"beginCell",{enumerable:!0,get:function(){return h.beginCell}});var f=n(3090);Object.defineProperty(t,"Slice",{enumerable:!0,get:function(){return f.Slice}});var g=n(9750);Object.defineProperty(t,"CellType",{enumerable:!0,get:function(){return g.CellType}});var p=n(2622);Object.defineProperty(t,"Cell",{enumerable:!0,get:function(){return p.Cell}});var m=n(3150);Object.defineProperty(t,"Dictionary",{enumerable:!0,get:function(){return m.Dictionary}});var y=n(3899);Object.defineProperty(t,"exoticMerkleProof",{enumerable:!0,get:function(){return y.exoticMerkleProof}});var v=n(5752);Object.defineProperty(t,"exoticMerkleUpdate",{enumerable:!0,get:function(){return v.exoticMerkleUpdate}});var b=n(4979);Object.defineProperty(t,"exoticPruned",{enumerable:!0,get:function(){return b.exoticPruned}});var C=n(4445);Object.defineProperty(t,"generateMerkleProof",{enumerable:!0,get:function(){return C.generateMerkleProof}});var w=n(2894);Object.defineProperty(t,"generateMerkleUpdate",{enumerable:!0,get:function(){return w.generateMerkleUpdate}});var _=n(4096);Object.defineProperty(t,"parseTuple",{enumerable:!0,get:function(){return _.parseTuple}}),Object.defineProperty(t,"serializeTuple",{enumerable:!0,get:function(){return _.serializeTuple}});var O=n(5851);Object.defineProperty(t,"TupleReader",{enumerable:!0,get:function(){return O.TupleReader}});var E=n(2525);Object.defineProperty(t,"TupleBuilder",{enumerable:!0,get:function(){return E.TupleBuilder}}),o(n(7470),t);var S=n(1102);Object.defineProperty(t,"openContract",{enumerable:!0,get:function(){return S.openContract}});var N=n(2041);Object.defineProperty(t,"ComputeError",{enumerable:!0,get:function(){return N.ComputeError}});var T=n(7030);Object.defineProperty(t,"toNano",{enumerable:!0,get:function(){return T.toNano}}),Object.defineProperty(t,"fromNano",{enumerable:!0,get:function(){return T.fromNano}});var R=n(3336);Object.defineProperty(t,"crc16",{enumerable:!0,get:function(){return R.crc16}});var k=n(9917);Object.defineProperty(t,"crc32c",{enumerable:!0,get:function(){return k.crc32c}});var P=n(145);Object.defineProperty(t,"base32Decode",{enumerable:!0,get:function(){return P.base32Decode}}),Object.defineProperty(t,"base32Encode",{enumerable:!0,get:function(){return P.base32Encode}});var A=n(5509);Object.defineProperty(t,"getMethodId",{enumerable:!0,get:function(){return A.getMethodId}});var I=n(4533);Object.defineProperty(t,"safeSign",{enumerable:!0,get:function(){return I.safeSign}}),Object.defineProperty(t,"safeSignVerify",{enumerable:!0,get:function(){return I.safeSignVerify}})},2525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TupleBuilder=void 0;const r=n(199),o=n(2622),i=n(3090);t.TupleBuilder=class{constructor(){this._tuple=[]}writeNumber(e){null==e?this._tuple.push({type:"null"}):this._tuple.push({type:"int",value:BigInt(e)})}writeBoolean(e){null==e?this._tuple.push({type:"null"}):this._tuple.push({type:"int",value:e?-1n:0n})}writeBuffer(e){null==e?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,r.beginCell)().storeBuffer(e).endCell()})}writeString(e){null==e?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,r.beginCell)().storeStringTail(e).endCell()})}writeCell(e){null==e?this._tuple.push({type:"null"}):e instanceof o.Cell?this._tuple.push({type:"cell",cell:e}):e instanceof i.Slice&&this._tuple.push({type:"cell",cell:e.asCell()})}writeSlice(e){null==e?this._tuple.push({type:"null"}):e instanceof o.Cell?this._tuple.push({type:"slice",cell:e}):e instanceof i.Slice&&this._tuple.push({type:"slice",cell:e.asCell()})}writeBuilder(e){null==e?this._tuple.push({type:"null"}):e instanceof o.Cell?this._tuple.push({type:"builder",cell:e}):e instanceof i.Slice&&this._tuple.push({type:"builder",cell:e.asCell()})}writeTuple(e){null==e?this._tuple.push({type:"null"}):this._tuple.push({type:"tuple",items:e})}writeAddress(e){null==e?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,r.beginCell)().storeAddress(e).endCell()})}build(){return[...this._tuple]}}},5851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TupleReader=void 0;class n{constructor(e){this.items=[...e]}get remaining(){return this.items.length}peek(){if(0===this.items.length)throw Error("EOF");return this.items[0]}pop(){if(0===this.items.length)throw Error("EOF");let e=this.items[0];return this.items.splice(0,1),e}skip(e=1){for(let t=0;t<e;t++)this.pop();return this}readBigNumber(){let e=this.pop();if("int"!==e.type)throw Error("Not a number");return e.value}readBigNumberOpt(){let e=this.pop();if("null"===e.type)return null;if("int"!==e.type)throw Error("Not a number");return e.value}readNumber(){return Number(this.readBigNumber())}readNumberOpt(){let e=this.readBigNumberOpt();return null!==e?Number(e):null}readBoolean(){return 0!==this.readNumber()}readBooleanOpt(){let e=this.readNumberOpt();return null!==e?0!==e:null}readAddress(){let e=this.readCell().beginParse().loadAddress();if(null!==e)return e;throw Error("Not an address")}readAddressOpt(){let e=this.readCellOpt();return null!==e?e.beginParse().loadMaybeAddress():null}readCell(){let e=this.pop();if("cell"!==e.type&&"slice"!==e.type&&"builder"!==e.type)throw Error("Not a cell: "+e.type);return e.cell}readCellOpt(){let e=this.pop();if("null"===e.type)return null;if("cell"!==e.type&&"slice"!==e.type&&"builder"!==e.type)throw Error("Not a cell");return e.cell}readTuple(){let e=this.pop();if("tuple"!==e.type)throw Error("Not a tuple");return new n(e.items)}readTupleOpt(){let e=this.pop();if("null"===e.type)return null;if("tuple"!==e.type)throw Error("Not a tuple");return new n(e.items)}static readLispList(e){const t=[];let n=e;for(;null!==n;){var r=n.pop();if(0===n.items.length||"tuple"!==n.items[0].type&&"null"!==n.items[0].type)throw Error("Lisp list consists only from (any, tuple) elements and ends with null");n=n.readTupleOpt(),t.push(r)}return t}readLispListDirect(){return 1===this.items.length&&"null"===this.items[0].type?[]:n.readLispList(this)}readLispList(){return n.readLispList(this.readTupleOpt())}readBuffer(){let e=this.readCell().beginParse();if(0!==e.remainingRefs)throw Error("Not a buffer");if(e.remainingBits%8!=0)throw Error("Not a buffer");return e.loadBuffer(e.remainingBits/8)}readBufferOpt(){if("null"===this.peek().type)return null;let e=this.readCell().beginParse();if(0!==e.remainingRefs)throw Error("Not a buffer");if(e.remainingBits%8!=0)throw Error("Not a buffer");return e.loadBuffer(e.remainingBits/8)}readString(){return this.readCell().beginParse().loadStringTail()}readStringOpt(){return"null"===this.peek().type?null:this.readCell().beginParse().loadStringTail()}}t.TupleReader=n},4096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTuple=t.serializeTuple=void 0;const r=n(199),o=BigInt("-9223372036854775808"),i=BigInt("9223372036854775807");function s(e,t){if("null"===e.type)t.storeUint(0,8);else if("int"===e.type)e.value<=i&&e.value>=o?(t.storeUint(1,8),t.storeInt(e.value,64)):(t.storeUint(256,15),t.storeInt(e.value,257));else if("nan"===e.type)t.storeInt(767,16);else if("cell"===e.type)t.storeUint(3,8),t.storeRef(e.cell);else if("slice"===e.type)t.storeUint(4,8),t.storeUint(0,10),t.storeUint(e.cell.bits.length,10),t.storeUint(0,3),t.storeUint(e.cell.refs.length,3),t.storeRef(e.cell);else if("builder"===e.type)t.storeUint(5,8),t.storeRef(e.cell);else{if("tuple"!==e.type)throw Error("Invalid value");{let n=null,o=null;for(let t=0;t<e.items.length;t++){let i=n;n=o,o=i,t>1&&(n=(0,r.beginCell)().storeRef(o).storeRef(n).endCell());let a=(0,r.beginCell)();s(e.items[t],a),o=a.endCell()}t.storeUint(7,8),t.storeUint(e.items.length,16),n&&t.storeRef(n),o&&t.storeRef(o)}}}function a(e){let t=e.loadUint(8);if(0===t)return{type:"null"};if(1===t)return{type:"int",value:e.loadIntBig(64)};if(2===t)return 0===e.loadUint(7)?{type:"int",value:e.loadIntBig(257)}:(e.loadBit(),{type:"nan"});if(3===t)return{type:"cell",cell:e.loadRef()};if(4===t){let t=e.loadUint(10),n=e.loadUint(10),o=e.loadUint(3),i=e.loadUint(3),s=e.loadRef().beginParse();s.skip(t);let a=s.loadBits(n-t),c=(0,r.beginCell)().storeBits(a);if(o<i){for(let e=0;e<o;e++)s.loadRef();for(let e=0;e<i-o;e++)c.storeRef(s.loadRef())}return{type:"slice",cell:c.endCell()}}if(5===t)return{type:"builder",cell:e.loadRef()};if(7===t){let t=e.loadUint(16),n=[];if(t>1){let r=e.loadRef().beginParse(),o=e.loadRef().beginParse();n.unshift(a(o));for(let e=0;e<t-2;e++){let e=r;r=e.loadRef().beginParse(),o=e.loadRef().beginParse(),n.unshift(a(o))}n.unshift(a(r))}else 1===t&&n.push(a(e.loadRef().beginParse()));return{type:"tuple",items:n}}throw Error("Unsupported stack item")}function c(e,t){if(e.length>0){let n=(0,r.beginCell)();c(e.slice(0,e.length-1),n),t.storeRef(n.endCell()),s(e[e.length-1],t)}}t.serializeTuple=function(e){let t=(0,r.beginCell)();return t.storeUint(e.length,24),c([...e],t),t.endCell()},t.parseTuple=function(e){let t=[],n=e.beginParse(),r=n.loadUint(24);for(let e=0;e<r;e++){let e=n.loadRef();t.unshift(a(n)),n=e.beginParse()}return t}},278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeAccount=t.loadAccount=void 0;const r=n(1897),o=n(9926);t.loadAccount=function(e){return{addr:e.loadAddress(),storageStats:(0,o.loadStorageInfo)(e),storage:(0,r.loadAccountStorage)(e)}},t.storeAccount=function(e){return t=>{t.storeAddress(e.addr),t.store((0,o.storeStorageInfo)(e.storageStats)),t.store((0,r.storeAccountStorage)(e.storage))}}},1553:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeAccountState=t.loadAccountState=void 0;const r=n(5002);t.loadAccountState=function(e){return e.loadBit()?{type:"active",state:(0,r.loadStateInit)(e)}:e.loadBit()?{type:"frozen",stateHash:e.loadUintBig(256)}:{type:"uninit"}},t.storeAccountState=function(e){return t=>{"active"===e.type?(t.storeBit(!0),t.store((0,r.storeStateInit)(e.state))):"frozen"===e.type?(t.storeBit(!1),t.storeBit(!0),t.storeUint(e.stateHash,256)):"uninit"===e.type&&(t.storeBit(!1),t.storeBit(!1))}}},2308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeAccountStatus=t.loadAccountStatus=void 0,t.loadAccountStatus=function(e){const t=e.loadUint(2);if(0===t)return"uninitialized";if(1===t)return"frozen";if(2===t)return"active";if(3===t)return"non-existing";throw Error("Invalid data")},t.storeAccountStatus=function(e){return t=>{if("uninitialized"===e)t.storeUint(0,2);else if("frozen"===e)t.storeUint(1,2);else if("active"===e)t.storeUint(2,2);else{if("non-existing"!==e)throw Error("Invalid data");t.storeUint(3,2)}return t}}},1024:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeAccountStatusChange=t.loadAccountStatusChange=void 0,t.loadAccountStatusChange=function(e){return e.loadBit()?e.loadBit()?"frozen":"deleted":"unchanged"},t.storeAccountStatusChange=function(e){return t=>{if("unchanged"==e)t.storeBit(0);else if("frozen"===e)t.storeBit(1),t.storeBit(0);else{if("deleted"!==e)throw Error("Invalid account status change");t.storeBit(1),t.storeBit(1)}}}},1897:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeAccountStorage=t.loadAccountStorage=void 0;const r=n(1553),o=n(6438);t.loadAccountStorage=function(e){return{lastTransLt:e.loadUintBig(64),balance:(0,o.loadCurrencyCollection)(e),state:(0,r.loadAccountState)(e)}},t.storeAccountStorage=function(e){return t=>{t.storeUint(e.lastTransLt,64),t.store((0,o.storeCurrencyCollection)(e.balance)),t.store((0,r.storeAccountState)(e.state))}}},9189:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeCommonMessageInfo=t.loadCommonMessageInfo=void 0;const r=n(6438);t.loadCommonMessageInfo=function(e){return e.loadBit()?e.loadBit()?{type:"external-out",src:e.loadAddress(),dest:e.loadMaybeExternalAddress(),createdLt:e.loadUintBig(64),createdAt:e.loadUint(32)}:{type:"external-in",src:e.loadMaybeExternalAddress(),dest:e.loadAddress(),importFee:e.loadCoins()}:{type:"internal",ihrDisabled:e.loadBit(),bounce:e.loadBit(),bounced:e.loadBit(),src:e.loadAddress(),dest:e.loadAddress(),value:(0,r.loadCurrencyCollection)(e),ihrFee:e.loadCoins(),forwardFee:e.loadCoins(),createdLt:e.loadUintBig(64),createdAt:e.loadUint(32)}},t.storeCommonMessageInfo=function(e){return t=>{if("internal"===e.type)t.storeBit(0),t.storeBit(e.ihrDisabled),t.storeBit(e.bounce),t.storeBit(e.bounced),t.storeAddress(e.src),t.storeAddress(e.dest),t.store((0,r.storeCurrencyCollection)(e.value)),t.storeCoins(e.ihrFee),t.storeCoins(e.forwardFee),t.storeUint(e.createdLt,64),t.storeUint(e.createdAt,32);else if("external-in"===e.type)t.storeBit(1),t.storeBit(0),t.storeAddress(e.src),t.storeAddress(e.dest),t.storeCoins(e.importFee);else{if("external-out"!==e.type)throw new Error("Unknown CommonMessageInfo type");t.storeBit(1),t.storeBit(1),t.storeAddress(e.src),t.storeAddress(e.dest),t.storeUint(e.createdLt,64),t.storeUint(e.createdAt,32)}}}},7458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeCommonMessageInfoRelaxed=t.loadCommonMessageInfoRelaxed=void 0;const r=n(6438);t.loadCommonMessageInfoRelaxed=function(e){if(!e.loadBit())return{type:"internal",ihrDisabled:e.loadBit(),bounce:e.loadBit(),bounced:e.loadBit(),src:e.loadMaybeAddress(),dest:e.loadAddress(),value:(0,r.loadCurrencyCollection)(e),ihrFee:e.loadCoins(),forwardFee:e.loadCoins(),createdLt:e.loadUintBig(64),createdAt:e.loadUint(32)};if(!e.loadBit())throw Error("External In message is not possible for CommonMessageInfoRelaxed");return{type:"external-out",src:e.loadMaybeAddress(),dest:e.loadMaybeExternalAddress(),createdLt:e.loadUintBig(64),createdAt:e.loadUint(32)}},t.storeCommonMessageInfoRelaxed=function(e){return t=>{if("internal"===e.type)t.storeBit(0),t.storeBit(e.ihrDisabled),t.storeBit(e.bounce),t.storeBit(e.bounced),t.storeAddress(e.src),t.storeAddress(e.dest),t.store((0,r.storeCurrencyCollection)(e.value)),t.storeCoins(e.ihrFee),t.storeCoins(e.forwardFee),t.storeUint(e.createdLt,64),t.storeUint(e.createdAt,32);else{if("external-out"!==e.type)throw new Error("Unknown CommonMessageInfo type");t.storeBit(1),t.storeBit(1),t.storeAddress(e.src),t.storeAddress(e.dest),t.storeUint(e.createdLt,64),t.storeUint(e.createdAt,32)}}}},6231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeComputeSkipReason=t.loadComputeSkipReason=void 0,t.loadComputeSkipReason=function(e){let t=e.loadUint(2);if(0===t)return"no-state";if(1===t)return"bad-state";if(2===t)return"no-gas";throw new Error(`Unknown ComputeSkipReason: ${t}`)},t.storeComputeSkipReason=function(e){return t=>{if("no-state"===e)t.storeUint(0,2);else if("bad-state"===e)t.storeUint(1,2);else{if("no-gas"!==e)throw new Error(`Unknown ComputeSkipReason: ${e}`);t.storeUint(2,2)}}}},6438:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeCurrencyCollection=t.loadCurrencyCollection=void 0;const r=n(3150);t.loadCurrencyCollection=function(e){const t=e.loadCoins(),n=e.loadDict(r.Dictionary.Keys.Uint(32),r.Dictionary.Values.BigVarUint(5));return 0===n.size?{coins:t}:{other:n,coins:t}},t.storeCurrencyCollection=function(e){return t=>{t.storeCoins(e.coins),e.other?t.storeDict(e.other):t.storeBit(0)}}},8962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeDepthBalanceInfo=t.loadDepthBalanceInfo=void 0;const r=n(6438);t.loadDepthBalanceInfo=function(e){return{splitDepth:e.loadUint(5),balance:(0,r.loadCurrencyCollection)(e)}},t.storeDepthBalanceInfo=function(e){return t=>{t.storeUint(e.splitDepth,5),t.store((0,r.storeCurrencyCollection)(e.balance))}}},8844:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeHashUpdate=t.loadHashUpdate=void 0,t.loadHashUpdate=function(e){if(114!==e.loadUint(8))throw Error("Invalid data");return{oldHash:e.loadBuffer(32),newHash:e.loadBuffer(32)}},t.storeHashUpdate=function(e){return t=>{t.storeUint(114,8),t.storeBuffer(e.oldHash),t.storeBuffer(e.newHash)}}},599:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadMasterchainStateExtra=void 0;const r=n(3150),o=n(6438);t.loadMasterchainStateExtra=function(e){if(52262!==e.loadUint(16))throw Error("Invalid data");e.loadBit()&&e.loadRef();let t=e.loadUintBig(256);return{config:r.Dictionary.load(r.Dictionary.Keys.Int(32),r.Dictionary.Values.Cell(),e),configAddress:t,globalBalance:(0,o.loadCurrencyCollection)(e)}}},4730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageValue=t.storeMessage=t.loadMessage=void 0;const r=n(199),o=n(9189),i=n(5002);function s(e){const t=(0,o.loadCommonMessageInfo)(e);let n=null;return e.loadBit()&&(n=e.loadBit()?(0,i.loadStateInit)(e.loadRef().beginParse()):(0,i.loadStateInit)(e)),{info:t,init:n,body:e.loadBit()?e.loadRef():e.asCell()}}function a(e,t){return n=>{if(n.store((0,o.storeCommonMessageInfo)(e.info)),e.init){n.storeBit(!0);let o=(0,r.beginCell)().store((0,i.storeStateInit)(e.init)),s=!1;s=!((!t||!t.forceRef)&&n.availableBits-2>=o.bits),s?(n.storeBit(!0),n.storeRef(o)):(n.storeBit(!1),n.storeBuilder(o))}else n.storeBit(!1);let s=!1;s=!(!t||!t.forceRef)||!(n.availableBits-1>=e.body.bits.length&&n.refs+e.body.refs.length<=4),s?(n.storeBit(!0),n.storeRef(e.body)):(n.storeBit(!1),n.storeBuilder(e.body.asBuilder()))}}t.loadMessage=s,t.storeMessage=a,t.MessageValue={serialize(e,t){t.storeRef((0,r.beginCell)().store(a(e)))},parse:e=>s(e.loadRef().beginParse())}},5399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeMessageRelaxed=t.loadMessageRelaxed=void 0;const r=n(199),o=n(7458),i=n(5002);t.loadMessageRelaxed=function(e){const t=(0,o.loadCommonMessageInfoRelaxed)(e);let n=null;return e.loadBit()&&(n=e.loadBit()?(0,i.loadStateInit)(e.loadRef().beginParse()):(0,i.loadStateInit)(e)),{info:t,init:n,body:e.loadBit()?e.loadRef():e.asCell()}},t.storeMessageRelaxed=function(e,t){return n=>{if(n.store((0,o.storeCommonMessageInfoRelaxed)(e.info)),e.init){n.storeBit(!0);let o=(0,r.beginCell)().store((0,i.storeStateInit)(e.init)),s=!1;s=!((!t||!t.forceRef)&&n.availableBits-2>=o.bits),s?(n.storeBit(!0),n.storeRef(o)):(n.storeBit(!1),n.storeBuilder(o))}else n.storeBit(!1);let s=!1;s=!(!t||!t.forceRef)||!(n.availableBits-1>=e.body.bits.length&&n.refs+e.body.refs.length<=4),s?(n.storeBit(!0),n.storeRef(e.body)):(n.storeBit(!1),n.storeBuilder(e.body.asBuilder()))}}},6869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadOutList=t.storeOutList=t.loadOutAction=t.storeOutAction=void 0;const r=n(5399),o=n(199);function i(e){switch(e.type){case"sendMsg":return function(e){return t=>{t.storeUint(s,32).storeUint(e.mode,8).storeRef((0,o.beginCell)().store((0,r.storeMessageRelaxed)(e.outMsg)).endCell())}}(e);case"setCode":return function(e){return t=>{t.storeUint(a,32).storeRef(e.newCode)}}(e);default:throw new Error(`Unknown action type ${e.type}`)}}t.storeOutAction=i;const s=247711853,a=2907562126;function c(e){const t=e.loadUint(32);if(t===s)return{type:"sendMsg",mode:e.loadUint(8),outMsg:(0,r.loadMessageRelaxed)(e.loadRef().beginParse())};if(t===a)return{type:"setCode",newCode:e.loadRef()};throw new Error(`Unknown out action tag 0x${t.toString(16)}`)}t.loadOutAction=c,t.storeOutList=function(e){const t=e.reduce(((e,t)=>(0,o.beginCell)().storeRef(e).store(i(t)).endCell()),(0,o.beginCell)().endCell());return e=>{e.storeSlice(t.beginParse())}},t.loadOutList=function(e){const t=[];for(;e.remainingRefs;){const n=e.loadRef();t.push(c(e)),e=n.beginParse()}return t.reverse()}},8304:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SendMode=void 0,(n=t.SendMode||(t.SendMode={}))[n.CARRY_ALL_REMAINING_BALANCE=128]="CARRY_ALL_REMAINING_BALANCE",n[n.CARRY_ALL_REMAINING_INCOMING_VALUE=64]="CARRY_ALL_REMAINING_INCOMING_VALUE",n[n.DESTROY_ACCOUNT_IF_ZERO=32]="DESTROY_ACCOUNT_IF_ZERO",n[n.PAY_GAS_SEPARATELY=1]="PAY_GAS_SEPARATELY",n[n.IGNORE_ERRORS=2]="IGNORE_ERRORS",n[n.NONE=0]="NONE"},5434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeShardAccount=t.loadShardAccount=void 0;const r=n(199),o=n(278);t.loadShardAccount=function(e){let t,n=e.loadRef();if(!n.isExotic){let e=n.beginParse();e.loadBit()&&(t=(0,o.loadAccount)(e))}return{account:t,lastTransactionHash:e.loadUintBig(256),lastTransactionLt:e.loadUintBig(64)}},t.storeShardAccount=function(e){return t=>{e.account?t.storeRef((0,r.beginCell)().storeBit(!0).store((0,o.storeAccount)(e.account))):t.storeRef((0,r.beginCell)().storeBit(!1)),t.storeUint(e.lastTransactionHash,256),t.storeUint(e.lastTransactionLt,64)}}},9385:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeShardAccounts=t.loadShardAccounts=t.ShardAccountRefValue=void 0;const r=n(3150),o=n(8962),i=n(5434);t.ShardAccountRefValue={parse:e=>({depthBalanceInfo:(0,o.loadDepthBalanceInfo)(e),shardAccount:(0,i.loadShardAccount)(e)}),serialize(e,t){t.store((0,o.storeDepthBalanceInfo)(e.depthBalanceInfo)),t.store((0,i.storeShardAccount)(e.shardAccount))}},t.loadShardAccounts=function(e){return r.Dictionary.load(r.Dictionary.Keys.BigUint(256),t.ShardAccountRefValue,e)},t.storeShardAccounts=function(e){return t=>{t.storeDict(e)}}},9487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeShardIdent=t.loadShardIdent=void 0,t.loadShardIdent=function(e){if(0!==e.loadUint(2))throw Error("Invalid data");return{shardPrefixBits:e.loadUint(6),workchainId:e.loadInt(32),shardPrefix:e.loadUintBig(64)}},t.storeShardIdent=function(e){return t=>{t.storeUint(0,2),t.storeUint(e.shardPrefixBits,6),t.storeInt(e.workchainId,32),t.storeUint(e.shardPrefix,64)}}},3571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadShardStateUnsplit=void 0;const r=n(599),o=n(9385),i=n(9487);t.loadShardStateUnsplit=function(e){if(2418257890!==e.loadUint(32))throw Error("Invalid data");let t=e.loadInt(32),n=(0,i.loadShardIdent)(e),s=e.loadUint(32),a=e.loadUint(32),c=e.loadUint(32),l=e.loadUintBig(64),d=e.loadUint(32);e.loadRef();let u,h=e.loadBit(),f=e.loadRef();f.isExotic||(u=(0,o.loadShardAccounts)(f.beginParse())),e.loadRef();let g=null;if(e.loadBit()){let t=e.loadRef();t.isExotic||(g=(0,r.loadMasterchainStateExtra)(t.beginParse()))}return{globalId:t,shardId:n,seqno:s,vertSeqNo:a,genUtime:c,genLt:l,minRefMcSeqno:d,beforeSplit:h,accounts:u,extras:g}}},4520:(e,t)=>{"use strict";function n(e){return{public:e.loadBit(),root:e.loadRef()}}function r(e){return t=>{t.storeBit(e.public),t.storeRef(e.root)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLibraryValue=t.storeSimpleLibrary=t.loadSimpleLibrary=void 0,t.loadSimpleLibrary=n,t.storeSimpleLibrary=r,t.SimpleLibraryValue={serialize(e,t){r(e)(t)},parse:e=>n(e)}},6701:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeSplitMergeInfo=t.loadSplitMergeInfo=void 0,t.loadSplitMergeInfo=function(e){return{currentShardPrefixLength:e.loadUint(6),accountSplitDepth:e.loadUint(6),thisAddress:e.loadUintBig(256),siblingAddress:e.loadUintBig(256)}},t.storeSplitMergeInfo=function(e){return t=>{t.storeUint(e.currentShardPrefixLength,6),t.storeUint(e.accountSplitDepth,6),t.storeUint(e.thisAddress,256),t.storeUint(e.siblingAddress,256)}}},5002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeStateInit=t.loadStateInit=void 0;const r=n(3150),o=n(4520),i=n(287);t.loadStateInit=function(e){let t,n;e.loadBit()&&(t=e.loadUint(5)),e.loadBit()&&(n=(0,i.loadTickTock)(e));let s=e.loadMaybeRef(),a=e.loadMaybeRef(),c=e.loadDict(r.Dictionary.Keys.BigUint(256),o.SimpleLibraryValue);return 0===c.size&&(c=void 0),{splitDepth:t,special:n,code:s,data:a,libraries:c}},t.storeStateInit=function(e){return t=>{null!==e.splitDepth&&void 0!==e.splitDepth?(t.storeBit(!0),t.storeUint(e.splitDepth,5)):t.storeBit(!1),null!==e.special&&void 0!==e.special?(t.storeBit(!0),t.store((0,i.storeTickTock)(e.special))):t.storeBit(!1),t.storeMaybeRef(e.code),t.storeMaybeRef(e.data),t.storeDict(e.libraries)}}},9926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeStorageInfo=t.loadStorageInfo=void 0;const r=n(345);t.loadStorageInfo=function(e){return{used:(0,r.loadStorageUsed)(e),lastPaid:e.loadUint(32),duePayment:e.loadMaybeCoins()}},t.storeStorageInfo=function(e){return t=>{t.store((0,r.storeStorageUsed)(e.used)),t.storeUint(e.lastPaid,32),t.storeMaybeCoins(e.duePayment)}}},345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeStorageUsed=t.loadStorageUsed=void 0,t.loadStorageUsed=function(e){return{cells:e.loadVarUintBig(3),bits:e.loadVarUintBig(3),publicCells:e.loadVarUintBig(3)}},t.storeStorageUsed=function(e){return t=>{t.storeVarUint(e.cells,3),t.storeVarUint(e.bits,3),t.storeVarUint(e.publicCells,3)}}},2319:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeStorageUsedShort=t.loadStorageUsedShort=void 0,t.loadStorageUsedShort=function(e){return{cells:e.loadVarUintBig(3),bits:e.loadVarUintBig(3)}},t.storeStorageUsedShort=function(e){return t=>{t.storeVarUint(e.cells,3),t.storeVarUint(e.bits,3)}}},287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeTickTock=t.loadTickTock=void 0,t.loadTickTock=function(e){return{tick:e.loadBit(),tock:e.loadBit()}},t.storeTickTock=function(e){return t=>{t.storeBit(e.tick),t.storeBit(e.tock)}}},1961:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeTransaction=t.loadTransaction=void 0;const r=n(199),o=n(3150),i=n(2308),s=n(6438),a=n(8844),c=n(4730),l=n(9871);t.loadTransaction=function(e){let t=e.asCell();if(7!==e.loadUint(4))throw Error("Invalid data");let n=e.loadUintBig(256),r=e.loadUintBig(64),d=e.loadUintBig(256),u=e.loadUintBig(64),h=e.loadUint(32),f=e.loadUint(15),g=(0,i.loadAccountStatus)(e),p=(0,i.loadAccountStatus)(e),m=e.loadRef().beginParse(),y=m.loadBit()?(0,c.loadMessage)(m.loadRef().beginParse()):void 0,v=m.loadDict(o.Dictionary.Keys.Uint(15),c.MessageValue);return m.endParse(),{address:n,lt:r,prevTransactionHash:d,prevTransactionLt:u,now:h,outMessagesCount:f,oldStatus:g,endStatus:p,inMessage:y,outMessages:v,totalFees:(0,s.loadCurrencyCollection)(e),stateUpdate:(0,a.loadHashUpdate)(e.loadRef().beginParse()),description:(0,l.loadTransactionDescription)(e.loadRef().beginParse()),raw:t,hash:()=>t.hash()}},t.storeTransaction=function(e){return t=>{t.storeUint(7,4),t.storeUint(e.address,256),t.storeUint(e.lt,64),t.storeUint(e.prevTransactionHash,256),t.storeUint(e.prevTransactionLt,64),t.storeUint(e.now,32),t.storeUint(e.outMessagesCount,15),t.store((0,i.storeAccountStatus)(e.oldStatus)),t.store((0,i.storeAccountStatus)(e.endStatus));let n=(0,r.beginCell)();e.inMessage?(n.storeBit(!0),n.storeRef((0,r.beginCell)().store((0,c.storeMessage)(e.inMessage)))):n.storeBit(!1),n.storeDict(e.outMessages),t.storeRef(n),t.store((0,s.storeCurrencyCollection)(e.totalFees)),t.storeRef((0,r.beginCell)().store((0,a.storeHashUpdate)(e.stateUpdate))),t.storeRef((0,r.beginCell)().store((0,l.storeTransactionDescription)(e.description)))}}},8888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeTransactionActionPhase=t.loadTransactionActionPhase=void 0;const r=n(1024),o=n(2319);t.loadTransactionActionPhase=function(e){return{success:e.loadBit(),valid:e.loadBit(),noFunds:e.loadBit(),statusChange:(0,r.loadAccountStatusChange)(e),totalFwdFees:e.loadBit()?e.loadCoins():void 0,totalActionFees:e.loadBit()?e.loadCoins():void 0,resultCode:e.loadInt(32),resultArg:e.loadBit()?e.loadInt(32):void 0,totalActions:e.loadUint(16),specActions:e.loadUint(16),skippedActions:e.loadUint(16),messagesCreated:e.loadUint(16),actionListHash:e.loadUintBig(256),totalMessageSize:(0,o.loadStorageUsedShort)(e)}},t.storeTransactionActionPhase=function(e){return t=>{t.storeBit(e.success),t.storeBit(e.valid),t.storeBit(e.noFunds),t.store((0,r.storeAccountStatusChange)(e.statusChange)),t.storeMaybeCoins(e.totalFwdFees),t.storeMaybeCoins(e.totalActionFees),t.storeInt(e.resultCode,32),t.storeMaybeInt(e.resultArg,32),t.storeUint(e.totalActions,16),t.storeUint(e.specActions,16),t.storeUint(e.skippedActions,16),t.storeUint(e.messagesCreated,16),t.storeUint(e.actionListHash,256),t.store((0,o.storeStorageUsedShort)(e.totalMessageSize))}}},294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeTransactionBouncePhase=t.loadTransactionBouncePhase=void 0;const r=n(2319);t.loadTransactionBouncePhase=function(e){return e.loadBit()?{type:"ok",messageSize:(0,r.loadStorageUsedShort)(e),messageFees:e.loadCoins(),forwardFees:e.loadCoins()}:e.loadBit()?{type:"no-funds",messageSize:(0,r.loadStorageUsedShort)(e),requiredForwardFees:e.loadCoins()}:{type:"negative-funds"}},t.storeTransactionBouncePhase=function(e){return t=>{if("ok"===e.type)t.storeBit(!0),t.store((0,r.storeStorageUsedShort)(e.messageSize)),t.storeCoins(e.messageFees),t.storeCoins(e.forwardFees);else if("negative-funds"===e.type)t.storeBit(!1),t.storeBit(!1);else{if("no-funds"!==e.type)throw new Error("Invalid TransactionBouncePhase type");t.storeBit(!1),t.storeBit(!0),t.store((0,r.storeStorageUsedShort)(e.messageSize)),t.storeCoins(e.requiredForwardFees)}}}},2233:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeTransactionComputePhase=t.loadTransactionComputePhase=void 0;const r=n(199),o=n(6231);t.loadTransactionComputePhase=function(e){if(!e.loadBit())return{type:"skipped",reason:(0,o.loadComputeSkipReason)(e)};let t=e.loadBit(),n=e.loadBit(),r=e.loadBit(),i=e.loadCoins();const s=e.loadRef().beginParse();return{type:"vm",success:t,messageStateUsed:n,accountActivated:r,gasFees:i,gasUsed:s.loadVarUintBig(3),gasLimit:s.loadVarUintBig(3),gasCredit:s.loadBit()?s.loadVarUintBig(2):void 0,mode:s.loadUint(8),exitCode:s.loadInt(32),exitArg:s.loadBit()?s.loadInt(32):void 0,vmSteps:s.loadUint(32),vmInitStateHash:s.loadUintBig(256),vmFinalStateHash:s.loadUintBig(256)}},t.storeTransactionComputePhase=function(e){return t=>{if("skipped"===e.type)return t.storeBit(0),void t.store((0,o.storeComputeSkipReason)(e.reason));t.storeBit(1),t.storeBit(e.success),t.storeBit(e.messageStateUsed),t.storeBit(e.accountActivated),t.storeCoins(e.gasFees),t.storeRef((0,r.beginCell)().storeVarUint(e.gasUsed,3).storeVarUint(e.gasLimit,3).store((t=>void 0!==e.gasCredit&&null!==e.gasCredit?t.storeBit(1).storeVarUint(e.gasCredit,2):t.storeBit(0))).storeUint(e.mode,8).storeInt(e.exitCode,32).store((t=>void 0!==e.exitArg&&null!==e.exitArg?t.storeBit(1).storeInt(e.exitArg,32):t.storeBit(0))).storeUint(e.vmSteps,32).storeUint(e.vmInitStateHash,256).storeUint(e.vmFinalStateHash,256).endCell())}}},1777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeTransactionCreditPhase=t.loadTransactionCreditPhase=void 0;const r=n(6438);t.loadTransactionCreditPhase=function(e){return{dueFeesColelcted:e.loadBit()?e.loadCoins():void 0,credit:(0,r.loadCurrencyCollection)(e)}},t.storeTransactionCreditPhase=function(e){return t=>{null===e.dueFeesColelcted||void 0===e.dueFeesColelcted?t.storeBit(!1):(t.storeBit(!0),t.storeCoins(e.dueFeesColelcted)),t.store((0,r.storeCurrencyCollection)(e.credit))}}},9871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeTransactionDescription=t.loadTransactionDescription=void 0;const r=n(199),o=n(6701),i=n(1961),s=n(8888),a=n(294),c=n(2233),l=n(1777),d=n(3433);t.loadTransactionDescription=function(e){let t=e.loadUint(4);if(0===t){const t=e.loadBit();let n,r;e.loadBit()&&(n=(0,d.loadTransactionStoragePhase)(e)),e.loadBit()&&(r=(0,l.loadTransactionCreditPhase)(e));let o,i=(0,c.loadTransactionComputePhase)(e);e.loadBit()&&(o=(0,s.loadTransactionActionPhase)(e.loadRef().beginParse()));let u,h=e.loadBit();return e.loadBit()&&(u=(0,a.loadTransactionBouncePhase)(e)),{type:"generic",creditFirst:t,storagePhase:n,creditPhase:r,computePhase:i,actionPhase:o,bouncePhase:u,aborted:h,destroyed:e.loadBit()}}if(1===t)return{type:"storage",storagePhase:(0,d.loadTransactionStoragePhase)(e)};if(2===t||3===t){const n=3===t;let r,o=(0,d.loadTransactionStoragePhase)(e),i=(0,c.loadTransactionComputePhase)(e);return e.loadBit()&&(r=(0,s.loadTransactionActionPhase)(e.loadRef().beginParse())),{type:"tick-tock",isTock:n,storagePhase:o,computePhase:i,actionPhase:r,aborted:e.loadBit(),destroyed:e.loadBit()}}if(4===t){let t,n=(0,o.loadSplitMergeInfo)(e);e.loadBit()&&(t=(0,d.loadTransactionStoragePhase)(e));let r,i=(0,c.loadTransactionComputePhase)(e);return e.loadBit()&&(r=(0,s.loadTransactionActionPhase)(e.loadRef().beginParse())),{type:"split-prepare",splitInfo:n,storagePhase:t,computePhase:i,actionPhase:r,aborted:e.loadBit(),destroyed:e.loadBit()}}if(5===t)return{type:"split-install",splitInfo:(0,o.loadSplitMergeInfo)(e),prepareTransaction:(0,i.loadTransaction)(e.loadRef().beginParse()),installed:e.loadBit()};throw Error(`Unsupported transaction description type ${t}`)},t.storeTransactionDescription=function(e){return t=>{if("generic"===e.type)t.storeUint(0,4),t.storeBit(e.creditFirst),e.storagePhase?(t.storeBit(!0),t.store((0,d.storeTransactionsStoragePhase)(e.storagePhase))):t.storeBit(!1),e.creditPhase?(t.storeBit(!0),t.store((0,l.storeTransactionCreditPhase)(e.creditPhase))):t.storeBit(!1),t.store((0,c.storeTransactionComputePhase)(e.computePhase)),e.actionPhase?(t.storeBit(!0),t.storeRef((0,r.beginCell)().store((0,s.storeTransactionActionPhase)(e.actionPhase)))):t.storeBit(!1),t.storeBit(e.aborted),e.bouncePhase?(t.storeBit(!0),t.store((0,a.storeTransactionBouncePhase)(e.bouncePhase))):t.storeBit(!1),t.storeBit(e.destroyed);else if("storage"===e.type)t.storeUint(1,4),t.store((0,d.storeTransactionsStoragePhase)(e.storagePhase));else if("tick-tock"===e.type)t.storeUint(e.isTock?3:2,4),t.store((0,d.storeTransactionsStoragePhase)(e.storagePhase)),t.store((0,c.storeTransactionComputePhase)(e.computePhase)),e.actionPhase?(t.storeBit(!0),t.storeRef((0,r.beginCell)().store((0,s.storeTransactionActionPhase)(e.actionPhase)))):t.storeBit(!1),t.storeBit(e.aborted),t.storeBit(e.destroyed);else if("split-prepare"===e.type)t.storeUint(4,4),t.store((0,o.storeSplitMergeInfo)(e.splitInfo)),e.storagePhase?(t.storeBit(!0),t.store((0,d.storeTransactionsStoragePhase)(e.storagePhase))):t.storeBit(!1),t.store((0,c.storeTransactionComputePhase)(e.computePhase)),e.actionPhase?(t.storeBit(!0),t.store((0,s.storeTransactionActionPhase)(e.actionPhase))):t.storeBit(!1),t.storeBit(e.aborted),t.storeBit(e.destroyed);else{if("split-install"!==e.type)throw Error(`Unsupported transaction description type ${e.type}`);t.storeUint(5,4),t.store((0,o.storeSplitMergeInfo)(e.splitInfo)),t.storeRef((0,r.beginCell)().store((0,i.storeTransaction)(e.prepareTransaction))),t.storeBit(e.installed)}}}},3433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeTransactionsStoragePhase=t.loadTransactionStoragePhase=void 0;const r=n(1024);t.loadTransactionStoragePhase=function(e){const t=e.loadCoins();let n;return e.loadBit()&&(n=e.loadCoins()),{storageFeesCollected:t,storageFeesDue:n,statusChange:(0,r.loadAccountStatusChange)(e)}},t.storeTransactionsStoragePhase=function(e){return t=>{t.storeCoins(e.storageFeesCollected),null===e.storageFeesDue||void 0===e.storageFeesDue?t.storeBit(!1):(t.storeBit(!0),t.storeCoins(e.storageFeesDue)),t.store((0,r.storeAccountStatusChange)(e.statusChange))}}},7470:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadStorageInfo=t.storeStateInit=t.loadStateInit=t.storeSplitMergeInfo=t.loadSplitMergeInfo=t.storeSimpleLibrary=t.loadSimpleLibrary=t.loadShardStateUnsplit=t.storeShardIdent=t.loadShardIdent=t.storeShardAccounts=t.loadShardAccounts=t.ShardAccountRefValue=t.storeShardAccount=t.loadShardAccount=t.SendMode=t.storeMessageRelaxed=t.loadMessageRelaxed=t.storeMessage=t.loadMessage=t.loadMasterchainStateExtra=t.storeHashUpdate=t.loadHashUpdate=t.storeDepthBalanceInfo=t.loadDepthBalanceInfo=t.storeCurrencyCollection=t.loadCurrencyCollection=t.storeComputeSkipReason=t.loadComputeSkipReason=t.storeCommonMessageInfoRelaxed=t.loadCommonMessageInfoRelaxed=t.storeCommonMessageInfo=t.loadCommonMessageInfo=t.storeOutList=t.loadOutList=t.storeOutAction=t.loadOutAction=t.storeAccountStorage=t.loadAccountStorage=t.storeAccountStatusChange=t.loadAccountStatusChange=t.storeAccountStatus=t.loadAccountStatus=t.storeAccountState=t.loadAccountState=t.storeAccount=t.loadAccount=t.comment=t.external=t.internal=void 0,t.storeTransactionsStoragePhase=t.loadTransactionStoragePhase=t.storeTransactionDescription=t.loadTransactionDescription=t.storeTransactionCreditPhase=t.loadTransactionCreditPhase=t.storeTransactionComputePhase=t.loadTransactionComputePhase=t.storeTransactionBouncePhase=t.loadTransactionBouncePhase=t.storeTransactionActionPhase=t.loadTransactionActionPhase=t.storeTransaction=t.loadTransaction=t.storeTickTock=t.loadTickTock=t.storeStorageUsedShort=t.loadStorageUsedShort=t.storeStorageUsed=t.loadStorageUsed=t.storeStorageInfo=void 0;var r=n(3247);Object.defineProperty(t,"internal",{enumerable:!0,get:function(){return r.internal}}),Object.defineProperty(t,"external",{enumerable:!0,get:function(){return r.external}}),Object.defineProperty(t,"comment",{enumerable:!0,get:function(){return r.comment}});var o=n(278);Object.defineProperty(t,"loadAccount",{enumerable:!0,get:function(){return o.loadAccount}}),Object.defineProperty(t,"storeAccount",{enumerable:!0,get:function(){return o.storeAccount}});var i=n(1553);Object.defineProperty(t,"loadAccountState",{enumerable:!0,get:function(){return i.loadAccountState}}),Object.defineProperty(t,"storeAccountState",{enumerable:!0,get:function(){return i.storeAccountState}});var s=n(2308);Object.defineProperty(t,"loadAccountStatus",{enumerable:!0,get:function(){return s.loadAccountStatus}}),Object.defineProperty(t,"storeAccountStatus",{enumerable:!0,get:function(){return s.storeAccountStatus}});var a=n(1024);Object.defineProperty(t,"loadAccountStatusChange",{enumerable:!0,get:function(){return a.loadAccountStatusChange}}),Object.defineProperty(t,"storeAccountStatusChange",{enumerable:!0,get:function(){return a.storeAccountStatusChange}});var c=n(1897);Object.defineProperty(t,"loadAccountStorage",{enumerable:!0,get:function(){return c.loadAccountStorage}}),Object.defineProperty(t,"storeAccountStorage",{enumerable:!0,get:function(){return c.storeAccountStorage}});var l=n(6869);Object.defineProperty(t,"loadOutAction",{enumerable:!0,get:function(){return l.loadOutAction}}),Object.defineProperty(t,"storeOutAction",{enumerable:!0,get:function(){return l.storeOutAction}}),Object.defineProperty(t,"loadOutList",{enumerable:!0,get:function(){return l.loadOutList}}),Object.defineProperty(t,"storeOutList",{enumerable:!0,get:function(){return l.storeOutList}});var d=n(9189);Object.defineProperty(t,"loadCommonMessageInfo",{enumerable:!0,get:function(){return d.loadCommonMessageInfo}}),Object.defineProperty(t,"storeCommonMessageInfo",{enumerable:!0,get:function(){return d.storeCommonMessageInfo}});var u=n(7458);Object.defineProperty(t,"loadCommonMessageInfoRelaxed",{enumerable:!0,get:function(){return u.loadCommonMessageInfoRelaxed}}),Object.defineProperty(t,"storeCommonMessageInfoRelaxed",{enumerable:!0,get:function(){return u.storeCommonMessageInfoRelaxed}});var h=n(6231);Object.defineProperty(t,"loadComputeSkipReason",{enumerable:!0,get:function(){return h.loadComputeSkipReason}}),Object.defineProperty(t,"storeComputeSkipReason",{enumerable:!0,get:function(){return h.storeComputeSkipReason}});var f=n(6438);Object.defineProperty(t,"loadCurrencyCollection",{enumerable:!0,get:function(){return f.loadCurrencyCollection}}),Object.defineProperty(t,"storeCurrencyCollection",{enumerable:!0,get:function(){return f.storeCurrencyCollection}});var g=n(8962);Object.defineProperty(t,"loadDepthBalanceInfo",{enumerable:!0,get:function(){return g.loadDepthBalanceInfo}}),Object.defineProperty(t,"storeDepthBalanceInfo",{enumerable:!0,get:function(){return g.storeDepthBalanceInfo}});var p=n(8844);Object.defineProperty(t,"loadHashUpdate",{enumerable:!0,get:function(){return p.loadHashUpdate}}),Object.defineProperty(t,"storeHashUpdate",{enumerable:!0,get:function(){return p.storeHashUpdate}});var m=n(599);Object.defineProperty(t,"loadMasterchainStateExtra",{enumerable:!0,get:function(){return m.loadMasterchainStateExtra}});var y=n(4730);Object.defineProperty(t,"loadMessage",{enumerable:!0,get:function(){return y.loadMessage}}),Object.defineProperty(t,"storeMessage",{enumerable:!0,get:function(){return y.storeMessage}});var v=n(5399);Object.defineProperty(t,"loadMessageRelaxed",{enumerable:!0,get:function(){return v.loadMessageRelaxed}}),Object.defineProperty(t,"storeMessageRelaxed",{enumerable:!0,get:function(){return v.storeMessageRelaxed}});var b=n(8304);Object.defineProperty(t,"SendMode",{enumerable:!0,get:function(){return b.SendMode}});var C=n(5434);Object.defineProperty(t,"loadShardAccount",{enumerable:!0,get:function(){return C.loadShardAccount}}),Object.defineProperty(t,"storeShardAccount",{enumerable:!0,get:function(){return C.storeShardAccount}});var w=n(9385);Object.defineProperty(t,"ShardAccountRefValue",{enumerable:!0,get:function(){return w.ShardAccountRefValue}}),Object.defineProperty(t,"loadShardAccounts",{enumerable:!0,get:function(){return w.loadShardAccounts}}),Object.defineProperty(t,"storeShardAccounts",{enumerable:!0,get:function(){return w.storeShardAccounts}});var _=n(9487);Object.defineProperty(t,"loadShardIdent",{enumerable:!0,get:function(){return _.loadShardIdent}}),Object.defineProperty(t,"storeShardIdent",{enumerable:!0,get:function(){return _.storeShardIdent}});var O=n(3571);Object.defineProperty(t,"loadShardStateUnsplit",{enumerable:!0,get:function(){return O.loadShardStateUnsplit}});var E=n(4520);Object.defineProperty(t,"loadSimpleLibrary",{enumerable:!0,get:function(){return E.loadSimpleLibrary}}),Object.defineProperty(t,"storeSimpleLibrary",{enumerable:!0,get:function(){return E.storeSimpleLibrary}});var S=n(6701);Object.defineProperty(t,"loadSplitMergeInfo",{enumerable:!0,get:function(){return S.loadSplitMergeInfo}}),Object.defineProperty(t,"storeSplitMergeInfo",{enumerable:!0,get:function(){return S.storeSplitMergeInfo}});var N=n(5002);Object.defineProperty(t,"loadStateInit",{enumerable:!0,get:function(){return N.loadStateInit}}),Object.defineProperty(t,"storeStateInit",{enumerable:!0,get:function(){return N.storeStateInit}});var T=n(9926);Object.defineProperty(t,"loadStorageInfo",{enumerable:!0,get:function(){return T.loadStorageInfo}}),Object.defineProperty(t,"storeStorageInfo",{enumerable:!0,get:function(){return T.storeStorageInfo}});var R=n(345);Object.defineProperty(t,"loadStorageUsed",{enumerable:!0,get:function(){return R.loadStorageUsed}}),Object.defineProperty(t,"storeStorageUsed",{enumerable:!0,get:function(){return R.storeStorageUsed}});var k=n(2319);Object.defineProperty(t,"loadStorageUsedShort",{enumerable:!0,get:function(){return k.loadStorageUsedShort}}),Object.defineProperty(t,"storeStorageUsedShort",{enumerable:!0,get:function(){return k.storeStorageUsedShort}});var P=n(287);Object.defineProperty(t,"loadTickTock",{enumerable:!0,get:function(){return P.loadTickTock}}),Object.defineProperty(t,"storeTickTock",{enumerable:!0,get:function(){return P.storeTickTock}});var A=n(1961);Object.defineProperty(t,"loadTransaction",{enumerable:!0,get:function(){return A.loadTransaction}}),Object.defineProperty(t,"storeTransaction",{enumerable:!0,get:function(){return A.storeTransaction}});var I=n(8888);Object.defineProperty(t,"loadTransactionActionPhase",{enumerable:!0,get:function(){return I.loadTransactionActionPhase}}),Object.defineProperty(t,"storeTransactionActionPhase",{enumerable:!0,get:function(){return I.storeTransactionActionPhase}});var D=n(294);Object.defineProperty(t,"loadTransactionBouncePhase",{enumerable:!0,get:function(){return D.loadTransactionBouncePhase}}),Object.defineProperty(t,"storeTransactionBouncePhase",{enumerable:!0,get:function(){return D.storeTransactionBouncePhase}});var x=n(2233);Object.defineProperty(t,"loadTransactionComputePhase",{enumerable:!0,get:function(){return x.loadTransactionComputePhase}}),Object.defineProperty(t,"storeTransactionComputePhase",{enumerable:!0,get:function(){return x.storeTransactionComputePhase}});var M=n(1777);Object.defineProperty(t,"loadTransactionCreditPhase",{enumerable:!0,get:function(){return M.loadTransactionCreditPhase}}),Object.defineProperty(t,"storeTransactionCreditPhase",{enumerable:!0,get:function(){return M.storeTransactionCreditPhase}});var K=n(9871);Object.defineProperty(t,"loadTransactionDescription",{enumerable:!0,get:function(){return K.loadTransactionDescription}}),Object.defineProperty(t,"storeTransactionDescription",{enumerable:!0,get:function(){return K.storeTransactionDescription}});var U=n(3433);Object.defineProperty(t,"loadTransactionStoragePhase",{enumerable:!0,get:function(){return U.loadTransactionStoragePhase}}),Object.defineProperty(t,"storeTransactionsStoragePhase",{enumerable:!0,get:function(){return U.storeTransactionsStoragePhase}})},3247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.comment=t.external=t.internal=void 0;const r=n(6016),o=n(2622),i=n(199),s=n(7030);t.internal=function(e){let t,n,a=!0;if(null!==e.bounce&&void 0!==e.bounce&&(a=e.bounce),"string"==typeof e.to)t=r.Address.parse(e.to);else{if(!r.Address.isAddress(e.to))throw new Error(`Invalid address ${e.to}`);t=e.to}n="string"==typeof e.value?(0,s.toNano)(e.value):e.value;let c=o.Cell.EMPTY;return"string"==typeof e.body?c=(0,i.beginCell)().storeUint(0,32).storeStringTail(e.body).endCell():e.body&&(c=e.body),{info:{type:"internal",dest:t,value:{coins:n},bounce:a,ihrDisabled:!0,bounced:!1,ihrFee:0n,forwardFee:0n,createdAt:0,createdLt:0n},init:e.init?{code:e.init.code,data:e.init.data}:void 0,body:c}},t.external=function(e){let t;if("string"==typeof e.to)t=r.Address.parse(e.to);else{if(!r.Address.isAddress(e.to))throw new Error(`Invalid address ${e.to}`);t=e.to}return{info:{type:"external-in",dest:t,importFee:0n},init:e.init?{code:e.init.code,data:e.init.data}:void 0,body:e.body||o.Cell.EMPTY}},t.comment=function(e){return(0,i.beginCell)().storeUint(0,32).storeStringTail(e).endCell()}},145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base32Decode=t.base32Encode=void 0;const n="abcdefghijklmnopqrstuvwxyz234567";function r(e,t){const n=e.indexOf(t);if(-1===n)throw new Error("Invalid character found: "+t);return n}t.base32Encode=function(e){const t=e.byteLength;let r=0,o=0,i="";for(let s=0;s<t;s++)for(o=o<<8|e[s],r+=8;r>=5;)i+=n[o>>>r-5&31],r-=5;return r>0&&(i+=n[o<<5-r&31]),i},t.base32Decode=function(e){let t;t=e.toLowerCase();const{length:o}=t;let i=0,s=0,a=0;const c=Buffer.alloc(5*o/8|0);for(let e=0;e<o;e++)s=s<<5|r(n,t[e]),i+=5,i>=8&&(c[a++]=s>>>i-8&255,i-=8);return c}},583:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitsForNumber=void 0,t.bitsForNumber=function(e,t){let n=BigInt(e);if("int"===t)return 0n===n||-1n===n?1:(n>0?n:-n).toString(2).length+1;if("uint"===t){if(n<0)throw Error(`value is negative. Got ${e}`);return n.toString(2).length}throw Error(`invalid mode. Got ${t}`)}},7030:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromNano=t.toNano=void 0,t.toNano=function(e){if("bigint"==typeof e)return 1000000000n*e;{if("number"==typeof e){if(!Number.isFinite(e))throw Error("Invalid number");if(Math.log10(e)<=6)e=e.toLocaleString("en",{minimumFractionDigits:9,useGrouping:!1});else{if(e-Math.trunc(e)!=0)throw Error("Not enough precision for a number value. Use string value instead");e=e.toLocaleString("en",{maximumFractionDigits:0,useGrouping:!1})}}let t=!1;for(;e.startsWith("-");)t=!t,e=e.slice(1);if("."===e)throw Error("Invalid number");let n=e.split(".");if(n.length>2)throw Error("Invalid number");let r=n[0],o=n[1];if(r||(r="0"),o||(o="0"),o.length>9)throw Error("Invalid number");for(;o.length<9;)o+="0";let i=1000000000n*BigInt(r)+BigInt(o);return t&&(i=-i),i}},t.fromNano=function(e){let t=BigInt(e),n=!1;t<0&&(n=!0,t=-t);let r=(t%1000000000n).toString();for(;r.length<9;)r="0"+r;r=r.match(/^([0-9]*[1-9]|0)(0*)/)[1];let o=`${(t/1000000000n).toString()}${"0"===r?"":`.${r}`}`;return n&&(o="-"+o),o}},3336:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crc16=void 0,t.crc16=function(e){let t=0;const n=Buffer.alloc(e.length+2);n.set(e);for(let e of n){let n=128;for(;n>0;)t<<=1,e&n&&(t+=1),n>>=1,t>65535&&(t&=65535,t^=4129)}return Buffer.from([Math.floor(t/256),t%256])}},9917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crc32c=void 0;const n=2197175160;t.crc32c=function(e){let t=-1;for(let r=0;r<e.length;r++)t^=e[r],t=1&t?t>>>1^n:t>>>1,t=1&t?t>>>1^n:t>>>1,t=1&t?t>>>1^n:t>>>1,t=1&t?t>>>1^n:t>>>1,t=1&t?t>>>1^n:t>>>1,t=1&t?t>>>1^n:t>>>1,t=1&t?t>>>1^n:t>>>1,t=1&t?t>>>1^n:t>>>1;t^=4294967295;let r=Buffer.alloc(4);return r.writeInt32LE(t),r}},5509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMethodId=void 0;const n=new Int16Array([0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920]);t.getMethodId=function(e){return 65535&function(e){e instanceof Buffer||(e=Buffer.from(e));let t=0;for(let r=0;r<e.length;r++){const o=e[r];t=65535&(n[255&(t>>8^o)]^t<<8)}return t}(e)|65536}},8077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha512=t.sha256=t.pbkdf2_sha512=t.hmac_sha512=t.getSecureRandomWords=t.getSecureRandomBytes=void 0;var r=n(7643);Object.defineProperty(t,"getSecureRandomBytes",{enumerable:!0,get:function(){return r.getSecureRandomBytes}}),Object.defineProperty(t,"getSecureRandomWords",{enumerable:!0,get:function(){return r.getSecureRandomWords}});var o=n(1703);Object.defineProperty(t,"hmac_sha512",{enumerable:!0,get:function(){return o.hmac_sha512}});var i=n(5233);Object.defineProperty(t,"pbkdf2_sha512",{enumerable:!0,get:function(){return i.pbkdf2_sha512}});var s=n(5625);Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return s.sha256}});var a=n(6951);Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return a.sha512}})},7643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSecureRandomWords=t.getSecureRandomBytes=void 0,t.getSecureRandomBytes=function(e){return Buffer.from(window.crypto.getRandomValues(new Uint8Array(e)))},t.getSecureRandomWords=function(e){return window.crypto.getRandomValues(new Uint16Array(e))}},1703:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac_sha512=void 0,t.hmac_sha512=async function(e,t){let n="string"==typeof e?Buffer.from(e,"utf-8"):e,r="string"==typeof t?Buffer.from(t,"utf-8"):t;const o={name:"HMAC",hash:"SHA-512"},i=await window.crypto.subtle.importKey("raw",n,o,!1,["sign"]);return Buffer.from(await crypto.subtle.sign(o,i,r))}},5233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2_sha512=void 0,t.pbkdf2_sha512=async function(e,t,n,r){const o="string"==typeof e?Buffer.from(e,"utf-8"):e,i="string"==typeof t?Buffer.from(t,"utf-8"):t,s=await window.crypto.subtle.importKey("raw",o,{name:"PBKDF2"},!1,["deriveBits"]),a=await window.crypto.subtle.deriveBits({name:"PBKDF2",hash:"SHA-512",salt:i,iterations:n},s,8*r);return Buffer.from(a)}},5625:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha256=void 0,t.sha256=async function(e){return"string"==typeof e?Buffer.from(await crypto.subtle.digest("SHA-256",Buffer.from(e,"utf-8"))):Buffer.from(await crypto.subtle.digest("SHA-256",e))}},6951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha512=void 0,t.sha512=async function(e){return"string"==typeof e?Buffer.from(await crypto.subtle.digest("SHA-512",Buffer.from(e,"utf-8"))):Buffer.from(await crypto.subtle.digest("SHA-512",e))}},8127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deriveEd25519Path=t.deriveED25519HardenedKey=t.getED25519MasterKeyFromSeed=void 0;const r=n(9118),o=2147483648;async function i(e){const t=await(0,r.hmac_sha512)("ed25519 seed",e);return{key:t.slice(0,32),chainCode:t.slice(32)}}async function s(e,t){if(t>=o)throw Error("Key index must be less than offset");const n=Buffer.alloc(4);n.writeUInt32BE(t+o,0);const i=Buffer.concat([Buffer.alloc(1,0),e.key,n]),s=await(0,r.hmac_sha512)(e.chainCode,i);return{key:s.slice(0,32),chainCode:s.slice(32)}}t.getED25519MasterKeyFromSeed=i,t.deriveED25519HardenedKey=s,t.deriveEd25519Path=async function(e,t){let n=await i(e),r=[...t];for(;r.length>0;){let e=r[0];r=r.slice(1),n=await s(n,e)}return n.key}},6711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deriveMnemonicsPath=t.deriveMnemonicHardenedKey=t.getMnemonicsMasterKeyFromSeed=void 0;const r=n(5404),o=n(9118),i=2147483648;async function s(e){const t=await(0,o.hmac_sha512)("TON Mnemonics HD seed",e);return{key:t.slice(0,32),chainCode:t.slice(32)}}async function a(e,t){if(t>=i)throw Error("Key index must be less than offset");const n=Buffer.alloc(4);n.writeUInt32BE(t+i,0);const r=Buffer.concat([Buffer.alloc(1,0),e.key,n]),s=await(0,o.hmac_sha512)(e.chainCode,r);return{key:s.slice(0,32),chainCode:s.slice(32)}}t.getMnemonicsMasterKeyFromSeed=s,t.deriveMnemonicHardenedKey=a,t.deriveMnemonicsPath=async function(e,t,n=24,o){let i=await s(e),c=[...t];for(;c.length>0;){let e=c[0];c=c.slice(1),i=await a(i,e)}return await(0,r.mnemonicFromRandomSeed)(i.key,n,o)}},3853:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deriveSymmetricPath=t.deriveSymmetricHardenedKey=t.getSymmetricMasterKeyFromSeed=void 0;const r=n(9118);async function o(e){const t=await(0,r.hmac_sha512)("Symmetric key seed",e);return{key:t.slice(32),chainCode:t.slice(0,32)}}async function i(e,t){const n=Buffer.concat([Buffer.alloc(1,0),Buffer.from(t)]),o=await(0,r.hmac_sha512)(e.chainCode,n);return{key:o.slice(32),chainCode:o.slice(0,32)}}t.getSymmetricMasterKeyFromSeed=o,t.deriveSymmetricHardenedKey=i,t.deriveSymmetricPath=async function(e,t){let n=await o(e),r=[...t];for(;r.length>0;){let e=r[0];r=r.slice(1),n=await i(n,e)}return n.key}},1533:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMnemonicsMasterKeyFromSeed=t.deriveMnemonicHardenedKey=t.deriveMnemonicsPath=t.deriveSymmetricPath=t.deriveSymmetricHardenedKey=t.getSymmetricMasterKeyFromSeed=t.deriveEd25519Path=t.deriveED25519HardenedKey=t.getED25519MasterKeyFromSeed=t.signVerify=t.sign=t.keyPairFromSecretKey=t.keyPairFromSeed=t.openBox=t.sealBox=t.mnemonicWordList=t.mnemonicToHDSeed=t.mnemonicToSeed=t.mnemonicToWalletKey=t.mnemonicToPrivateKey=t.mnemonicValidate=t.mnemonicNew=t.newSecurePassphrase=t.newSecureWords=t.getSecureRandomNumber=t.getSecureRandomWords=t.getSecureRandomBytes=t.hmac_sha512=t.pbkdf2_sha512=t.sha512_sync=t.sha512=t.sha256_sync=t.sha256=void 0;var r=n(2221);Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return r.sha256}}),Object.defineProperty(t,"sha256_sync",{enumerable:!0,get:function(){return r.sha256_sync}});var o=n(6920);Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return o.sha512}}),Object.defineProperty(t,"sha512_sync",{enumerable:!0,get:function(){return o.sha512_sync}});var i=n(1632);Object.defineProperty(t,"pbkdf2_sha512",{enumerable:!0,get:function(){return i.pbkdf2_sha512}});var s=n(9118);Object.defineProperty(t,"hmac_sha512",{enumerable:!0,get:function(){return s.hmac_sha512}});var a=n(1626);Object.defineProperty(t,"getSecureRandomBytes",{enumerable:!0,get:function(){return a.getSecureRandomBytes}}),Object.defineProperty(t,"getSecureRandomWords",{enumerable:!0,get:function(){return a.getSecureRandomWords}}),Object.defineProperty(t,"getSecureRandomNumber",{enumerable:!0,get:function(){return a.getSecureRandomNumber}});var c=n(454);Object.defineProperty(t,"newSecureWords",{enumerable:!0,get:function(){return c.newSecureWords}});var l=n(9503);Object.defineProperty(t,"newSecurePassphrase",{enumerable:!0,get:function(){return l.newSecurePassphrase}});var d=n(5404);Object.defineProperty(t,"mnemonicNew",{enumerable:!0,get:function(){return d.mnemonicNew}}),Object.defineProperty(t,"mnemonicValidate",{enumerable:!0,get:function(){return d.mnemonicValidate}}),Object.defineProperty(t,"mnemonicToPrivateKey",{enumerable:!0,get:function(){return d.mnemonicToPrivateKey}}),Object.defineProperty(t,"mnemonicToWalletKey",{enumerable:!0,get:function(){return d.mnemonicToWalletKey}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return d.mnemonicToSeed}}),Object.defineProperty(t,"mnemonicToHDSeed",{enumerable:!0,get:function(){return d.mnemonicToHDSeed}});var u=n(7596);Object.defineProperty(t,"mnemonicWordList",{enumerable:!0,get:function(){return u.wordlist}});var h=n(7100);Object.defineProperty(t,"sealBox",{enumerable:!0,get:function(){return h.sealBox}}),Object.defineProperty(t,"openBox",{enumerable:!0,get:function(){return h.openBox}});var f=n(7100);Object.defineProperty(t,"keyPairFromSeed",{enumerable:!0,get:function(){return f.keyPairFromSeed}}),Object.defineProperty(t,"keyPairFromSecretKey",{enumerable:!0,get:function(){return f.keyPairFromSecretKey}}),Object.defineProperty(t,"sign",{enumerable:!0,get:function(){return f.sign}}),Object.defineProperty(t,"signVerify",{enumerable:!0,get:function(){return f.signVerify}});var g=n(8127);Object.defineProperty(t,"getED25519MasterKeyFromSeed",{enumerable:!0,get:function(){return g.getED25519MasterKeyFromSeed}}),Object.defineProperty(t,"deriveED25519HardenedKey",{enumerable:!0,get:function(){return g.deriveED25519HardenedKey}}),Object.defineProperty(t,"deriveEd25519Path",{enumerable:!0,get:function(){return g.deriveEd25519Path}});var p=n(3853);Object.defineProperty(t,"getSymmetricMasterKeyFromSeed",{enumerable:!0,get:function(){return p.getSymmetricMasterKeyFromSeed}}),Object.defineProperty(t,"deriveSymmetricHardenedKey",{enumerable:!0,get:function(){return p.deriveSymmetricHardenedKey}}),Object.defineProperty(t,"deriveSymmetricPath",{enumerable:!0,get:function(){return p.deriveSymmetricPath}});var m=n(6711);Object.defineProperty(t,"deriveMnemonicsPath",{enumerable:!0,get:function(){return m.deriveMnemonicsPath}}),Object.defineProperty(t,"deriveMnemonicHardenedKey",{enumerable:!0,get:function(){return m.deriveMnemonicHardenedKey}}),Object.defineProperty(t,"getMnemonicsMasterKeyFromSeed",{enumerable:!0,get:function(){return m.getMnemonicsMasterKeyFromSeed}})},5404:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.mnemonicFromRandomSeed=t.mnemonicIndexesToBytes=t.bytesToMnemonics=t.bytesToMnemonicIndexes=t.mnemonicNew=t.mnemonicValidate=t.mnemonicToHDSeed=t.mnemonicToWalletKey=t.mnemonicToPrivateKey=t.mnemonicToSeed=t.mnemonicToEntropy=void 0;const o=r(n(8947)),i=n(1626),s=n(9118),a=n(1632),c=n(4322),l=n(7596);async function d(e){const t=await f(e);return await async function(e){return 1==(await(0,a.pbkdf2_sha512)(e,"TON fast seed version",1,64))[0]}(t)&&!await h(t)}function u(e){return e.map((e=>e.toLowerCase().trim()))}async function h(e){return 0==(await(0,a.pbkdf2_sha512)(e,"TON seed version",Math.max(1,Math.floor(390.625)),64))[0]}async function f(e,t){return await(0,s.hmac_sha512)(e.join(" "),t&&t.length>0?t:"")}async function g(e,t,n){const r=await f(e,n);return await(0,a.pbkdf2_sha512)(r,t,1e5,64)}async function p(e,t){e=u(e);const n=await g(e,"TON default seed",t);let r=o.default.sign.keyPair.fromSeed(n.slice(0,32));return{publicKey:Buffer.from(r.publicKey),secretKey:Buffer.from(r.secretKey)}}async function m(e,t){e=u(e);for(let t of e)if(l.wordlist.indexOf(t)<0)return!1;return!(t&&t.length>0&&!await d(e))&&await h(await f(e,t))}function y(e,t){let n=(0,c.bytesToBits)(e),r=[];for(let e=0;e<t;e++){let t=n.slice(11*e,11*e+11);r.push(parseInt(t,2))}return r}function v(e,t){let n=y(e,t),r=[];for(let e of n)r.push(l.wordlist[e]);return r}t.mnemonicToEntropy=f,t.mnemonicToSeed=g,t.mnemonicToPrivateKey=p,t.mnemonicToWalletKey=async function(e,t){let n=(await p(e,t)).secretKey.slice(0,32);const r=o.default.sign.keyPair.fromSeed(n);return{publicKey:Buffer.from(r.publicKey),secretKey:Buffer.from(r.secretKey)}},t.mnemonicToHDSeed=async function(e,t){return e=u(e),await g(e,"TON HD Keys seed",t)},t.mnemonicValidate=m,t.mnemonicNew=async function(e=24,t){let n=[];for(;;){n=[];for(let t=0;t<e;t++){let e=await(0,i.getSecureRandomNumber)(0,l.wordlist.length);n.push(l.wordlist[e])}if((!(t&&t.length>0)||await d(n))&&await h(await f(n,t)))break}return n},t.bytesToMnemonicIndexes=y,t.bytesToMnemonics=v,t.mnemonicIndexesToBytes=function(e){let t="";for(let n of e){if(!Number.isSafeInteger(n))throw Error("Invalid input");if(n<0||n>=2028)throw Error("Invalid input");t+=(0,c.lpad)(n.toString(2),"0",11)}for(;t.length%8!=0;)t+="0";return(0,c.bitsToBytes)(t)},t.mnemonicFromRandomSeed=async function(e,t=24,n){const r=Math.ceil(11*t/8);let o=e;for(;;){let e=await(0,a.pbkdf2_sha512)(o,"TON mnemonic seed",Math.max(1,Math.floor(390.625)),r),i=v(e,t);if(await m(i,n))return i;o=e}}},7596:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wordlist=void 0,t.wordlist=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]},9503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newSecurePassphrase=void 0;const r=n(1533);t.newSecurePassphrase=async function(e=6){return(await(0,r.newSecureWords)(e)).join("-")}},454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newSecureWords=void 0;const r=n(1626),o=n(1114);t.newSecureWords=async function(e=6){let t=[];for(let n=0;n<e;n++)t.push(o.wordlist[await(0,r.getSecureRandomNumber)(0,o.wordlist.length)]);return t}},1114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wordlist=void 0,t.wordlist=["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]},1626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSecureRandomNumber=t.getSecureRandomWords=t.getSecureRandomBytes=void 0;const r=n(8077);async function o(e){return(0,r.getSecureRandomBytes)(e)}t.getSecureRandomBytes=o,t.getSecureRandomWords=async function e(t){return e(t)},t.getSecureRandomNumber=async function(e,t){let n=t-e;var r=Math.ceil(Math.log2(n));if(r>53)throw new Error("Range is too large");for(var i=Math.ceil(r/8),s=Math.pow(2,r)-1;;){let t=await o(r),c=8*(i-1),l=0;for(var a=0;a<i;a++)l+=t[a]*Math.pow(2,c),c-=8;if(l&=s,!(l>=n))return e+l}}},9118:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hmac_sha512=t.hmac_sha512_fallback=void 0;const o=r(n(8343)),i=n(8077);t.hmac_sha512_fallback=async function(e,t){let n="string"==typeof e?Buffer.from(e,"utf-8"):e,r="string"==typeof t?Buffer.from(t,"utf-8"):t;const i=new o.default("SHA-512","HEX",{hmacKey:{value:n.toString("hex"),format:"HEX"}});i.update(r.toString("hex"));const s=i.getHash("HEX");return Buffer.from(s,"hex")},t.hmac_sha512=function(e,t){return(0,i.hmac_sha512)(e,t)}},7100:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.openBox=t.sealBox=t.signVerify=t.sign=t.keyPairFromSeed=t.keyPairFromSecretKey=void 0;const o=r(n(8947));t.keyPairFromSecretKey=function(e){let t=o.default.sign.keyPair.fromSecretKey(new Uint8Array(e));return{publicKey:Buffer.from(t.publicKey),secretKey:Buffer.from(t.secretKey)}},t.keyPairFromSeed=function(e){let t=o.default.sign.keyPair.fromSeed(new Uint8Array(e));return{publicKey:Buffer.from(t.publicKey),secretKey:Buffer.from(t.secretKey)}},t.sign=function(e,t){return Buffer.from(o.default.sign.detached(new Uint8Array(e),new Uint8Array(t)))},t.signVerify=function(e,t,n){return o.default.sign.detached.verify(new Uint8Array(e),new Uint8Array(t),new Uint8Array(n))},t.sealBox=function(e,t,n){return Buffer.from(o.default.secretbox(e,t,n))},t.openBox=function(e,t,n){let r=o.default.secretbox.open(e,t,n);return r?Buffer.from(r):null}},1632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2_sha512=void 0;const r=n(8077);t.pbkdf2_sha512=function(e,t,n,o){return(0,r.pbkdf2_sha512)(e,t,n,o)}},2221:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sha256=t.sha256_fallback=t.sha256_sync=void 0;const o=r(n(8343)),i=n(8077);function s(e){let t;t="string"==typeof e?Buffer.from(e,"utf-8").toString("hex"):e.toString("hex");let n=new o.default("SHA-256","HEX");n.update(t);let r=n.getHash("HEX");return Buffer.from(r,"hex")}t.sha256_sync=s,t.sha256_fallback=async function(e){return s(e)},t.sha256=function(e){return(0,i.sha256)(e)}},6920:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sha512=t.sha512_fallback=t.sha512_sync=void 0;const o=r(n(8343)),i=n(8077);function s(e){let t;t="string"==typeof e?Buffer.from(e,"utf-8").toString("hex"):e.toString("hex");let n=new o.default("SHA-512","HEX");n.update(t);let r=n.getHash("HEX");return Buffer.from(r,"hex")}t.sha512_sync=s,t.sha512_fallback=async function(e){return s(e)},t.sha512=async function(e){return(0,i.sha512)(e)}},4322:(e,t)=>{"use strict";function n(e,t,n){for(;e.length<n;)e=t+e;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.bitsToBytes=t.bytesToBits=t.lpad=void 0,t.lpad=n,t.bytesToBits=function(e){let t="";for(let r=0;r<e.length;r++)t+=n(e.at(r).toString(2),"0",8);return t},t.bitsToBytes=function(e){if(e.length%8!=0)throw Error("Uneven bits");let t=[];for(;e.length>0;)t.push(parseInt(e.slice(0,8),2)),e=e.slice(8);return Buffer.from(t)}},413:function(e,t,n){"use strict";var r,o=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.TonClient=void 0;const s=n(9024),a=n(8035);function c(e){switch(e["@type"]){case"tvm.stackEntryNumber":return{type:"int",value:BigInt(e.number.number)};case"tvm.stackEntryCell":return{type:"cell",cell:a.Cell.fromBase64(e.cell)};case"tvm.stackEntryTuple":return{type:"tuple",items:e.tuple.elements.map(c)};default:throw Error("Unsupported item type: "+e["@type"])}}function l(e){if("num"===e[0]){let t=e[1];return t.startsWith("-")?{type:"int",value:-BigInt(t.slice(1))}:{type:"int",value:BigInt(t)}}if("null"===e[0])return{type:"null"};if("cell"===e[0])return{type:"cell",cell:a.Cell.fromBoc(Buffer.from(e[1].bytes,"base64"))[0]};if("slice"===e[0])return{type:"slice",cell:a.Cell.fromBoc(Buffer.from(e[1].bytes,"base64"))[0]};if("builder"===e[0])return{type:"builder",cell:a.Cell.fromBoc(Buffer.from(e[1].bytes,"base64"))[0]};if("tuple"===e[0]||"list"===e[0])return 0===e[1].elements.length?{type:"null"}:{type:e[0],items:e[1].elements.map(c)};throw Error("Unsupported stack item type: "+e[0])}function d(e){let t=[];for(let n of e)t.push(l(n));return new a.TupleReader(t)}function u(e,t,n){return{async getState(){let n,r=await e.getContractState(t),o=r.balance,i=r.lastTransaction?{lt:BigInt(r.lastTransaction.lt),hash:Buffer.from(r.lastTransaction.hash,"base64")}:null;if("active"===r.state)n={type:"active",code:r.code?r.code:null,data:r.data?r.data:null};else if("uninitialized"===r.state)n={type:"uninit"};else{if("frozen"!==r.state)throw Error("Unsupported state");n={type:"frozen",stateHash:Buffer.alloc(0)}}return{balance:o,last:i,state:n}},get:async(n,r)=>({stack:(await e.callGetMethod(t,n,r)).stack}),async external(r){let o=null;n&&!await e.isContractDeployed(t)&&(o=n);const i=(0,a.external)({to:t,init:o?{code:o.code,data:o.data}:null,body:r});let s=(0,a.beginCell)().store((0,a.storeMessage)(i)).endCell().toBoc();await e.sendFile(s)},async internal(r,o){let i=null;n&&!await e.isContractDeployed(t)&&(i=n);let s,c=!0;null!==o.bounce&&void 0!==o.bounce&&(c=o.bounce),s="string"==typeof o.value?(0,a.toNano)(o.value):o.value;let l=null;"string"==typeof o.body?l=(0,a.comment)(o.body):o.body&&(l=o.body),await r.send({to:t,value:s,bounce:c,sendMode:o.sendMode,init:i,body:l})}}}t.TonClient=class{constructor(e){r.set(this,void 0),this.parameters={endpoint:e.endpoint},o(this,r,new s.HttpApi(this.parameters.endpoint,{timeout:e.timeout,apiKey:e.apiKey,adapter:e.httpAdapter}),"f")}async getBalance(e){return(await this.getContractState(e)).balance}async runMethod(e,t,n=[]){let o=await i(this,r,"f").callGetMethod(e,t,n);if(0!==o.exit_code)throw Error("Unable to execute get method. Got exit_code: "+o.exit_code);return{gas_used:o.gas_used,stack:d(o.stack)}}async callGetMethod(e,t,n=[]){return this.runMethod(e,t,n)}async runMethodWithError(e,t,n=[]){let o=await i(this,r,"f").callGetMethod(e,t,n);return{gas_used:o.gas_used,stack:d(o.stack),exit_code:o.exit_code}}async callGetMethodWithError(e,t,n=[]){return this.runMethodWithError(e,t,n)}async getTransactions(e,t){let n=await i(this,r,"f").getTransactions(e,t),o=[];for(let e of n)o.push((0,a.loadTransaction)(a.Cell.fromBoc(Buffer.from(e.data,"base64"))[0].beginParse()));return o}async getTransaction(e,t,n){let o=await i(this,r,"f").getTransaction(e,t,n);return o?(0,a.loadTransaction)(a.Cell.fromBoc(Buffer.from(o.data,"base64"))[0].beginParse()):null}async getMasterchainInfo(){let e=await i(this,r,"f").getMasterchainInfo();return{workchain:e.init.workchain,shard:e.last.shard,initSeqno:e.init.seqno,latestSeqno:e.last.seqno}}async getWorkchainShards(e){return(await i(this,r,"f").getShards(e)).map((e=>({workchain:e.workchain,shard:e.shard,seqno:e.seqno})))}async getShardTransactions(e,t,n){let o=await i(this,r,"f").getBlockTransactions(e,t,n);if(o.incomplete)throw Error("Unsupported");return o.transactions.map((e=>({account:a.Address.parseRaw(e.account),lt:e.lt,hash:e.hash})))}async sendMessage(e){const t=(0,a.beginCell)().store((0,a.storeMessage)(e)).endCell().toBoc();await i(this,r,"f").sendBoc(t)}async sendFile(e){await i(this,r,"f").sendBoc(e)}async estimateExternalMessageFee(e,t){return await i(this,r,"f").estimateFee(e,{body:t.body,initCode:t.initCode,initData:t.initData,ignoreSignature:t.ignoreSignature})}async sendExternalMessage(e,t){if(await this.isContractDeployed(e.address)||!e.init){const n=(0,a.external)({to:e.address,body:t});await this.sendMessage(n)}else{const n=(0,a.external)({to:e.address,init:{code:e.init.code,data:e.init.data},body:t});await this.sendMessage(n)}}async isContractDeployed(e){return"active"===(await this.getContractState(e)).state}async getContractState(e){let t=await i(this,r,"f").getAddressInformation(e);return{balance:BigInt(t.balance),state:t.state,code:""!==t.code?Buffer.from(t.code,"base64"):null,data:""!==t.data?Buffer.from(t.data,"base64"):null,lastTransaction:"0"!==t.last_transaction_id.lt?{lt:t.last_transaction_id.lt,hash:t.last_transaction_id.hash}:null,blockId:{workchain:t.block_id.workchain,shard:t.block_id.shard,seqno:t.block_id.seqno},timestampt:t.sync_utime}}open(e){return(0,a.openContract)(e,(e=>u(this,e.address,e.init)))}provider(e,t){return u(this,e,t)}},r=new WeakMap},2333:function(e,t,n){"use strict";var r,o,i,s=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TonClient4=void 0;const l=c(n(2505)),d=n(8035),u=n(4790),h=n(1614);function f(e,t,n,r){return{async getState(){let r=t;null===r&&(r=(await e.getLastBlock()).last.seqno);let o,i=await e.getAccount(r,n),s=i.account.last?{lt:BigInt(i.account.last.lt),hash:Buffer.from(i.account.last.hash,"base64")}:null;if("active"===i.account.state.type)o={type:"active",code:i.account.state.code?Buffer.from(i.account.state.code,"base64"):null,data:i.account.state.data?Buffer.from(i.account.state.data,"base64"):null};else if("uninit"===i.account.state.type)o={type:"uninit"};else{if("frozen"!==i.account.state.type)throw Error("Unsupported state");o={type:"frozen",stateHash:Buffer.from(i.account.state.stateHash,"base64")}}return{balance:BigInt(i.account.balance.coins),last:s,state:o}},async get(r,o){let i=t;null===i&&(i=(await e.getLastBlock()).last.seqno);let s=await e.runMethod(i,n,r,o);if(0!==s.exitCode&&1!==s.exitCode)throw Error("Exit code: "+s.exitCode);return{stack:new d.TupleReader(s.result)}},async external(t){let o=await e.getLastBlock(),i=null;r&&"active"!==(await e.getAccountLite(o.last.seqno,n)).account.state.type&&(i=r);const s=(0,d.external)({to:n,init:i?{code:i.code,data:i.data}:null,body:t});let a=(0,d.beginCell)().store((0,d.storeMessage)(s)).endCell().toBoc();await e.sendMessage(a)},async internal(t,o){let i=await e.getLastBlock(),s=null;r&&"active"!==(await e.getAccountLite(i.last.seqno,n)).account.state.type&&(s=r);let a,c=!0;null!==o.bounce&&void 0!==o.bounce&&(c=o.bounce),a="string"==typeof o.value?(0,d.toNano)(o.value):o.value;let l=null;"string"==typeof o.body?l=(0,d.comment)(o.body):o.body&&(l=o.body),await t.send({to:n,value:a,bounce:c,sendMode:o.sendMode,init:s,body:l})}}}t.TonClient4=class{constructor(e){r.set(this,void 0),o.set(this,void 0),i.set(this,void 0),s(this,r,e.endpoint,"f"),s(this,o,e.timeout||5e3,"f"),s(this,i,e.httpAdapter,"f")}async getLastBlock(){let e=await l.default.get(a(this,r,"f")+"/block/latest",{adapter:a(this,i,"f"),timeout:a(this,o,"f")}),t=g.safeParse(e.data);if(!t.success)throw Error("Mailformed response: "+t.error.format()._errors.join(", "));return t.data}async getBlock(e){let t=await l.default.get(a(this,r,"f")+"/block/"+e,{adapter:a(this,i,"f"),timeout:a(this,o,"f")}),n=p.safeParse(t.data);if(!n.success)throw Error("Mailformed response");if(!n.data.exist)throw Error("Block is out of scope");return n.data.block}async getBlockByUtime(e){let t=await l.default.get(a(this,r,"f")+"/block/utime/"+e,{adapter:a(this,i,"f"),timeout:a(this,o,"f")}),n=p.safeParse(t.data);if(!n.success)throw Error("Mailformed response");if(!n.data.exist)throw Error("Block is out of scope");return n.data.block}async getAccount(e,t){let n=await l.default.get(a(this,r,"f")+"/block/"+e+"/"+t.toString({urlSafe:!0}),{adapter:a(this,i,"f"),timeout:a(this,o,"f")}),s=y.safeParse(n.data);if(!s.success)throw Error("Mailformed response");return s.data}async getAccountLite(e,t){let n=await l.default.get(a(this,r,"f")+"/block/"+e+"/"+t.toString({urlSafe:!0})+"/lite",{adapter:a(this,i,"f"),timeout:a(this,o,"f")}),s=v.safeParse(n.data);if(!s.success)throw Error("Mailformed response");return s.data}async isContractDeployed(e,t){return"active"===(await this.getAccountLite(e,t)).account.state.type}async isAccountChanged(e,t,n){let s=await l.default.get(a(this,r,"f")+"/block/"+e+"/"+t.toString({urlSafe:!0})+"/changed/"+n.toString(10),{adapter:a(this,i,"f"),timeout:a(this,o,"f")}),c=b.safeParse(s.data);if(!c.success)throw Error("Mailformed response");return c.data}async getAccountTransactions(e,t,n){let s=await l.default.get(a(this,r,"f")+"/account/"+e.toString({urlSafe:!0})+"/tx/"+t.toString(10)+"/"+(0,u.toUrlSafe)(n.toString("base64")),{adapter:a(this,i,"f"),timeout:a(this,o,"f")}),c=E.safeParse(s.data);if(!c.success)throw Error("Mailformed response");let h=c.data,f=[],g=d.Cell.fromBoc(Buffer.from(h.boc,"base64"));for(let e=0;e<h.blocks.length;e++)f.push({block:h.blocks[e],tx:(0,d.loadTransaction)(g[e].beginParse())});return f}async getAccountTransactionsParsed(e,t,n,s=20){let c=await l.default.get(a(this,r,"f")+"/account/"+e.toString({urlSafe:!0})+"/tx/parsed/"+t.toString(10)+"/"+(0,u.toUrlSafe)(n.toString("base64")),{adapter:a(this,i,"f"),timeout:a(this,o,"f"),params:{count:s}}),d=K.safeParse(c.data);if(!d.success)throw Error("Mailformed response");return d.data}async getConfig(e,t){let n="";t&&t.length>0&&(n="/"+[...t].sort().join(","));let s=await l.default.get(a(this,r,"f")+"/block/"+e+"/config"+n,{adapter:a(this,i,"f"),timeout:a(this,o,"f")}),c=w.safeParse(s.data);if(!c.success)throw Error("Mailformed response");return c.data}async runMethod(e,t,n,s){let c=s&&s.length>0?"/"+(0,u.toUrlSafe)((0,d.serializeTuple)(s).toBoc({idx:!1,crc32:!1}).toString("base64")):"",h=a(this,r,"f")+"/block/"+e+"/"+t.toString({urlSafe:!0})+"/run/"+encodeURIComponent(n)+c,f=await l.default.get(h,{adapter:a(this,i,"f"),timeout:a(this,o,"f")}),g=C.safeParse(f.data);if(!g.success)throw Error("Mailformed response");let p=g.data.resultRaw?(0,d.parseTuple)(d.Cell.fromBoc(Buffer.from(g.data.resultRaw,"base64"))[0]):[];return{exitCode:g.data.exitCode,result:p,resultRaw:g.data.resultRaw,block:g.data.block,shardBlock:g.data.shardBlock,reader:new d.TupleReader(p)}}async sendMessage(e){let t=await l.default.post(a(this,r,"f")+"/send",{boc:e.toString("base64")},{adapter:a(this,i,"f"),timeout:a(this,o,"f")});if(!_.safeParse(t.data).success)throw Error("Mailformed response");return{status:t.data.status}}open(e){return(0,d.openContract)(e,(e=>f(this,null,e.address,e.init)))}openAt(e,t){return(0,d.openContract)(t,(t=>f(this,e,t.address,t.init)))}provider(e,t){return f(this,null,e,t||null)}providerAt(e,t,n){return f(this,e,t,n||null)}},r=new WeakMap,o=new WeakMap,i=new WeakMap;const g=h.z.object({last:h.z.object({seqno:h.z.number(),shard:h.z.string(),workchain:h.z.number(),fileHash:h.z.string(),rootHash:h.z.string()}),init:h.z.object({fileHash:h.z.string(),rootHash:h.z.string()}),stateRootHash:h.z.string(),now:h.z.number()}),p=h.z.union([h.z.object({exist:h.z.literal(!1)}),h.z.object({exist:h.z.literal(!0),block:h.z.object({shards:h.z.array(h.z.object({workchain:h.z.number(),seqno:h.z.number(),shard:h.z.string(),rootHash:h.z.string(),fileHash:h.z.string(),transactions:h.z.array(h.z.object({account:h.z.string(),hash:h.z.string(),lt:h.z.string()}))}))})})]),m=h.z.object({lastPaid:h.z.number(),duePayment:h.z.union([h.z.null(),h.z.string()]),used:h.z.object({bits:h.z.number(),cells:h.z.number(),publicCells:h.z.number()})}),y=h.z.object({account:h.z.object({state:h.z.union([h.z.object({type:h.z.literal("uninit")}),h.z.object({type:h.z.literal("active"),code:h.z.union([h.z.string(),h.z.null()]),data:h.z.union([h.z.string(),h.z.null()])}),h.z.object({type:h.z.literal("frozen"),stateHash:h.z.string()})]),balance:h.z.object({coins:h.z.string()}),last:h.z.union([h.z.null(),h.z.object({lt:h.z.string(),hash:h.z.string()})]),storageStat:h.z.union([h.z.null(),m])}),block:h.z.object({workchain:h.z.number(),seqno:h.z.number(),shard:h.z.string(),rootHash:h.z.string(),fileHash:h.z.string()})}),v=h.z.object({account:h.z.object({state:h.z.union([h.z.object({type:h.z.literal("uninit")}),h.z.object({type:h.z.literal("active"),codeHash:h.z.string(),dataHash:h.z.string()}),h.z.object({type:h.z.literal("frozen"),stateHash:h.z.string()})]),balance:h.z.object({coins:h.z.string()}),last:h.z.union([h.z.null(),h.z.object({lt:h.z.string(),hash:h.z.string()})]),storageStat:h.z.union([h.z.null(),m])})}),b=h.z.object({changed:h.z.boolean(),block:h.z.object({workchain:h.z.number(),seqno:h.z.number(),shard:h.z.string(),rootHash:h.z.string(),fileHash:h.z.string()})}),C=h.z.object({exitCode:h.z.number(),resultRaw:h.z.union([h.z.string(),h.z.null()]),block:h.z.object({workchain:h.z.number(),seqno:h.z.number(),shard:h.z.string(),rootHash:h.z.string(),fileHash:h.z.string()}),shardBlock:h.z.object({workchain:h.z.number(),seqno:h.z.number(),shard:h.z.string(),rootHash:h.z.string(),fileHash:h.z.string()})}),w=h.z.object({config:h.z.object({cell:h.z.string(),address:h.z.string(),globalBalance:h.z.object({coins:h.z.string()})})}),_=h.z.object({status:h.z.number()}),O=h.z.array(h.z.object({workchain:h.z.number(),seqno:h.z.number(),shard:h.z.string(),rootHash:h.z.string(),fileHash:h.z.string()})),E=h.z.object({blocks:O,boc:h.z.string()}),S=h.z.object({bits:h.z.number(),data:h.z.string()}),N=h.z.union([h.z.object({type:h.z.literal("internal"),value:h.z.string(),dest:h.z.string(),src:h.z.string(),bounced:h.z.boolean(),bounce:h.z.boolean(),ihrDisabled:h.z.boolean(),createdAt:h.z.number(),createdLt:h.z.string(),fwdFee:h.z.string(),ihrFee:h.z.string()}),h.z.object({type:h.z.literal("external-in"),dest:h.z.string(),src:h.z.union([S,h.z.null()]),importFee:h.z.string()}),h.z.object({type:h.z.literal("external-out"),dest:h.z.union([S,h.z.null()])})]),T=h.z.object({splitDepth:h.z.union([h.z.number(),h.z.null()]),code:h.z.union([h.z.string(),h.z.null()]),data:h.z.union([h.z.string(),h.z.null()]),special:h.z.union([h.z.object({tick:h.z.boolean(),tock:h.z.boolean()}),h.z.null()])}),R=h.z.object({body:h.z.string(),info:N,init:h.z.union([T,h.z.null()])}),k=h.z.union([h.z.literal("uninitialized"),h.z.literal("frozen"),h.z.literal("active"),h.z.literal("non-existing")]),P=h.z.union([h.z.object({type:h.z.literal("comment"),comment:h.z.string()}),h.z.object({type:h.z.literal("payload"),cell:h.z.string()})]),A=h.z.union([h.z.object({kind:h.z.literal("ton"),amount:h.z.string()}),h.z.object({kind:h.z.literal("token"),amount:h.z.string()})]),I=h.z.union([h.z.literal("jetton::excesses"),h.z.literal("jetton::transfer"),h.z.literal("jetton::transfer_notification"),h.z.literal("deposit"),h.z.literal("deposit::ok"),h.z.literal("withdraw"),h.z.literal("withdraw::all"),h.z.literal("withdraw::delayed"),h.z.literal("withdraw::ok"),h.z.literal("airdrop")]),D=h.z.object({type:I,options:h.z.optional(h.z.record(h.z.string()))}),x=h.z.object({address:h.z.string(),comment:h.z.optional(h.z.string()),items:h.z.array(A),op:h.z.optional(D)}),M=h.z.object({address:h.z.string(),lt:h.z.string(),hash:h.z.string(),prevTransaction:h.z.object({lt:h.z.string(),hash:h.z.string()}),time:h.z.number(),outMessagesCount:h.z.number(),oldStatus:k,newStatus:k,fees:h.z.string(),update:h.z.object({oldHash:h.z.string(),newHash:h.z.string()}),inMessage:h.z.union([R,h.z.null()]),outMessages:h.z.array(R),parsed:h.z.object({seqno:h.z.union([h.z.number(),h.z.null()]),body:h.z.union([P,h.z.null()]),status:h.z.union([h.z.literal("success"),h.z.literal("failed"),h.z.literal("pending")]),dest:h.z.union([h.z.string(),h.z.null()]),kind:h.z.union([h.z.literal("out"),h.z.literal("in")]),amount:h.z.string(),resolvedAddress:h.z.string(),bounced:h.z.boolean(),mentioned:h.z.array(h.z.string())}),operation:x}),K=h.z.object({blocks:O,transactions:h.z.array(M)})},9024:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpApi=void 0;const o=n(335),i=r(n(9302)),s=r(n(2505)),a=n(1614),c=n(9661).rE,l=a.z.object({"@type":a.z.literal("ton.blockIdExt"),workchain:a.z.number(),shard:a.z.string(),seqno:a.z.number(),root_hash:a.z.string(),file_hash:a.z.string()}),d=a.z.object({balance:a.z.union([a.z.number(),a.z.string()]),state:a.z.union([a.z.literal("active"),a.z.literal("uninitialized"),a.z.literal("frozen")]),data:a.z.string(),code:a.z.string(),last_transaction_id:a.z.object({"@type":a.z.literal("internal.transactionId"),lt:a.z.string(),hash:a.z.string()}),block_id:l,sync_utime:a.z.number()}),u=a.z.object({"@type":a.z.literal("ok")}),h=a.z.object({"@type":a.z.literal("query.fees"),source_fees:a.z.object({"@type":a.z.literal("fees"),in_fwd_fee:a.z.number(),storage_fee:a.z.number(),gas_fee:a.z.number(),fwd_fee:a.z.number()})}),f=a.z.object({gas_used:a.z.number(),exit_code:a.z.number(),stack:a.z.array(a.z.unknown())}),g=a.z.union([a.z.object({"@type":a.z.literal("msg.dataRaw"),body:a.z.string()}),a.z.object({"@type":a.z.literal("msg.dataText"),text:a.z.string()}),a.z.object({"@type":a.z.literal("msg.dataDecryptedText"),text:a.z.string()}),a.z.object({"@type":a.z.literal("msg.dataEncryptedText"),text:a.z.string()})]),p=a.z.object({source:a.z.string(),destination:a.z.string(),value:a.z.string(),fwd_fee:a.z.string(),ihr_fee:a.z.string(),created_lt:a.z.string(),body_hash:a.z.string(),msg_data:g,message:a.z.string()}),m=a.z.object({data:a.z.string(),utime:a.z.number(),transaction_id:a.z.object({lt:a.z.string(),hash:a.z.string()}),fee:a.z.string(),storage_fee:a.z.string(),other_fee:a.z.string(),in_msg:a.z.union([a.z.undefined(),p]),out_msgs:a.z.array(p)}),y=a.z.array(m),v=a.z.object({state_root_hash:a.z.string(),last:l,init:l}),b=a.z.object({shards:a.z.array(l)}),C=a.z.object({"@type":a.z.literal("blocks.shortTxId"),mode:a.z.number(),account:a.z.string(),lt:a.z.string(),hash:a.z.string()}),w=a.z.object({id:l,req_count:a.z.number(),incomplete:a.z.boolean(),transactions:a.z.array(C)});class _{constructor(e,t,n,r){this.namespace=e,this.cache=t,this.codec=n,this.keyEncoder=r}async get(e){let t=await this.cache.get(this.namespace,this.keyEncoder(e));if(t){let e=this.codec.safeParse(JSON.parse(t));if(e.success)return e.data}return null}async set(e,t){null!==t?await this.cache.set(this.namespace,this.keyEncoder(e),JSON.stringify(t)):await this.cache.set(this.namespace,this.keyEncoder(e),null)}}function O(e){let t=[];for(let n of e)if("int"===n.type)t.push(["num",n.value.toString()]);else if("cell"===n.type)t.push(["tvm.Cell",n.cell.toBoc().toString("base64")]);else if("slice"===n.type)t.push(["tvm.Slice",n.cell.toBoc().toString("base64")]);else{if("builder"!==n.type)throw Error("Unsupported stack item type: "+n.type);t.push(["tvm.Builder",n.cell.toBoc().toString("base64")])}return t}t.HttpApi=class{constructor(e,t){this.endpoint=e,this.cache=new o.InMemoryCache,this.parameters={timeout:t?.timeout||3e4,apiKey:t?.apiKey,adapter:t?.adapter},this.shardCache=new _("ton-shard",this.cache,a.z.array(l),(e=>e+"")),this.shardLoader=new i.default((async e=>await Promise.all(e.map((async e=>{const t=await this.shardCache.get(e);if(t)return t;let n=(await this.doCall("shards",{seqno:e},b)).shards;return await this.shardCache.set(e,n),n}))))),this.shardTransactionsCache=new _("ton-shard-tx",this.cache,w,(e=>e.workchain+":"+e.shard+":"+e.seqno)),this.shardTransactionsLoader=new i.default((async e=>await Promise.all(e.map((async e=>{const t=await this.shardTransactionsCache.get(e);if(t)return t;let n=await this.doCall("getBlockTransactions",{workchain:e.workchain,seqno:e.seqno,shard:e.shard},w);return await this.shardTransactionsCache.set(e,n),n})))),{cacheKeyFn:e=>e.workchain+":"+e.shard+":"+e.seqno})}getAddressInformation(e){return this.doCall("getAddressInformation",{address:e.toString()},d)}async getTransactions(e,t){const n=t.inclusive;let r;delete t.inclusive,t.hash&&(r=Buffer.from(t.hash,"base64").toString("hex"));let o=t.limit;t.hash&&t.lt&&!0!==n&&o++;let i=await this.doCall("getTransactions",{address:e.toString(),...t,limit:o,hash:r},y);return i.length>o&&(i=i.slice(0,o)),t.hash&&t.lt&&!0!==n?(i.shift(),i):i}async getMasterchainInfo(){return await this.doCall("getMasterchainInfo",{},v)}async getShards(e){return await this.shardLoader.load(e)}async getBlockTransactions(e,t,n){return await this.shardTransactionsLoader.load({workchain:e,seqno:t,shard:n})}async getTransaction(e,t,n){let r=Buffer.from(n,"base64").toString("hex");return(await this.doCall("getTransactions",{address:e.toString(),lt:t,hash:r,limit:1},y)).find((e=>e.transaction_id.lt===t&&e.transaction_id.hash===n))||null}async callGetMethod(e,t,n){return await this.doCall("runGetMethod",{address:e.toString(),method:t,stack:O(n)},f)}async sendBoc(e){await this.doCall("sendBoc",{boc:e.toString("base64")},u)}async estimateFee(e,t){return await this.doCall("estimateFee",{address:e.toString(),body:t.body.toBoc().toString("base64"),init_data:t.initData?t.initData.toBoc().toString("base64"):"",init_code:t.initCode?t.initCode.toBoc().toString("base64"):"",ignore_chksig:t.ignoreSignature},h)}async doCall(e,t,n){let r={"Content-Type":"application/json","X-Ton-Client-Version":c};this.parameters.apiKey&&(r["X-API-Key"]=this.parameters.apiKey);let o=await s.default.post(this.endpoint,JSON.stringify({id:"1",jsonrpc:"2.0",method:e,params:t}),{headers:r,timeout:this.parameters.timeout,adapter:this.parameters.adapter});if(200!==o.status||!o.data.ok)throw Error("Received error: "+JSON.stringify(o.data));let i=n.safeParse(o.data.result);if(i.success)return i.data;throw Error("Malformed response: "+i.error.format()._errors.join(", "))}}},335:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryCache=void 0,t.InMemoryCache=class{constructor(){this.cache=new Map,this.set=async(e,t,n)=>{null!==n?this.cache.set(e+"$$"+t,n):this.cache.delete(e+"$$"+t)},this.get=async(e,t)=>{let n=this.cache.get(e+"$$"+t);return void 0!==n?n:null}}}},941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFullConfig=t.loadConfigParamsAsSlice=t.loadConfigParamById=t.parseVotingSetup=t.parseProposalSetup=t.configParse29=t.configParse28=t.configParseMsgPrices=t.configParseGasLimitsPrices=t.configParseBridge=t.configParseValidatorSet=t.configParse12=t.configParseWorkchainDescriptor=t.configParse40=t.configParse8=t.configParse18=t.configParse17=t.configParse16=t.configParse15=t.configParse13=t.configParse5=t.configParseMasterAddressRequired=t.parseBridge=t.parseValidatorSet=t.configParseMasterAddress=void 0;const r=n(8035);function o(e){return e?new r.Address(-1,e.loadBuffer(32)):null}function i(e){if(2390828938!==e.loadUint(32))throw Error("Invalid config");return e.loadBuffer(32)}t.configParseMasterAddress=o;const s={serialize(e,t){throw Error("not implemented")},parse(e){const t=e.loadUint(8);if(83===t)return{publicKey:i(e),weight:e.loadUintBig(64),adnlAddress:null};if(115===t)return{publicKey:i(e),weight:e.loadUintBig(64),adnlAddress:e.loadBuffer(32)};throw Error("Invalid config")}};function a(e){const t=e.loadUint(8);return 17===t?{timeSince:e.loadUint(32),timeUntil:e.loadUint(32),total:e.loadUint(16),main:e.loadUint(16),totalWeight:null,list:e.loadDictDirect(r.Dictionary.Keys.Uint(16),s)}:18===t?{timeSince:e.loadUint(32),timeUntil:e.loadUint(32),total:e.loadUint(16),main:e.loadUint(16),totalWeight:e.loadUintBig(64),list:e.loadDict(r.Dictionary.Keys.Uint(16),s)}:void 0}function c(e){const t=new r.Address(-1,e.loadBuffer(32)),n=new r.Address(-1,e.loadBuffer(32)),o=e.loadDict(r.Dictionary.Keys.Buffer(32),r.Dictionary.Values.Buffer(32)),i=new Map;for(const[e,t]of o)i.set(new r.Address(-1,e).toString(),t);return{bridgeAddress:t,oracleMultisigAddress:n,oracles:i,externalChainAddress:e.loadBuffer(32)}}function l(e){if(!e)throw Error("Invalid config");return o(e)}function d(e){if(!e)throw Error("Invalid config");if(1===e.loadUint(8))return{blackholeAddr:e.loadBit()?new r.Address(-1,e.loadBuffer(32)):null,feeBurnNominator:e.loadUint(32),feeBurnDenominator:e.loadUint(32)};throw new Error("Invalid config")}function u(e){if(!e)throw Error("Invalid config");return{validatorsElectedFor:e.loadUint(32),electorsStartBefore:e.loadUint(32),electorsEndBefore:e.loadUint(32),stakeHeldFor:e.loadUint(32)}}function h(e){if(!e)throw Error("Invalid config");return{maxValidators:e.loadUint(16),maxMainValidators:e.loadUint(16),minValidators:e.loadUint(16)}}function f(e){if(!e)throw Error("Invalid config");return{minStake:e.loadCoins(),maxStake:e.loadCoins(),minTotalStake:e.loadCoins(),maxStakeFactor:e.loadUint(32)}}t.parseValidatorSet=a,t.parseBridge=c,t.configParseMasterAddressRequired=l,t.configParse5=d,t.configParse13=function(e){if(!e)throw Error("Invalid config");if(26===e.loadUint(8))return{deposit:e.loadCoins(),bitPrice:e.loadCoins(),cellPrice:e.loadCoins()};throw new Error("Invalid config")},t.configParse15=u,t.configParse16=h,t.configParse17=f;const g={serialize(e,t){throw Error("not implemented")},parse(e){if(204!==e.loadUint(8))throw Error("Invalid config");return{utime_since:e.loadUint(32),bit_price_ps:e.loadUintBig(64),cell_price_ps:e.loadUintBig(64),mc_bit_price_ps:e.loadUintBig(64),mc_cell_price_ps:e.loadUintBig(64)}}};function p(e){if(!e)throw Error("Invalid config");return e.loadDictDirect(r.Dictionary.Keys.Buffer(4),g).values()}function m(e){return e?{version:e.loadUint(32),capabilities:e.loadUintBig(64)}:{version:0,capabilities:0n}}function y(e){if(!e)return null;if(1!==e.loadUint(8))throw Error("Invalid config");return{defaultFlatFine:e.loadCoins(),defaultProportionaFine:e.loadCoins(),severityFlatMult:e.loadUint(16),severityProportionalMult:e.loadUint(16),unfunishableInterval:e.loadUint(16),longInterval:e.loadUint(16),longFlatMult:e.loadUint(16),longProportionalMult:e.loadUint(16),mediumInterval:e.loadUint(16),mediumFlatMult:e.loadUint(16),mediumProportionalMult:e.loadUint(16)}}t.configParse18=p,t.configParse8=m,t.configParse40=y,t.configParseWorkchainDescriptor=function(e){if(166!==e.loadUint(8))throw Error("Invalid config");const t=e.loadUint(32),n=e.loadUint(8),r=e.loadUint(8),o=e.loadUint(8),i=e.loadBit(),s=e.loadBit(),a=e.loadBit(),c=e.loadUint(13),l=e.loadBuffer(32),d=e.loadBuffer(32),u=e.loadUint(32);if(e.loadBit())throw Error("Invalid config");return{enabledSince:t,actialMinSplit:n,min_split:r,max_split:o,basic:i,active:s,accept_msgs:a,flags:c,zerostateRootHash:l,zerostateFileHash:d,version:u,format:{vmVersion:e.loadUint(32),vmMode:e.loadUintBig(64)}}};const v={serialize(e,t){throw Error("not implemented")},parse(e){if(166!==e.loadUint(8))throw Error("Invalid config");const t=e.loadUint(32),n=e.loadUint(8),r=e.loadUint(8),o=e.loadUint(8),i=e.loadBit(),s=e.loadBit(),a=e.loadBit(),c=e.loadUint(13),l=e.loadBuffer(32),d=e.loadBuffer(32),u=e.loadUint(32);if(e.loadBit())throw Error("Invalid config");return{enabledSince:t,actialMinSplit:n,min_split:r,max_split:o,basic:i,active:s,accept_msgs:a,flags:c,zerostateRootHash:l,zerostateFileHash:d,version:u,format:{vmVersion:e.loadUint(32),vmMode:e.loadUintBig(64)}}}};function b(e){if(!e)throw Error("Invalid config");const t=e.loadDict(r.Dictionary.Keys.Uint(32),v);if(t)return t;throw Error("No workchains exist")}function C(e){return e?a(e):null}function w(e){return e?c(e):null}function _(e){if(!e)throw Error("Invalid config");if(209===e.loadUint(8)){const t=e.loadUintBig(64),n=e.loadUintBig(64),r=function(e){const t=e.loadUint(8);if(222===t)return{gasPrice:e.loadUintBig(64),gasLimit:e.loadUintBig(64),specialGasLimit:e.loadUintBig(64),gasCredit:e.loadUintBig(64),blockGasLimit:e.loadUintBig(64),freezeDueLimit:e.loadUintBig(64),deleteDueLimit:e.loadUintBig(64)};if(221===t)return{gasPrice:e.loadUintBig(64),gasLimit:e.loadUintBig(64),gasCredit:e.loadUintBig(64),blockGasLimit:e.loadUintBig(64),freezeDueLimit:e.loadUintBig(64),deleteDueLimit:e.loadUintBig(64)};throw Error("Invalid config")}(e);return{flatLimit:t,flatGasPrice:n,other:r}}throw Error("Invalid config")}function O(e){if(!e)throw new Error("Invalid config");if(234!==e.loadUint(8))throw new Error("Invalid msg prices param");return{lumpPrice:e.loadUintBig(64),bitPrice:e.loadUintBig(64),cellPrice:e.loadUintBig(64),ihrPriceFactor:e.loadUint(32),firstFrac:e.loadUint(16),nextFrac:e.loadUint(16)}}function E(e){if(!e)throw new Error("Invalid config");const t=e.loadUint(8);if(193===t)return{masterCatchainLifetime:e.loadUint(32),shardCatchainLifetime:e.loadUint(32),shardValidatorsLifetime:e.loadUint(32),shardValidatorsCount:e.loadUint(32)};if(194===t)return{flags:e.loadUint(7),suffleMasterValidators:e.loadBit(),masterCatchainLifetime:e.loadUint(32),shardCatchainLifetime:e.loadUint(32),shardValidatorsLifetime:e.loadUint(32),shardValidatorsCount:e.loadUint(32)};throw new Error("Invalid config")}function S(e){if(!e)throw new Error("Invalid config");const t=e.loadUint(8);if(214===t)return{roundCandidates:e.loadUint(32),nextCandidateDelay:e.loadUint(32),consensusTimeout:e.loadUint(32),fastAttempts:e.loadUint(32),attemptDuration:e.loadUint(32),catchainMaxDeps:e.loadUint(32),maxBlockBytes:e.loadUint(32),maxColaltedBytes:e.loadUint(32)};if(215===t)return{flags:e.loadUint(7),newCatchainIds:e.loadBit(),roundCandidates:e.loadUint(8),nextCandidateDelay:e.loadUint(32),consensusTimeout:e.loadUint(32),fastAttempts:e.loadUint(32),attemptDuration:e.loadUint(32),catchainMaxDeps:e.loadUint(32),maxBlockBytes:e.loadUint(32),maxColaltedBytes:e.loadUint(32)};if(216===t)return{flags:e.loadUint(7),newCatchainIds:e.loadBit(),roundCandidates:e.loadUint(8),nextCandidateDelay:e.loadUint(32),consensusTimeout:e.loadUint(32),fastAttempts:e.loadUint(32),attemptDuration:e.loadUint(32),catchainMaxDeps:e.loadUint(32),maxBlockBytes:e.loadUint(32),maxColaltedBytes:e.loadUint(32),protoVersion:e.loadUint(16)};if(217===t)return{flags:e.loadUint(7),newCatchainIds:e.loadBit(),roundCandidates:e.loadUint(8),nextCandidateDelay:e.loadUint(32),consensusTimeout:e.loadUint(32),fastAttempts:e.loadUint(32),attemptDuration:e.loadUint(32),catchainMaxDeps:e.loadUint(32),maxBlockBytes:e.loadUint(32),maxColaltedBytes:e.loadUint(32),protoVersion:e.loadUint(16),catchainMaxBlocksCoeff:e.loadUint(32)};throw new Error("Invalid config")}function N(e){if(54!==e.loadUint(8))throw new Error("Invalid config");return{minTotalRounds:e.loadUint(8),maxTotalRounds:e.loadUint(8),minWins:e.loadUint(8),maxLoses:e.loadUint(8),minStoreSec:e.loadUint(32),maxStoreSec:e.loadUint(32),bitPrice:e.loadUint(32),cellPrice:e.loadUint(32)}}function T(e){if(!e)throw new Error("Invalid config");if(145!==e.loadUint(8))throw new Error("Invalid config");return{normalParams:N(e.loadRef().beginParse()),criticalParams:N(e.loadRef().beginParse())}}function R(e){return r.Cell.fromBase64(e).beginParse().loadDictDirect(r.Dictionary.Keys.Int(32),r.Dictionary.Values.Cell())}t.configParse12=b,t.configParseValidatorSet=C,t.configParseBridge=w,t.configParseGasLimitsPrices=_,t.configParseMsgPrices=O,t.configParse28=E,t.configParse29=S,t.parseProposalSetup=N,t.parseVotingSetup=T,t.loadConfigParamById=function(e,t){return R(e).get(t)},t.loadConfigParamsAsSlice=function(e){const t=R(e),n=new Map;for(const[e,r]of t)n.set(e,r.beginParse());return n},t.parseFullConfig=function(e){return{configAddress:l(e.get(0)),electorAddress:l(e.get(1)),minterAddress:o(e.get(2)),feeCollectorAddress:o(e.get(3)),dnsRootAddress:o(e.get(4)),burningConfig:d(e.get(5)),globalVersion:m(e.get(8)),workchains:b(e.get(12)),voting:T(e.get(11)),validators:{...u(e.get(15)),...h(e.get(16)),...f(e.get(17))},storagePrices:p(e.get(18)),gasPrices:{masterchain:_(e.get(20)),workchain:_(e.get(21))},msgPrices:{masterchain:O(e.get(24)),workchain:O(e.get(25))},validatorSets:{prevValidators:C(e.get(32)),prevTempValidators:C(e.get(33)),currentValidators:C(e.get(34)),currentTempValidators:C(e.get(35)),nextValidators:C(e.get(36)),nextTempValidators:C(e.get(37))},validatorsPunish:y(e.get(40)),bridges:{ethereum:w(e.get(71)),binance:w(e.get(72)),polygon:w(e.get(73))},catchain:E(e.get(28)),consensus:S(e.get(29))}}},4682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElectorContract=void 0;const r=n(8035),o={serialize(e,t){throw Error("not implemented")},parse:e=>({address:new r.Address(-1,e.loadBuffer(32)),weight:e.loadUintBig(64),stake:e.loadCoins()})},i={serialize(e,t){throw Error("not implemented")},parse(e){const t=e.loadCoins();return e.skip(64),{stake:t,address:new r.Address(-1,e.loadBuffer(32)),adnl:e.loadBuffer(32)}}};class s{constructor(){this.address=r.Address.parseRaw("-1:3333333333333333333333333333333333333333333333333333333333333333")}static create(){return new s}async getReturnedStake(e,t){if(-1!==t.workChain)throw Error("Only masterchain addresses could have stake");return(await e.get("compute_returned_stake",[{type:"int",value:BigInt("0x"+t.hash.toString("hex"))}])).stack.readBigNumber()}async getPastElectionsList(e){const t=await e.get("past_elections_list",[]),n=new r.TupleReader(t.stack.readLispList()),o=[];for(;n.remaining>0;){const e=n.readTuple(),t=e.readNumber(),r=e.readNumber();e.pop();const i=e.readNumber();o.push({id:t,unfreezeAt:r,stakeHeld:i})}return o}async getPastElections(e){const t=await e.get("past_elections",[]),n=new r.TupleReader(t.stack.readLispList()),i=[];for(;n.remaining>0;){const e=n.readTuple(),t=e.readNumber(),s=e.readNumber(),a=e.readNumber();e.pop();const c=e.readCell(),l=e.readBigNumber(),d=e.readBigNumber();let u=new Map;const h=c.beginParse().loadDictDirect(r.Dictionary.Keys.Buffer(32),o);for(const[e,t]of h)u.set(BigInt("0x"+e.toString("hex")).toString(10),{address:t.address,weight:t.weight,stake:t.stake});i.push({id:t,unfreezeAt:s,stakeHeld:a,totalStake:l,bonuses:d,frozen:u})}return i}async getElectionEntities(e){const t=await e.getState();if("active"!==t.state.type)throw Error("Unexpected error");const n=r.Cell.fromBoc(t.state.data)[0].beginParse();if(!n.loadBit())return null;const o=n.loadRef().beginParse(),s=o.loadUint(32),a=o.loadUint(32),c=o.loadCoins(),l=o.loadCoins(),d=o.loadDict(r.Dictionary.Keys.Buffer(32),i);let u=[];if(d)for(const[e,t]of d)u.push({pubkey:e,stake:t.stake,address:t.address,adnl:t.adnl});return{minStake:c,allStakes:l,endElectionsTime:a,startWorkTime:s,entities:u}}async getActiveElectionId(e){const t=(await e.get("active_election_id",[])).stack.readNumber();return t>0?t:null}async getComplaints(e,t){const n=new r.TupleBuilder;n.writeNumber(t);const o=await e.get("list_complaints",n.build());if("null"===o.stack.peek().type)return[];const i=new r.TupleReader(o.stack.readLispList()),s=[];for(;i.remaining>0;){const e=i.readTuple(),t=e.readBigNumber(),n=e.readTuple(),o=n.readTuple(),a=Buffer.from(o.readBigNumber().toString(16),"hex"),c=(o.readCell(),o.readNumber()),l=o.readNumber(),d=new r.Address(-1,Buffer.from(o.readBigNumber().toString(16),"hex")),u=o.readBigNumber(),h=o.readBigNumber(),f=o.readBigNumber(),g=[],p=new r.TupleReader(n.readLispList());for(;p.remaining>0;)g.push(p.readNumber());const m=n.readBigNumber(),y=n.readBigNumber();s.push({id:t,publicKey:a,createdAt:c,severity:l,paid:u,suggestedFine:h,suggestedFinePart:f,rewardAddress:d,votes:g,remainingWeight:y,vsetId:m})}return s}}t.ElectorContract=s},8087:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.computeStorageFees=t.computeMessageForwardFees=t.computeGasPrices=t.computeFwdFees=t.computeExternalMessageFees=t.loadConfigParamsAsSlice=t.loadConfigParamById=t.parseFullConfig=t.parseVotingSetup=t.parseValidatorSet=t.parseProposalSetup=t.parseBridge=t.configParseWorkchainDescriptor=t.configParseValidatorSet=t.configParseMsgPrices=t.configParseMasterAddressRequired=t.configParseMasterAddress=t.configParseGasLimitsPrices=t.configParseBridge=t.configParse40=t.configParse29=t.configParse28=t.configParse18=t.configParse17=t.configParse16=t.configParse15=t.configParse13=t.configParse12=t.configParse8=t.configParse5=t.ElectorContract=t.MultisigWallet=t.MultisigOrderBuilder=t.MultisigOrder=t.JettonWallet=t.JettonMaster=t.WalletContractV4=t.WalletContractV3R2=t.WalletContractV3R1=t.WalletContractV2R2=t.WalletContractV2R1=t.WalletContractV1R3=t.WalletContractV1R2=t.WalletContractV1R1=t.TonClient4=t.TonClient=t.HttpApi=void 0,o(n(8035),t);var i=n(9024);Object.defineProperty(t,"HttpApi",{enumerable:!0,get:function(){return i.HttpApi}});var s=n(413);Object.defineProperty(t,"TonClient",{enumerable:!0,get:function(){return s.TonClient}});var a=n(2333);Object.defineProperty(t,"TonClient4",{enumerable:!0,get:function(){return a.TonClient4}});var c=n(3603);Object.defineProperty(t,"WalletContractV1R1",{enumerable:!0,get:function(){return c.WalletContractV1R1}});var l=n(7606);Object.defineProperty(t,"WalletContractV1R2",{enumerable:!0,get:function(){return l.WalletContractV1R2}});var d=n(2197);Object.defineProperty(t,"WalletContractV1R3",{enumerable:!0,get:function(){return d.WalletContractV1R3}});var u=n(9514);Object.defineProperty(t,"WalletContractV2R1",{enumerable:!0,get:function(){return u.WalletContractV2R1}});var h=n(3127);Object.defineProperty(t,"WalletContractV2R2",{enumerable:!0,get:function(){return h.WalletContractV2R2}});var f=n(533);Object.defineProperty(t,"WalletContractV3R1",{enumerable:!0,get:function(){return f.WalletContractV3R1}});var g=n(3068);Object.defineProperty(t,"WalletContractV3R2",{enumerable:!0,get:function(){return g.WalletContractV3R2}});var p=n(8857);Object.defineProperty(t,"WalletContractV4",{enumerable:!0,get:function(){return p.WalletContractV4}});var m=n(3804);Object.defineProperty(t,"JettonMaster",{enumerable:!0,get:function(){return m.JettonMaster}});var y=n(6151);Object.defineProperty(t,"JettonWallet",{enumerable:!0,get:function(){return y.JettonWallet}});var v=n(4600);Object.defineProperty(t,"MultisigOrder",{enumerable:!0,get:function(){return v.MultisigOrder}});var b=n(3933);Object.defineProperty(t,"MultisigOrderBuilder",{enumerable:!0,get:function(){return b.MultisigOrderBuilder}});var C=n(7463);Object.defineProperty(t,"MultisigWallet",{enumerable:!0,get:function(){return C.MultisigWallet}});var w=n(4682);Object.defineProperty(t,"ElectorContract",{enumerable:!0,get:function(){return w.ElectorContract}});var _=n(941);Object.defineProperty(t,"configParse5",{enumerable:!0,get:function(){return _.configParse5}}),Object.defineProperty(t,"configParse8",{enumerable:!0,get:function(){return _.configParse8}}),Object.defineProperty(t,"configParse12",{enumerable:!0,get:function(){return _.configParse12}}),Object.defineProperty(t,"configParse13",{enumerable:!0,get:function(){return _.configParse13}}),Object.defineProperty(t,"configParse15",{enumerable:!0,get:function(){return _.configParse15}}),Object.defineProperty(t,"configParse16",{enumerable:!0,get:function(){return _.configParse16}}),Object.defineProperty(t,"configParse17",{enumerable:!0,get:function(){return _.configParse17}}),Object.defineProperty(t,"configParse18",{enumerable:!0,get:function(){return _.configParse18}}),Object.defineProperty(t,"configParse28",{enumerable:!0,get:function(){return _.configParse28}}),Object.defineProperty(t,"configParse29",{enumerable:!0,get:function(){return _.configParse29}}),Object.defineProperty(t,"configParse40",{enumerable:!0,get:function(){return _.configParse40}}),Object.defineProperty(t,"configParseBridge",{enumerable:!0,get:function(){return _.configParseBridge}}),Object.defineProperty(t,"configParseGasLimitsPrices",{enumerable:!0,get:function(){return _.configParseGasLimitsPrices}}),Object.defineProperty(t,"configParseMasterAddress",{enumerable:!0,get:function(){return _.configParseMasterAddress}}),Object.defineProperty(t,"configParseMasterAddressRequired",{enumerable:!0,get:function(){return _.configParseMasterAddressRequired}}),Object.defineProperty(t,"configParseMsgPrices",{enumerable:!0,get:function(){return _.configParseMsgPrices}}),Object.defineProperty(t,"configParseValidatorSet",{enumerable:!0,get:function(){return _.configParseValidatorSet}}),Object.defineProperty(t,"configParseWorkchainDescriptor",{enumerable:!0,get:function(){return _.configParseWorkchainDescriptor}}),Object.defineProperty(t,"parseBridge",{enumerable:!0,get:function(){return _.parseBridge}}),Object.defineProperty(t,"parseProposalSetup",{enumerable:!0,get:function(){return _.parseProposalSetup}}),Object.defineProperty(t,"parseValidatorSet",{enumerable:!0,get:function(){return _.parseValidatorSet}}),Object.defineProperty(t,"parseVotingSetup",{enumerable:!0,get:function(){return _.parseVotingSetup}}),Object.defineProperty(t,"parseFullConfig",{enumerable:!0,get:function(){return _.parseFullConfig}}),Object.defineProperty(t,"loadConfigParamById",{enumerable:!0,get:function(){return _.loadConfigParamById}}),Object.defineProperty(t,"loadConfigParamsAsSlice",{enumerable:!0,get:function(){return _.loadConfigParamsAsSlice}});var O=n(9672);Object.defineProperty(t,"computeExternalMessageFees",{enumerable:!0,get:function(){return O.computeExternalMessageFees}}),Object.defineProperty(t,"computeFwdFees",{enumerable:!0,get:function(){return O.computeFwdFees}}),Object.defineProperty(t,"computeGasPrices",{enumerable:!0,get:function(){return O.computeGasPrices}}),Object.defineProperty(t,"computeMessageForwardFees",{enumerable:!0,get:function(){return O.computeMessageForwardFees}}),Object.defineProperty(t,"computeStorageFees",{enumerable:!0,get:function(){return O.computeStorageFees}})},3804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JettonMaster=void 0;const r=n(8035);class o{constructor(e){this.address=e}static create(e){return new o(e)}async getWalletAddress(e,t){return(await e.get("get_wallet_address",[{type:"slice",cell:(0,r.beginCell)().storeAddress(t).endCell()}])).stack.readAddress()}async getJettonData(e){let t=await e.get("get_jetton_data",[]);return{totalSupply:t.stack.readBigNumber(),mintable:t.stack.readBoolean(),adminAddress:t.stack.readAddress(),content:t.stack.readCell(),walletCode:t.stack.readCell()}}}t.JettonMaster=o},6151:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JettonWallet=void 0;class n{constructor(e){this.address=e}static create(e){return new n(e)}async getBalance(e){return"active"!==(await e.getState()).state.type?0n:(await e.get("get_wallet_data",[])).stack.readBigNumber()}}t.JettonWallet=n},4600:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultisigOrder=void 0;const r=n(1533),o=n(8035);class i{constructor(e){this.signatures={},this.payload=e}static fromCell(e){let t=e.beginParse(),n=t.loadMaybeRef()?.beginParse();const r=t.asCell();let o=new i(r);if(n){for(;n.remainingBits>0;){const e=n.loadBuffer(64),t=n.loadUint(8);o.signatures[t]=e,n.remainingRefs>0?n=n.loadRef().asSlice():n.skip(1)}n.endParse()}return o}static fromPayload(e){return new i(e)}addSignature(e,t,n){const o=this.payload.hash();if(!(0,r.signVerify)(o,t,n.owners.get(e).slice(0,-1)))throw Error("invalid signature");this.signatures[e]=t}sign(e,t){const n=this.payload.hash();return this.signatures[e]=(0,r.sign)(n,t),n}unionSignatures(e){this.signatures=Object.assign({},this.signatures,e.signatures)}clearSignatures(){this.signatures={}}toCell(e){let t=(0,o.beginCell)().storeBit(0);for(const e in this.signatures){const n=this.signatures[e];t=(0,o.beginCell)().storeBit(1).storeRef((0,o.beginCell)().storeBuffer(n).storeUint(parseInt(e),8).storeBuilder(t).endCell())}return(0,o.beginCell)().storeUint(e,8).storeBuilder(t).storeBuilder(this.payload.asBuilder()).endCell()}}t.MultisigOrder=i},3933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultisigOrderBuilder=void 0;const r=n(8035),o=n(4600);t.MultisigOrderBuilder=class{constructor(e,t){this.messages=(0,r.beginCell)(),this.queryId=0n,this.walletId=e,this.queryOffset=t||7200}addMessage(e,t){if(this.messages.refs>=4)throw Error("only 4 refs are allowed");this.updateQueryId(),this.messages.storeUint(t,8),this.messages.storeRef((0,r.beginCell)().store((0,r.storeMessageRelaxed)(e)).endCell())}clearMessages(){this.messages=(0,r.beginCell)()}build(){return o.MultisigOrder.fromPayload((0,r.beginCell)().storeUint(this.walletId,32).storeUint(this.queryId,64).storeBuilder(this.messages).endCell())}updateQueryId(){const e=BigInt(Math.floor(Date.now()/1e3+this.queryOffset));this.queryId=e<<32n}}},7463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultisigWallet=void 0;const r=n(1533),o=n(8035),i=o.Cell.fromBase64("te6ccgECKwEABBgAART/APSkE/S88sgLAQIBIAIDAgFIBAUE2vIgxwCOgzDbPOCDCNcYIPkBAdMH2zwiwAAToVNxePQOb6Hyn9s8VBq6+RDyoAb0BCD5AQHTH1EYuvKq0z9wUwHwCgHCCAGDCryx8mhTFYBA9A5voSCYDqQgwgryZw7f+COqH1NAufJhVCOjU04gIyEiAgLMBgcCASAMDQIBIAgJAgFmCgsAA9GEAiPymAvHoHN9CYbZ5S7Z4BPHohwhJQAtAKkItdJEqCTItdKlwLUAdAT8ArobBKAATwhbpEx4CBukTDgAdAg10rDAJrUAvALyFjPFszJ4HHXI8gBzxb0AMmACASAODwIBIBQVARW77ZbVA0cFUg2zyCoCAUgQEQIBIBITAXOxHXQgwjXGCD5AQHTB4IB1MTtQ9hTIHj0Dm+h8p/XC/9eMfkQ8qCuAfQEIW6TW3Ey4PkBWNs8AaQBgJwA9rtqA6ADoAPoCAXoCEfyAgPyA3XlP+AXkegAA54tkwAAXrhlXP8EA1WZ2oexAAgEgFhcCASAYGQFRtyVbZ4YmRmpGEAgegc30McJNhFpAADMaYeYuAFrgJhwLb+4cC3d0bhAjAYm1WZtnhqvgb+2xxsoicAgej430pBHEoFpAADHDhBACGuQkuuBk9kUWE5kAOeLKhACQCB6IYFImHFImHFImXEA2YlzNijAjAgEgGhsAF7UGtc4QQDVZnah7EAIBIBwdAgOZOB4fARGsGm2eL4G2CUAjABWt+UEAzJV2oewYQAENqTbPBVfBYCMAFa3f3CCAarM7UPYgAiDbPALyZfgAUENxQxPbPO1UIyoACtP/0wcwBKDbPC+uUyCw8mISsQKkJbNTHLmwJYEA4aojoCi8sPJpggGGoPgBBZcCERACPj4wjo0REB/bPEDXePRDEL0F4lQWW1Rz51YQU9zbPFRxClR6vCQlKCYAIO1E0NMf0wfTB9M/9AT0BNEAXgGOGjDSAAHyo9MH0wdQA9cBIPkBBfkBFbrypFAD4GwhIddKqgIi10m68qtwVCATAAwByMv/ywcE1ts87VT4D3AlblOJvrGYEG4QLVDHXwePGzBUJANQTds8UFWgRlAQSRA6SwlTuds8UFQWf+L4AAeDJaGOLCaAQPSWb6UglDBTA7neII4WODk5CNIAAZfTBzAW8AcFkTDifwgHBZJsMeKz5jAGKicoKQBgcI4pA9CDCNcY0wf0BDBTFnj0Dm+h8qXXC/9URUT5EPKmrlIgsVIDvRShI27mbCIyAH5SML6OIF8D+ACTItdKmALTB9QC+wAC6DJwyMoAQBSAQPRDAvAHjhdxyMsAFMsHEssHWM8BWM8WQBOAQPRDAeIBII6KEEUQNEMA2zztVJJfBuIqABzIyx/LB8sHyz/0APQAyQ==");class s{constructor(e,t,n,r,s){this.provider=null,this.owners=o.Dictionary.empty(),this.workchain=t,this.walletId=n,this.k=r;for(let t=0;t<e.length;t+=1)this.owners.set(t,Buffer.concat([e[t],Buffer.alloc(1)]));this.init={code:i,data:(0,o.beginCell)().storeUint(this.walletId,32).storeUint(this.owners.size,8).storeUint(this.k,8).storeUint(0,64).storeDict(this.owners,o.Dictionary.Keys.Uint(8),o.Dictionary.Values.Buffer(33)).storeBit(0).endCell()},this.address=s?.address||(0,o.contractAddress)(t,this.init),s?.provider?this.provider=s.provider:s?.client&&(this.provider=s.client.provider(this.address,{code:this.init.code,data:this.init.data}))}static async fromAddress(e,t){let n;if(t.provider)n=t.provider;else{if(!t.client)throw Error("Either provider or client must be specified");n=t.client.provider(e,{code:null,data:null})}const r=(await n.getState()).state;if("active"!==r.type)throw Error("Contract must be active");const i=o.Cell.fromBoc(r.data)[0].beginParse(),a=i.loadUint(32);i.skip(8);const c=i.loadUint(8);i.skip(64);const l=i.loadDict(o.Dictionary.Keys.Uint(8),o.Dictionary.Values.Buffer(33));let d=[];for(const[e,t]of l){const e=t.subarray(0,32);d.push(e)}return new s(d,e.workChain,a,c,{address:e,provider:n,client:t.client})}async deployExternal(e){if(!e&&!this.provider)throw Error("you must specify provider if there is no such property in MultisigWallet instance");e||(e=this.provider),await e.external(o.Cell.EMPTY)}async deployInternal(e,t=1000000000n){await e.send({sendMode:3,to:this.address,value:t,init:this.init,body:o.Cell.EMPTY,bounce:!0})}async sendOrder(e,t,n){if(!n&&!this.provider)throw Error("you must specify provider if there is no such property in MultisigWallet instance");n||(n=this.provider);let i=(0,r.keyPairFromSecretKey)(t).publicKey,s=this.getOwnerIdByPubkey(i),a=e.toCell(s),c=(0,r.sign)(a.hash(),t);a=(0,o.beginCell)().storeBuffer(c).storeSlice(a.asSlice()).endCell(),await n.external(a)}async sendOrderWithoutSecretKey(e,t,n,r){if(!r&&!this.provider)throw Error("you must specify provider if there is no such property in MultisigWallet instance");r||(r=this.provider);let i=e.toCell(n);i=(0,o.beginCell)().storeBuffer(t).storeSlice(i.asSlice()).endCell(),await r.external(i)}getOwnerIdByPubkey(e){for(const[t,n]of this.owners)if(n.subarray(0,32).equals(e))return t;throw Error("public key is not an owner")}}t.MultisigWallet=s},9672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeMessageForwardFees=t.computeExternalMessageFees=t.computeGasPrices=t.computeFwdFees=t.computeStorageFees=void 0;const r=n(8035);function o(e,t,n){return e.lumpPrice+s(e.bitPrice*n+e.cellPrice*t)}function i(e){let t=e.bits.length,n=1;for(let r of e.refs){let e=i(r);n+=e.cells,t+=e.bits}return{bits:t,cells:n}}function s(e){let t=e>>16n;return 0n!==e%65536n&&(t+=1n),t}t.computeStorageFees=function(e){const{lastPaid:t,now:n,storagePrices:r,storageStat:o,special:i,masterchain:a}=e;if(n<=t||0===r.length||n<r[0].utime_since||i)return BigInt(0);let c=Math.max(t,r[0].utime_since),l=BigInt(0);for(let e=0;e<r.length&&c<n;e++){let t=e<r.length-1?Math.min(n,r[e+1].utime_since):n,i=BigInt(0);if(c<t){let n=t-c;i+=BigInt(o.cells)*(a?r[e].mc_cell_price_ps:r[e].cell_price_ps),i+=BigInt(o.bits)*(a?r[e].mc_bit_price_ps:r[e].bit_price_ps),i*=BigInt(n)}c=t,l+=i}return s(l)},t.computeFwdFees=o,t.computeGasPrices=function(e,t){return e<=t.flatLimit?t.flatPrice:t.flatPrice+(t.price*(e-t.flatLimit)>>16n)},t.computeExternalMessageFees=function(e,t){let n=i(t);return n.bits-=t.bits.length,n.cells-=1,o(e,BigInt(n.cells),BigInt(n.bits))},t.computeMessageForwardFees=function(e,t){let n=(0,r.loadMessageRelaxed)(t.beginParse()),s={bits:0,cells:0};if(n.init){const e=(new r.Cell).asBuilder();(0,r.storeStateInit)(n.init)(e);const t=e.endCell();let o=i(t);o.bits-=t.bits.length,o.cells-=1,s.bits+=o.bits,s.cells+=o.cells}let a=i(n.body);a.bits-=n.body.bits.length,a.cells-=1,s.bits+=a.bits,s.cells+=a.cells;let c=o(e,BigInt(s.cells),BigInt(s.bits)),l=c*BigInt(e.firstFrac)>>16n;return{fees:l,remaining:c-l}}},4790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUrlSafe=void 0,t.toUrlSafe=function(e){for(;e.indexOf("/")>=0;)e=e.replace("/","_");for(;e.indexOf("+")>=0;)e=e.replace("+","-");for(;e.indexOf("=")>=0;)e=e.replace("=","");return e}},3603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletContractV1R1=void 0;const r=n(8035),o=n(578);class i{constructor(e,t){this.workchain=e,this.publicKey=t;let n=r.Cell.fromBoc(Buffer.from("te6cckEBAQEARAAAhP8AIN2k8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVEH98Ik=","base64"))[0],o=(0,r.beginCell)().storeUint(0,32).storeBuffer(t).endCell();this.init={code:n,data:o},this.address=(0,r.contractAddress)(e,{code:n,data:o})}static create(e){return new i(e.workchain,e.publicKey)}async getBalance(e){return(await e.getState()).balance}async getSeqno(e){let t=await e.getState();return"active"===t.state.type?r.Cell.fromBoc(t.state.data)[0].beginParse().loadUint(32):0}async send(e,t){await e.external(t)}async sendTransfer(e,t){let n=this.createTransfer(t);await this.send(e,n)}createTransfer(e){let t=r.SendMode.PAY_GAS_SEPARATELY;return null!==e.sendMode&&void 0!==e.sendMode&&(t=e.sendMode),(0,o.createWalletTransferV1)({seqno:e.seqno,sendMode:t,secretKey:e.secretKey,message:e.message})}sender(e,t){return{send:async n=>{let o=await this.getSeqno(e),i=this.createTransfer({seqno:o,secretKey:t,sendMode:n.sendMode,message:(0,r.internal)({to:n.to,value:n.value,init:n.init,body:n.body,bounce:n.bounce})});await this.send(e,i)}}}}t.WalletContractV1R1=i},7606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletContractV1R2=void 0;const r=n(8035),o=n(578);class i{constructor(e,t){this.workchain=e,this.publicKey=t;let n=r.Cell.fromBoc(Buffer.from("te6cckEBAQEAUwAAov8AIN0gggFMl7qXMO1E0NcLH+Ck8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVNDieG8=","base64"))[0],o=(0,r.beginCell)().storeUint(0,32).storeBuffer(t).endCell();this.init={code:n,data:o},this.address=(0,r.contractAddress)(e,{code:n,data:o})}static create(e){return new i(e.workchain,e.publicKey)}async getBalance(e){return(await e.getState()).balance}async getSeqno(e){return"active"===(await e.getState()).state.type?(await e.get("seqno",[])).stack.readNumber():0}async send(e,t){await e.external(t)}async sendTransfer(e,t){let n=this.createTransfer(t);await this.send(e,n)}createTransfer(e){let t=r.SendMode.PAY_GAS_SEPARATELY;return null!==e.sendMode&&void 0!==e.sendMode&&(t=e.sendMode),(0,o.createWalletTransferV1)({seqno:e.seqno,sendMode:t,secretKey:e.secretKey,message:e.message})}sender(e,t){return{send:async n=>{let o=await this.getSeqno(e),i=this.createTransfer({seqno:o,secretKey:t,sendMode:n.sendMode,message:(0,r.internal)({to:n.to,value:n.value,init:n.init,body:n.body,bounce:n.bounce})});await this.send(e,i)}}}}t.WalletContractV1R2=i},2197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletContractV1R3=void 0;const r=n(8035),o=n(578);class i{constructor(e,t){this.workchain=e,this.publicKey=t;let n=r.Cell.fromBoc(Buffer.from("te6cckEBAQEAXwAAuv8AIN0gggFMl7ohggEznLqxnHGw7UTQ0x/XC//jBOCk8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVLW4bkI=","base64"))[0],o=(0,r.beginCell)().storeUint(0,32).storeBuffer(t).endCell();this.init={code:n,data:o},this.address=(0,r.contractAddress)(e,{code:n,data:o})}static create(e){return new i(e.workchain,e.publicKey)}async getBalance(e){return(await e.getState()).balance}async getSeqno(e){return"active"===(await e.getState()).state.type?(await e.get("seqno",[])).stack.readNumber():0}async send(e,t){await e.external(t)}async sendTransfer(e,t){let n=this.createTransfer(t);await this.send(e,n)}createTransfer(e){let t=r.SendMode.PAY_GAS_SEPARATELY;return null!==e.sendMode&&void 0!==e.sendMode&&(t=e.sendMode),(0,o.createWalletTransferV1)({seqno:e.seqno,sendMode:t,secretKey:e.secretKey,message:e.message})}sender(e,t){return{send:async n=>{let o=await this.getSeqno(e),i=this.createTransfer({seqno:o,secretKey:t,sendMode:n.sendMode,message:(0,r.internal)({to:n.to,value:n.value,init:n.init,body:n.body,bounce:n.bounce})});await this.send(e,i)}}}}t.WalletContractV1R3=i},9514:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletContractV2R1=void 0;const r=n(8035),o=n(578);class i{constructor(e,t){this.workchain=e,this.publicKey=t;let n=r.Cell.fromBoc(Buffer.from("te6cckEBAQEAVwAAqv8AIN0gggFMl7qXMO1E0NcLH+Ck8mCDCNcYINMf0x8B+CO78mPtRNDTH9P/0VExuvKhA/kBVBBC+RDyovgAApMg10qW0wfUAvsA6NGkyMsfy//J7VShNwu2","base64"))[0],o=(0,r.beginCell)().storeUint(0,32).storeBuffer(t).endCell();this.init={code:n,data:o},this.address=(0,r.contractAddress)(e,{code:n,data:o})}static create(e){return new i(e.workchain,e.publicKey)}async getBalance(e){return(await e.getState()).balance}async getSeqno(e){return"active"===(await e.getState()).state.type?(await e.get("seqno",[])).stack.readNumber():0}async send(e,t){await e.external(t)}async sendTransfer(e,t){let n=this.createTransfer(t);await this.send(e,n)}createTransfer(e){let t=r.SendMode.PAY_GAS_SEPARATELY;return null!==e.sendMode&&void 0!==e.sendMode&&(t=e.sendMode),(0,o.createWalletTransferV2)({seqno:e.seqno,sendMode:t,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout})}sender(e,t){return{send:async n=>{let o=await this.getSeqno(e),i=this.createTransfer({seqno:o,secretKey:t,sendMode:n.sendMode,messages:[(0,r.internal)({to:n.to,value:n.value,init:n.init,body:n.body,bounce:n.bounce})]});await this.send(e,i)}}}}t.WalletContractV2R1=i},3127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletContractV2R2=void 0;const r=n(8035),o=n(578);class i{constructor(e,t){this.workchain=e,this.publicKey=t;let n=r.Cell.fromBoc(Buffer.from("te6cckEBAQEAYwAAwv8AIN0gggFMl7ohggEznLqxnHGw7UTQ0x/XC//jBOCk8mCDCNcYINMf0x8B+CO78mPtRNDTH9P/0VExuvKhA/kBVBBC+RDyovgAApMg10qW0wfUAvsA6NGkyMsfy//J7VQETNeh","base64"))[0],o=(0,r.beginCell)().storeUint(0,32).storeBuffer(t).endCell();this.init={code:n,data:o},this.address=(0,r.contractAddress)(e,{code:n,data:o})}static create(e){return new i(e.workchain,e.publicKey)}async getBalance(e){return(await e.getState()).balance}async getSeqno(e){return"active"===(await e.getState()).state.type?(await e.get("seqno",[])).stack.readNumber():0}async send(e,t){await e.external(t)}async sendTransfer(e,t){let n=this.createTransfer(t);await this.send(e,n)}createTransfer(e){let t=r.SendMode.PAY_GAS_SEPARATELY;return null!==e.sendMode&&void 0!==e.sendMode&&(t=e.sendMode),(0,o.createWalletTransferV2)({seqno:e.seqno,sendMode:t,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout})}sender(e,t){return{send:async n=>{let o=await this.getSeqno(e),i=this.createTransfer({seqno:o,secretKey:t,sendMode:n.sendMode,messages:[(0,r.internal)({to:n.to,value:n.value,init:n.init,body:n.body,bounce:n.bounce})]});await this.send(e,i)}}}}t.WalletContractV2R2=i},533:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletContractV3R1=void 0;const r=n(8035),o=n(578);class i{constructor(e,t,n){this.workchain=e,this.publicKey=t,this.walletId=null!=n?n:698983191+e;let o=r.Cell.fromBoc(Buffer.from("te6cckEBAQEAYgAAwP8AIN0gggFMl7qXMO1E0NcLH+Ck8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVD++buA=","base64"))[0],i=(0,r.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(t).endCell();this.init={code:o,data:i},this.address=(0,r.contractAddress)(e,{code:o,data:i})}static create(e){return new i(e.workchain,e.publicKey,e.walletId)}async getBalance(e){return(await e.getState()).balance}async getSeqno(e){return"active"===(await e.getState()).state.type?(await e.get("seqno",[])).stack.readNumber():0}async send(e,t){await e.external(t)}async sendTransfer(e,t){let n=this.createTransfer(t);await this.send(e,n)}createTransfer(e){let t=r.SendMode.PAY_GAS_SEPARATELY;return null!==e.sendMode&&void 0!==e.sendMode&&(t=e.sendMode),(0,o.createWalletTransferV3)({seqno:e.seqno,sendMode:t,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId})}sender(e,t){return{send:async n=>{let o=await this.getSeqno(e),i=this.createTransfer({seqno:o,secretKey:t,sendMode:n.sendMode,messages:[(0,r.internal)({to:n.to,value:n.value,init:n.init,body:n.body,bounce:n.bounce})]});await this.send(e,i)}}}}t.WalletContractV3R1=i},3068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletContractV3R2=void 0;const r=n(8035),o=n(578);class i{constructor(e,t,n){this.workchain=e,this.publicKey=t,this.walletId=null!=n?n:698983191+e;let o=r.Cell.fromBoc(Buffer.from("te6cckEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVBC9ba0=","base64"))[0],i=(0,r.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(t).endCell();this.init={code:o,data:i},this.address=(0,r.contractAddress)(e,{code:o,data:i})}static create(e){return new i(e.workchain,e.publicKey,e.walletId)}async getBalance(e){return(await e.getState()).balance}async getSeqno(e){return"active"===(await e.getState()).state.type?(await e.get("seqno",[])).stack.readNumber():0}async send(e,t){await e.external(t)}async sendTransfer(e,t){let n=this.createTransfer(t);await this.send(e,n)}createTransfer(e){let t=r.SendMode.PAY_GAS_SEPARATELY;return null!==e.sendMode&&void 0!==e.sendMode&&(t=e.sendMode),(0,o.createWalletTransferV3)({seqno:e.seqno,sendMode:t,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId})}sender(e,t){return{send:async n=>{let o=await this.getSeqno(e),i=this.createTransfer({seqno:o,secretKey:t,sendMode:n.sendMode,messages:[(0,r.internal)({to:n.to,value:n.value,init:n.init,body:n.body,bounce:n.bounce})]});await this.send(e,i)}}}}t.WalletContractV3R2=i},8857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletContractV4=void 0;const r=n(8035),o=n(578);class i{constructor(e,t,n){this.workchain=e,this.publicKey=t,this.walletId=null!=n?n:698983191+e;let o=r.Cell.fromBoc(Buffer.from("te6ccgECFAEAAtQAART/APSkE/S88sgLAQIBIAIDAgFIBAUE+PKDCNcYINMf0x/THwL4I7vyZO1E0NMf0x/T//QE0VFDuvKhUVG68qIF+QFUEGT5EPKj+AAkpMjLH1JAyx9SMMv/UhD0AMntVPgPAdMHIcAAn2xRkyDXSpbTB9QC+wDoMOAhwAHjACHAAuMAAcADkTDjDQOkyMsfEssfy/8QERITAubQAdDTAyFxsJJfBOAi10nBIJJfBOAC0x8hghBwbHVnvSKCEGRzdHK9sJJfBeAD+kAwIPpEAcjKB8v/ydDtRNCBAUDXIfQEMFyBAQj0Cm+hMbOSXwfgBdM/yCWCEHBsdWe6kjgw4w0DghBkc3RyupJfBuMNBgcCASAICQB4AfoA9AQw+CdvIjBQCqEhvvLgUIIQcGx1Z4MesXCAGFAEywUmzxZY+gIZ9ADLaRfLH1Jgyz8gyYBA+wAGAIpQBIEBCPRZMO1E0IEBQNcgyAHPFvQAye1UAXKwjiOCEGRzdHKDHrFwgBhQBcsFUAPPFiP6AhPLassfyz/JgED7AJJfA+ICASAKCwBZvSQrb2omhAgKBrkPoCGEcNQICEekk30pkQzmkD6f+YN4EoAbeBAUiYcVnzGEAgFYDA0AEbjJftRNDXCx+AA9sp37UTQgQFA1yH0BDACyMoHy//J0AGBAQj0Cm+hMYAIBIA4PABmtznaiaEAga5Drhf/AABmvHfaiaEAQa5DrhY/AAG7SB/oA1NQi+QAFyMoHFcv/ydB3dIAYyMsFywIizxZQBfoCFMtrEszMyXP7AMhAFIEBCPRR8qcCAHCBAQjXGPoA0z/IVCBHgQEI9FHyp4IQbm90ZXB0gBjIywXLAlAGzxZQBPoCFMtqEssfyz/Jc/sAAgBsgQEI1xj6ANM/MFIkgQEI9Fnyp4IQZHN0cnB0gBjIywXLAlAFzxZQA/oCE8tqyx8Syz/Jc/sAAAr0AMntVA==","base64"))[0],i=(0,r.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(this.publicKey).storeBit(0).endCell();this.init={code:o,data:i},this.address=(0,r.contractAddress)(e,{code:o,data:i})}static create(e){return new i(e.workchain,e.publicKey,e.walletId)}async getBalance(e){return(await e.getState()).balance}async getSeqno(e){return"active"===(await e.getState()).state.type?(await e.get("seqno",[])).stack.readNumber():0}async send(e,t){await e.external(t)}async sendTransfer(e,t){let n=this.createTransfer(t);await this.send(e,n)}createTransfer(e){let t=r.SendMode.PAY_GAS_SEPARATELY;return null!==e.sendMode&&void 0!==e.sendMode&&(t=e.sendMode),(0,o.createWalletTransferV4)({seqno:e.seqno,sendMode:t,secretKey:e.secretKey,messages:e.messages,timeout:e.timeout,walletId:this.walletId})}sender(e,t){return{send:async n=>{let o=await this.getSeqno(e),i=this.createTransfer({seqno:o,secretKey:t,sendMode:n.sendMode,messages:[(0,r.internal)({to:n.to,value:n.value,init:n.init,body:n.body,bounce:n.bounce})]});await this.send(e,i)}}}}t.WalletContractV4=i},578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWalletTransferV4=t.createWalletTransferV3=t.createWalletTransferV2=t.createWalletTransferV1=void 0;const r=n(8035),o=n(1533);t.createWalletTransferV1=function(e){let t=(0,r.beginCell)().storeUint(e.seqno,32);e.message&&(t.storeUint(e.sendMode,8),t.storeRef((0,r.beginCell)().store((0,r.storeMessageRelaxed)(e.message))));let n=(0,o.sign)(t.endCell().hash(),e.secretKey);return(0,r.beginCell)().storeBuffer(n).storeBuilder(t).endCell()},t.createWalletTransferV2=function(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let t=(0,r.beginCell)().storeUint(e.seqno,32);if(0===e.seqno)for(let e=0;e<32;e++)t.storeBit(1);else t.storeUint(e.timeout||Math.floor(Date.now()/1e3)+60,32);for(let n of e.messages)t.storeUint(e.sendMode,8),t.storeRef((0,r.beginCell)().store((0,r.storeMessageRelaxed)(n)));let n=(0,o.sign)(t.endCell().hash(),e.secretKey);return(0,r.beginCell)().storeBuffer(n).storeBuilder(t).endCell()},t.createWalletTransferV3=function(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let t=(0,r.beginCell)().storeUint(e.walletId,32);if(0===e.seqno)for(let e=0;e<32;e++)t.storeBit(1);else t.storeUint(e.timeout||Math.floor(Date.now()/1e3)+60,32);t.storeUint(e.seqno,32);for(let n of e.messages)t.storeUint(e.sendMode,8),t.storeRef((0,r.beginCell)().store((0,r.storeMessageRelaxed)(n)));let n=(0,o.sign)(t.endCell().hash(),e.secretKey);return(0,r.beginCell)().storeBuffer(n).storeBuilder(t).endCell()},t.createWalletTransferV4=function(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let t=(0,r.beginCell)().storeUint(e.walletId,32);if(0===e.seqno)for(let e=0;e<32;e++)t.storeBit(1);else t.storeUint(e.timeout||Math.floor(Date.now()/1e3)+60,32);t.storeUint(e.seqno,32),t.storeUint(0,8);for(let n of e.messages)t.storeUint(e.sendMode,8),t.storeRef((0,r.beginCell)().store((0,r.storeMessageRelaxed)(n)));let n=(0,o.sign)(t.endCell().hash(),e.secretKey);return(0,r.beginCell)().storeBuffer(n).storeBuilder(t).endCell()}},6386:function(e){!function(t,n){"use strict";e.exports?e.exports=n():(t.nacl||(t.nacl={}),t.nacl.util=n())}(this,(function(){"use strict";var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,n=unescape(encodeURIComponent(e)),r=new Uint8Array(n.length);for(t=0;t<n.length;t++)r[t]=n.charCodeAt(t);return r},e.encodeUTF8=function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(n.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(e.encodeBase64=function(e){return Buffer.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(Buffer.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new Buffer(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new Buffer(e,"base64"),0))}):(e.encodeBase64=function(e){var t,n=[],r=e.length;for(t=0;t<r;t++)n.push(String.fromCharCode(e[t]));return btoa(n.join(""))},e.decodeBase64=function(e){t(e);var n,r=atob(e),o=new Uint8Array(r.length);for(n=0;n<r.length;n++)o[n]=r.charCodeAt(n);return o}),e}))},8947:(e,t,n)=>{!function(e){"use strict";var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},r=function(){throw new Error("no PRNG")},o=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=t(),a=t([1]),c=t([56129,1]),l=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function p(e,t,n,r,o){var i,s=0;for(i=0;i<o;i++)s|=e[t+i]^n[r+i];return(1&s-1>>>8)-1}function m(e,t,n,r){return p(e,t,n,r,16)}function y(e,t,n,r){return p(e,t,n,r,32)}function v(e,t,n,r){!function(e,t,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,d=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,g=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,m=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,C=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=i,_=s,O=a,E=c,S=l,N=d,T=u,R=h,k=f,P=g,A=p,I=m,D=y,x=v,M=b,K=C,U=0;U<20;U+=2)w^=(o=(D^=(o=(k^=(o=(S^=(o=w+D|0)<<7|o>>>25)+w|0)<<9|o>>>23)+S|0)<<13|o>>>19)+k|0)<<18|o>>>14,N^=(o=(_^=(o=(x^=(o=(P^=(o=N+_|0)<<7|o>>>25)+N|0)<<9|o>>>23)+P|0)<<13|o>>>19)+x|0)<<18|o>>>14,A^=(o=(T^=(o=(O^=(o=(M^=(o=A+T|0)<<7|o>>>25)+A|0)<<9|o>>>23)+M|0)<<13|o>>>19)+O|0)<<18|o>>>14,K^=(o=(I^=(o=(R^=(o=(E^=(o=K+I|0)<<7|o>>>25)+K|0)<<9|o>>>23)+E|0)<<13|o>>>19)+R|0)<<18|o>>>14,w^=(o=(E^=(o=(O^=(o=(_^=(o=w+E|0)<<7|o>>>25)+w|0)<<9|o>>>23)+_|0)<<13|o>>>19)+O|0)<<18|o>>>14,N^=(o=(S^=(o=(R^=(o=(T^=(o=N+S|0)<<7|o>>>25)+N|0)<<9|o>>>23)+T|0)<<13|o>>>19)+R|0)<<18|o>>>14,A^=(o=(P^=(o=(k^=(o=(I^=(o=A+P|0)<<7|o>>>25)+A|0)<<9|o>>>23)+I|0)<<13|o>>>19)+k|0)<<18|o>>>14,K^=(o=(M^=(o=(x^=(o=(D^=(o=K+M|0)<<7|o>>>25)+K|0)<<9|o>>>23)+D|0)<<13|o>>>19)+x|0)<<18|o>>>14;w=w+i|0,_=_+s|0,O=O+a|0,E=E+c|0,S=S+l|0,N=N+d|0,T=T+u|0,R=R+h|0,k=k+f|0,P=P+g|0,A=A+p|0,I=I+m|0,D=D+y|0,x=x+v|0,M=M+b|0,K=K+C|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=_>>>0&255,e[5]=_>>>8&255,e[6]=_>>>16&255,e[7]=_>>>24&255,e[8]=O>>>0&255,e[9]=O>>>8&255,e[10]=O>>>16&255,e[11]=O>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=S>>>0&255,e[17]=S>>>8&255,e[18]=S>>>16&255,e[19]=S>>>24&255,e[20]=N>>>0&255,e[21]=N>>>8&255,e[22]=N>>>16&255,e[23]=N>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=R>>>0&255,e[29]=R>>>8&255,e[30]=R>>>16&255,e[31]=R>>>24&255,e[32]=k>>>0&255,e[33]=k>>>8&255,e[34]=k>>>16&255,e[35]=k>>>24&255,e[36]=P>>>0&255,e[37]=P>>>8&255,e[38]=P>>>16&255,e[39]=P>>>24&255,e[40]=A>>>0&255,e[41]=A>>>8&255,e[42]=A>>>16&255,e[43]=A>>>24&255,e[44]=I>>>0&255,e[45]=I>>>8&255,e[46]=I>>>16&255,e[47]=I>>>24&255,e[48]=D>>>0&255,e[49]=D>>>8&255,e[50]=D>>>16&255,e[51]=D>>>24&255,e[52]=x>>>0&255,e[53]=x>>>8&255,e[54]=x>>>16&255,e[55]=x>>>24&255,e[56]=M>>>0&255,e[57]=M>>>8&255,e[58]=M>>>16&255,e[59]=M>>>24&255,e[60]=K>>>0&255,e[61]=K>>>8&255,e[62]=K>>>16&255,e[63]=K>>>24&255}(e,t,n,r)}function b(e,t,n,r){!function(e,t,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,d=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,g=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,m=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,C=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=0;w<20;w+=2)i^=(o=(y^=(o=(f^=(o=(l^=(o=i+y|0)<<7|o>>>25)+i|0)<<9|o>>>23)+l|0)<<13|o>>>19)+f|0)<<18|o>>>14,d^=(o=(s^=(o=(v^=(o=(g^=(o=d+s|0)<<7|o>>>25)+d|0)<<9|o>>>23)+g|0)<<13|o>>>19)+v|0)<<18|o>>>14,p^=(o=(u^=(o=(a^=(o=(b^=(o=p+u|0)<<7|o>>>25)+p|0)<<9|o>>>23)+b|0)<<13|o>>>19)+a|0)<<18|o>>>14,C^=(o=(m^=(o=(h^=(o=(c^=(o=C+m|0)<<7|o>>>25)+C|0)<<9|o>>>23)+c|0)<<13|o>>>19)+h|0)<<18|o>>>14,i^=(o=(c^=(o=(a^=(o=(s^=(o=i+c|0)<<7|o>>>25)+i|0)<<9|o>>>23)+s|0)<<13|o>>>19)+a|0)<<18|o>>>14,d^=(o=(l^=(o=(h^=(o=(u^=(o=d+l|0)<<7|o>>>25)+d|0)<<9|o>>>23)+u|0)<<13|o>>>19)+h|0)<<18|o>>>14,p^=(o=(g^=(o=(f^=(o=(m^=(o=p+g|0)<<7|o>>>25)+p|0)<<9|o>>>23)+m|0)<<13|o>>>19)+f|0)<<18|o>>>14,C^=(o=(b^=(o=(v^=(o=(y^=(o=C+b|0)<<7|o>>>25)+C|0)<<9|o>>>23)+y|0)<<13|o>>>19)+v|0)<<18|o>>>14;e[0]=i>>>0&255,e[1]=i>>>8&255,e[2]=i>>>16&255,e[3]=i>>>24&255,e[4]=d>>>0&255,e[5]=d>>>8&255,e[6]=d>>>16&255,e[7]=d>>>24&255,e[8]=p>>>0&255,e[9]=p>>>8&255,e[10]=p>>>16&255,e[11]=p>>>24&255,e[12]=C>>>0&255,e[13]=C>>>8&255,e[14]=C>>>16&255,e[15]=C>>>24&255,e[16]=u>>>0&255,e[17]=u>>>8&255,e[18]=u>>>16&255,e[19]=u>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=g>>>0&255,e[29]=g>>>8&255,e[30]=g>>>16&255,e[31]=g>>>24&255}(e,t,n,r)}var C=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,n,r,o,i,s){var a,c,l=new Uint8Array(16),d=new Uint8Array(64);for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=i[c];for(;o>=64;){for(v(d,l,s,C),c=0;c<64;c++)e[t+c]=n[r+c]^d[c];for(a=1,c=8;c<16;c++)a=a+(255&l[c])|0,l[c]=255&a,a>>>=8;o-=64,t+=64,r+=64}if(o>0)for(v(d,l,s,C),c=0;c<o;c++)e[t+c]=n[r+c]^d[c];return 0}function _(e,t,n,r,o){var i,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=r[s];for(;n>=64;){for(v(c,a,o,C),s=0;s<64;s++)e[t+s]=c[s];for(i=1,s=8;s<16;s++)i=i+(255&a[s])|0,a[s]=255&i,i>>>=8;n-=64,t+=64}if(n>0)for(v(c,a,o,C),s=0;s<n;s++)e[t+s]=c[s];return 0}function O(e,t,n,r,o){var i=new Uint8Array(32);b(i,r,o,C);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=r[a+16];return _(e,t,n,s,i)}function E(e,t,n,r,o,i,s){var a=new Uint8Array(32);b(a,i,s,C);for(var c=new Uint8Array(8),l=0;l<8;l++)c[l]=i[l+16];return w(e,t,n,r,o,c,a)}var S=function(e){var t,n,r,o,i,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),o=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|o<<9),i=255&e[8]|(255&e[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(i>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function N(e,t,n,r,o,i){var s=new S(i);return s.update(n,r,o),s.finish(e,t),0}function T(e,t,n,r,o,i){var s=new Uint8Array(16);return N(s,0,n,r,o,i),m(e,t,s,0)}function R(e,t,n,r,o){var i;if(n<32)return-1;for(E(e,0,t,0,n,r,o),N(e,16,e,32,n-32,e),i=0;i<16;i++)e[i]=0;return 0}function k(e,t,n,r,o){var i,s=new Uint8Array(32);if(n<32)return-1;if(O(s,0,32,r,o),0!==T(t,16,t,32,n-32,s))return-1;for(E(e,0,t,0,n,r,o),i=0;i<32;i++)e[i]=0;return 0}function P(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function A(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function I(e,t,n){for(var r,o=~(n-1),i=0;i<16;i++)r=o&(e[i]^t[i]),e[i]^=r,t[i]^=r}function D(e,n){var r,o,i,s=t(),a=t();for(r=0;r<16;r++)a[r]=n[r];for(A(a),A(a),A(a),o=0;o<2;o++){for(s[0]=a[0]-65517,r=1;r<15;r++)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,I(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function x(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return D(n,e),D(r,t),y(n,0,r,0)}function M(e){var t=new Uint8Array(32);return D(t,e),1&t[0]}function K(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function U(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function j(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function L(e,t,n){var r,o,i=0,s=0,a=0,c=0,l=0,d=0,u=0,h=0,f=0,g=0,p=0,m=0,y=0,v=0,b=0,C=0,w=0,_=0,O=0,E=0,S=0,N=0,T=0,R=0,k=0,P=0,A=0,I=0,D=0,x=0,M=0,K=n[0],U=n[1],j=n[2],L=n[3],B=n[4],W=n[5],X=n[6],H=n[7],z=n[8],J=n[9],F=n[10],q=n[11],V=n[12],$=n[13],G=n[14],Z=n[15];i+=(r=t[0])*K,s+=r*U,a+=r*j,c+=r*L,l+=r*B,d+=r*W,u+=r*X,h+=r*H,f+=r*z,g+=r*J,p+=r*F,m+=r*q,y+=r*V,v+=r*$,b+=r*G,C+=r*Z,s+=(r=t[1])*K,a+=r*U,c+=r*j,l+=r*L,d+=r*B,u+=r*W,h+=r*X,f+=r*H,g+=r*z,p+=r*J,m+=r*F,y+=r*q,v+=r*V,b+=r*$,C+=r*G,w+=r*Z,a+=(r=t[2])*K,c+=r*U,l+=r*j,d+=r*L,u+=r*B,h+=r*W,f+=r*X,g+=r*H,p+=r*z,m+=r*J,y+=r*F,v+=r*q,b+=r*V,C+=r*$,w+=r*G,_+=r*Z,c+=(r=t[3])*K,l+=r*U,d+=r*j,u+=r*L,h+=r*B,f+=r*W,g+=r*X,p+=r*H,m+=r*z,y+=r*J,v+=r*F,b+=r*q,C+=r*V,w+=r*$,_+=r*G,O+=r*Z,l+=(r=t[4])*K,d+=r*U,u+=r*j,h+=r*L,f+=r*B,g+=r*W,p+=r*X,m+=r*H,y+=r*z,v+=r*J,b+=r*F,C+=r*q,w+=r*V,_+=r*$,O+=r*G,E+=r*Z,d+=(r=t[5])*K,u+=r*U,h+=r*j,f+=r*L,g+=r*B,p+=r*W,m+=r*X,y+=r*H,v+=r*z,b+=r*J,C+=r*F,w+=r*q,_+=r*V,O+=r*$,E+=r*G,S+=r*Z,u+=(r=t[6])*K,h+=r*U,f+=r*j,g+=r*L,p+=r*B,m+=r*W,y+=r*X,v+=r*H,b+=r*z,C+=r*J,w+=r*F,_+=r*q,O+=r*V,E+=r*$,S+=r*G,N+=r*Z,h+=(r=t[7])*K,f+=r*U,g+=r*j,p+=r*L,m+=r*B,y+=r*W,v+=r*X,b+=r*H,C+=r*z,w+=r*J,_+=r*F,O+=r*q,E+=r*V,S+=r*$,N+=r*G,T+=r*Z,f+=(r=t[8])*K,g+=r*U,p+=r*j,m+=r*L,y+=r*B,v+=r*W,b+=r*X,C+=r*H,w+=r*z,_+=r*J,O+=r*F,E+=r*q,S+=r*V,N+=r*$,T+=r*G,R+=r*Z,g+=(r=t[9])*K,p+=r*U,m+=r*j,y+=r*L,v+=r*B,b+=r*W,C+=r*X,w+=r*H,_+=r*z,O+=r*J,E+=r*F,S+=r*q,N+=r*V,T+=r*$,R+=r*G,k+=r*Z,p+=(r=t[10])*K,m+=r*U,y+=r*j,v+=r*L,b+=r*B,C+=r*W,w+=r*X,_+=r*H,O+=r*z,E+=r*J,S+=r*F,N+=r*q,T+=r*V,R+=r*$,k+=r*G,P+=r*Z,m+=(r=t[11])*K,y+=r*U,v+=r*j,b+=r*L,C+=r*B,w+=r*W,_+=r*X,O+=r*H,E+=r*z,S+=r*J,N+=r*F,T+=r*q,R+=r*V,k+=r*$,P+=r*G,A+=r*Z,y+=(r=t[12])*K,v+=r*U,b+=r*j,C+=r*L,w+=r*B,_+=r*W,O+=r*X,E+=r*H,S+=r*z,N+=r*J,T+=r*F,R+=r*q,k+=r*V,P+=r*$,A+=r*G,I+=r*Z,v+=(r=t[13])*K,b+=r*U,C+=r*j,w+=r*L,_+=r*B,O+=r*W,E+=r*X,S+=r*H,N+=r*z,T+=r*J,R+=r*F,k+=r*q,P+=r*V,A+=r*$,I+=r*G,D+=r*Z,b+=(r=t[14])*K,C+=r*U,w+=r*j,_+=r*L,O+=r*B,E+=r*W,S+=r*X,N+=r*H,T+=r*z,R+=r*J,k+=r*F,P+=r*q,A+=r*V,I+=r*$,D+=r*G,x+=r*Z,C+=(r=t[15])*K,s+=38*(_+=r*j),a+=38*(O+=r*L),c+=38*(E+=r*B),l+=38*(S+=r*W),d+=38*(N+=r*X),u+=38*(T+=r*H),h+=38*(R+=r*z),f+=38*(k+=r*J),g+=38*(P+=r*F),p+=38*(A+=r*q),m+=38*(I+=r*V),y+=38*(D+=r*$),v+=38*(x+=r*G),b+=38*(M+=r*Z),i=(r=(i+=38*(w+=r*U))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),v=(r=v+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),C=(r=C+o+65535)-65536*(o=Math.floor(r/65536)),i=(r=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),v=(r=v+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),C=(r=C+o+65535)-65536*(o=Math.floor(r/65536)),i+=o-1+37*(o-1),e[0]=i,e[1]=s,e[2]=a,e[3]=c,e[4]=l,e[5]=d,e[6]=u,e[7]=h,e[8]=f,e[9]=g,e[10]=p,e[11]=m,e[12]=y,e[13]=v,e[14]=b,e[15]=C}function B(e,t){L(e,t,t)}function W(e,n){var r,o=t();for(r=0;r<16;r++)o[r]=n[r];for(r=253;r>=0;r--)B(o,o),2!==r&&4!==r&&L(o,o,n);for(r=0;r<16;r++)e[r]=o[r]}function X(e,n){var r,o=t();for(r=0;r<16;r++)o[r]=n[r];for(r=250;r>=0;r--)B(o,o),1!==r&&L(o,o,n);for(r=0;r<16;r++)e[r]=o[r]}function H(e,n,r){var o,i,s=new Uint8Array(32),a=new Float64Array(80),l=t(),d=t(),u=t(),h=t(),f=t(),g=t();for(i=0;i<31;i++)s[i]=n[i];for(s[31]=127&n[31]|64,s[0]&=248,K(a,r),i=0;i<16;i++)d[i]=a[i],h[i]=l[i]=u[i]=0;for(l[0]=h[0]=1,i=254;i>=0;--i)I(l,d,o=s[i>>>3]>>>(7&i)&1),I(u,h,o),U(f,l,u),j(l,l,u),U(u,d,h),j(d,d,h),B(h,f),B(g,l),L(l,u,l),L(u,d,f),U(f,l,u),j(l,l,u),B(d,l),j(u,h,g),L(l,u,c),U(l,l,h),L(u,u,l),L(l,h,g),L(h,d,a),B(d,f),I(l,d,o),I(u,h,o);for(i=0;i<16;i++)a[i+16]=l[i],a[i+32]=u[i],a[i+48]=d[i],a[i+64]=h[i];var p=a.subarray(32),m=a.subarray(16);return W(p,p),L(m,m,p),D(e,m),0}function z(e,t){return H(e,t,i)}function J(e,t){return r(t,32),z(e,t)}function F(e,t,n){var r=new Uint8Array(32);return H(r,n,t),b(e,o,r,C)}S.prototype.blocks=function(e,t,n){for(var r,o,i,s,a,c,l,d,u,h,f,g,p,m,y,v,b,C,w,_=this.fin?0:2048,O=this.h[0],E=this.h[1],S=this.h[2],N=this.h[3],T=this.h[4],R=this.h[5],k=this.h[6],P=this.h[7],A=this.h[8],I=this.h[9],D=this.r[0],x=this.r[1],M=this.r[2],K=this.r[3],U=this.r[4],j=this.r[5],L=this.r[6],B=this.r[7],W=this.r[8],X=this.r[9];n>=16;)h=u=0,h+=(O+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*D,h+=(E+=8191&(r>>>13|(o=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*X),h+=(S+=8191&(o>>>10|(i=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*W),h+=(N+=8191&(i>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*B),u=(h+=(T+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*L))>>>13,h&=8191,h+=(R+=a>>>1&8191)*(5*j),h+=(k+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*U),h+=(P+=8191&(c>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*K),h+=(A+=8191&(l>>>8|(d=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*M),f=u+=(h+=(I+=d>>>5|_)*(5*x))>>>13,f+=O*x,f+=E*D,f+=S*(5*X),f+=N*(5*W),u=(f+=T*(5*B))>>>13,f&=8191,f+=R*(5*L),f+=k*(5*j),f+=P*(5*U),f+=A*(5*K),u+=(f+=I*(5*M))>>>13,f&=8191,g=u,g+=O*M,g+=E*x,g+=S*D,g+=N*(5*X),u=(g+=T*(5*W))>>>13,g&=8191,g+=R*(5*B),g+=k*(5*L),g+=P*(5*j),g+=A*(5*U),p=u+=(g+=I*(5*K))>>>13,p+=O*K,p+=E*M,p+=S*x,p+=N*D,u=(p+=T*(5*X))>>>13,p&=8191,p+=R*(5*W),p+=k*(5*B),p+=P*(5*L),p+=A*(5*j),m=u+=(p+=I*(5*U))>>>13,m+=O*U,m+=E*K,m+=S*M,m+=N*x,u=(m+=T*D)>>>13,m&=8191,m+=R*(5*X),m+=k*(5*W),m+=P*(5*B),m+=A*(5*L),y=u+=(m+=I*(5*j))>>>13,y+=O*j,y+=E*U,y+=S*K,y+=N*M,u=(y+=T*x)>>>13,y&=8191,y+=R*D,y+=k*(5*X),y+=P*(5*W),y+=A*(5*B),v=u+=(y+=I*(5*L))>>>13,v+=O*L,v+=E*j,v+=S*U,v+=N*K,u=(v+=T*M)>>>13,v&=8191,v+=R*x,v+=k*D,v+=P*(5*X),v+=A*(5*W),b=u+=(v+=I*(5*B))>>>13,b+=O*B,b+=E*L,b+=S*j,b+=N*U,u=(b+=T*K)>>>13,b&=8191,b+=R*M,b+=k*x,b+=P*D,b+=A*(5*X),C=u+=(b+=I*(5*W))>>>13,C+=O*W,C+=E*B,C+=S*L,C+=N*j,u=(C+=T*U)>>>13,C&=8191,C+=R*K,C+=k*M,C+=P*x,C+=A*D,w=u+=(C+=I*(5*X))>>>13,w+=O*X,w+=E*W,w+=S*B,w+=N*L,u=(w+=T*j)>>>13,w&=8191,w+=R*U,w+=k*K,w+=P*M,w+=A*x,O=h=8191&(u=(u=((u+=(w+=I*D)>>>13)<<2)+u|0)+(h&=8191)|0),E=f+=u>>>=13,S=g&=8191,N=p&=8191,T=m&=8191,R=y&=8191,k=v&=8191,P=b&=8191,A=C&=8191,I=w&=8191,t+=16,n-=16;this.h[0]=O,this.h[1]=E,this.h[2]=S,this.h[3]=N,this.h[4]=T,this.h[5]=R,this.h[6]=k,this.h[7]=P,this.h[8]=A,this.h[9]=I},S.prototype.finish=function(e,t){var n,r,o,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+n,n=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,r=(1^n)-1,i=0;i<10;i++)s[i]&=r;for(r=~r,i=0;i<10;i++)this.h[i]=this.h[i]&r|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},S.prototype.update=function(e,t,n){var r,o;if(this.leftover){for((o=16-this.leftover)>n&&(o=n),r=0;r<o;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(e,t,o),t+=o,n-=o),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var q=R,V=k,$=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function G(e,t,n,r){for(var o,i,s,a,c,l,d,u,h,f,g,p,m,y,v,b,C,w,_,O,E,S,N,T,R,k,P=new Int32Array(16),A=new Int32Array(16),I=e[0],D=e[1],x=e[2],M=e[3],K=e[4],U=e[5],j=e[6],L=e[7],B=t[0],W=t[1],X=t[2],H=t[3],z=t[4],J=t[5],F=t[6],q=t[7],V=0;r>=128;){for(_=0;_<16;_++)O=8*_+V,P[_]=n[O+0]<<24|n[O+1]<<16|n[O+2]<<8|n[O+3],A[_]=n[O+4]<<24|n[O+5]<<16|n[O+6]<<8|n[O+7];for(_=0;_<80;_++)if(o=I,i=D,s=x,a=M,c=K,l=U,d=j,h=B,f=W,g=X,p=H,m=z,y=J,v=F,N=65535&(S=q),T=S>>>16,R=65535&(E=L),k=E>>>16,N+=65535&(S=(z>>>14|K<<18)^(z>>>18|K<<14)^(K>>>9|z<<23)),T+=S>>>16,R+=65535&(E=(K>>>14|z<<18)^(K>>>18|z<<14)^(z>>>9|K<<23)),k+=E>>>16,N+=65535&(S=z&J^~z&F),T+=S>>>16,R+=65535&(E=K&U^~K&j),k+=E>>>16,N+=65535&(S=$[2*_+1]),T+=S>>>16,R+=65535&(E=$[2*_]),k+=E>>>16,E=P[_%16],T+=(S=A[_%16])>>>16,R+=65535&E,k+=E>>>16,R+=(T+=(N+=65535&S)>>>16)>>>16,N=65535&(S=w=65535&N|T<<16),T=S>>>16,R=65535&(E=C=65535&R|(k+=R>>>16)<<16),k=E>>>16,N+=65535&(S=(B>>>28|I<<4)^(I>>>2|B<<30)^(I>>>7|B<<25)),T+=S>>>16,R+=65535&(E=(I>>>28|B<<4)^(B>>>2|I<<30)^(B>>>7|I<<25)),k+=E>>>16,T+=(S=B&W^B&X^W&X)>>>16,R+=65535&(E=I&D^I&x^D&x),k+=E>>>16,u=65535&(R+=(T+=(N+=65535&S)>>>16)>>>16)|(k+=R>>>16)<<16,b=65535&N|T<<16,N=65535&(S=p),T=S>>>16,R=65535&(E=a),k=E>>>16,T+=(S=w)>>>16,R+=65535&(E=C),k+=E>>>16,D=o,x=i,M=s,K=a=65535&(R+=(T+=(N+=65535&S)>>>16)>>>16)|(k+=R>>>16)<<16,U=c,j=l,L=d,I=u,W=h,X=f,H=g,z=p=65535&N|T<<16,J=m,F=y,q=v,B=b,_%16==15)for(O=0;O<16;O++)E=P[O],N=65535&(S=A[O]),T=S>>>16,R=65535&E,k=E>>>16,E=P[(O+9)%16],N+=65535&(S=A[(O+9)%16]),T+=S>>>16,R+=65535&E,k+=E>>>16,C=P[(O+1)%16],N+=65535&(S=((w=A[(O+1)%16])>>>1|C<<31)^(w>>>8|C<<24)^(w>>>7|C<<25)),T+=S>>>16,R+=65535&(E=(C>>>1|w<<31)^(C>>>8|w<<24)^C>>>7),k+=E>>>16,C=P[(O+14)%16],T+=(S=((w=A[(O+14)%16])>>>19|C<<13)^(C>>>29|w<<3)^(w>>>6|C<<26))>>>16,R+=65535&(E=(C>>>19|w<<13)^(w>>>29|C<<3)^C>>>6),k+=E>>>16,k+=(R+=(T+=(N+=65535&S)>>>16)>>>16)>>>16,P[O]=65535&R|k<<16,A[O]=65535&N|T<<16;N=65535&(S=B),T=S>>>16,R=65535&(E=I),k=E>>>16,E=e[0],T+=(S=t[0])>>>16,R+=65535&E,k+=E>>>16,k+=(R+=(T+=(N+=65535&S)>>>16)>>>16)>>>16,e[0]=I=65535&R|k<<16,t[0]=B=65535&N|T<<16,N=65535&(S=W),T=S>>>16,R=65535&(E=D),k=E>>>16,E=e[1],T+=(S=t[1])>>>16,R+=65535&E,k+=E>>>16,k+=(R+=(T+=(N+=65535&S)>>>16)>>>16)>>>16,e[1]=D=65535&R|k<<16,t[1]=W=65535&N|T<<16,N=65535&(S=X),T=S>>>16,R=65535&(E=x),k=E>>>16,E=e[2],T+=(S=t[2])>>>16,R+=65535&E,k+=E>>>16,k+=(R+=(T+=(N+=65535&S)>>>16)>>>16)>>>16,e[2]=x=65535&R|k<<16,t[2]=X=65535&N|T<<16,N=65535&(S=H),T=S>>>16,R=65535&(E=M),k=E>>>16,E=e[3],T+=(S=t[3])>>>16,R+=65535&E,k+=E>>>16,k+=(R+=(T+=(N+=65535&S)>>>16)>>>16)>>>16,e[3]=M=65535&R|k<<16,t[3]=H=65535&N|T<<16,N=65535&(S=z),T=S>>>16,R=65535&(E=K),k=E>>>16,E=e[4],T+=(S=t[4])>>>16,R+=65535&E,k+=E>>>16,k+=(R+=(T+=(N+=65535&S)>>>16)>>>16)>>>16,e[4]=K=65535&R|k<<16,t[4]=z=65535&N|T<<16,N=65535&(S=J),T=S>>>16,R=65535&(E=U),k=E>>>16,E=e[5],T+=(S=t[5])>>>16,R+=65535&E,k+=E>>>16,k+=(R+=(T+=(N+=65535&S)>>>16)>>>16)>>>16,e[5]=U=65535&R|k<<16,t[5]=J=65535&N|T<<16,N=65535&(S=F),T=S>>>16,R=65535&(E=j),k=E>>>16,E=e[6],T+=(S=t[6])>>>16,R+=65535&E,k+=E>>>16,k+=(R+=(T+=(N+=65535&S)>>>16)>>>16)>>>16,e[6]=j=65535&R|k<<16,t[6]=F=65535&N|T<<16,N=65535&(S=q),T=S>>>16,R=65535&(E=L),k=E>>>16,E=e[7],T+=(S=t[7])>>>16,R+=65535&E,k+=E>>>16,k+=(R+=(T+=(N+=65535&S)>>>16)>>>16)>>>16,e[7]=L=65535&R|k<<16,t[7]=q=65535&N|T<<16,V+=128,r-=128}return r}function Z(e,t,n){var r,o=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),a=n;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,G(o,i,t,n),n%=128,r=0;r<n;r++)s[r]=t[a-n+r];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,g(s,n-8,a/536870912|0,a<<3),G(o,i,s,n),r=0;r<8;r++)g(e,8*r,o[r],i[r]);return 0}function Y(e,n){var r=t(),o=t(),i=t(),s=t(),a=t(),c=t(),l=t(),u=t(),h=t();j(r,e[1],e[0]),j(h,n[1],n[0]),L(r,r,h),U(o,e[0],e[1]),U(h,n[0],n[1]),L(o,o,h),L(i,e[3],n[3]),L(i,i,d),L(s,e[2],n[2]),U(s,s,s),j(a,o,r),j(c,s,i),U(l,s,i),U(u,o,r),L(e[0],a,c),L(e[1],u,l),L(e[2],l,c),L(e[3],a,u)}function Q(e,t,n){var r;for(r=0;r<4;r++)I(e[r],t[r],n)}function ee(e,n){var r=t(),o=t(),i=t();W(i,n[2]),L(r,n[0],i),L(o,n[1],i),D(e,o),e[31]^=M(r)<<7}function te(e,t,n){var r,o;for(P(e[0],s),P(e[1],a),P(e[2],a),P(e[3],s),o=255;o>=0;--o)Q(e,t,r=n[o/8|0]>>(7&o)&1),Y(t,e),Y(e,e),Q(e,t,r)}function ne(e,n){var r=[t(),t(),t(),t()];P(r[0],u),P(r[1],h),P(r[2],a),L(r[3],u,h),te(e,r,n)}function re(e,n,o){var i,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(o||r(n,32),Z(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,ne(a,s),ee(e,a),i=0;i<32;i++)n[i+32]=e[i];return 0}var oe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var n,r,o,i;for(r=63;r>=32;--r){for(n=0,o=r-32,i=r-12;o<i;++o)t[o]+=n-16*t[r]*oe[o-(r-32)],n=Math.floor((t[o]+128)/256),t[o]-=256*n;t[o]+=n,t[r]=0}for(n=0,o=0;o<32;o++)t[o]+=n-(t[31]>>4)*oe[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*oe[o];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function se(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,n)}function ae(e,n,r,o){var i,s,a=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),d=new Float64Array(64),u=[t(),t(),t(),t()];Z(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=r+64;for(i=0;i<r;i++)e[64+i]=n[i];for(i=0;i<32;i++)e[32+i]=a[32+i];for(Z(l,e.subarray(32),r+32),se(l),ne(u,l),ee(e,u),i=32;i<64;i++)e[i]=o[i];for(Z(c,e,r+64),se(c),i=0;i<64;i++)d[i]=0;for(i=0;i<32;i++)d[i]=l[i];for(i=0;i<32;i++)for(s=0;s<32;s++)d[i+s]+=c[i]*a[s];return ie(e.subarray(32),d),h}function ce(e,n,r,o){var i,c=new Uint8Array(32),d=new Uint8Array(64),u=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(r<64)return-1;if(function(e,n){var r=t(),o=t(),i=t(),c=t(),d=t(),u=t(),h=t();return P(e[2],a),K(e[1],n),B(i,e[1]),L(c,i,l),j(i,i,e[2]),U(c,e[2],c),B(d,c),B(u,d),L(h,u,d),L(r,h,i),L(r,r,c),X(r,r),L(r,r,i),L(r,r,c),L(r,r,c),L(e[0],r,c),B(o,e[0]),L(o,o,c),x(o,i)&&L(e[0],e[0],f),B(o,e[0]),L(o,o,c),x(o,i)?-1:(M(e[0])===n[31]>>7&&j(e[0],s,e[0]),L(e[3],e[0],e[1]),0)}(h,o))return-1;for(i=0;i<r;i++)e[i]=n[i];for(i=0;i<32;i++)e[i+32]=o[i];if(Z(d,e,r),se(d),te(u,h,d),ne(h,n.subarray(32)),Y(u,h),ee(c,u),r-=64,y(n,0,c,0)){for(i=0;i<r;i++)e[i]=0;return-1}for(i=0;i<r;i++)e[i]=n[i+64];return r}var le=64,de=32,ue=64;function he(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function fe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ge(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:E,crypto_stream:O,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:_,crypto_onetimeauth:N,crypto_onetimeauth_verify:T,crypto_verify_16:m,crypto_verify_32:y,crypto_secretbox:R,crypto_secretbox_open:k,crypto_scalarmult:H,crypto_scalarmult_base:z,crypto_box_beforenm:F,crypto_box_afternm:q,crypto_box:function(e,t,n,r,o,i){var s=new Uint8Array(32);return F(s,o,i),q(e,t,n,r,s)},crypto_box_open:function(e,t,n,r,o,i){var s=new Uint8Array(32);return F(s,o,i),V(e,t,n,r,s)},crypto_box_keypair:J,crypto_hash:Z,crypto_sign:ae,crypto_sign_keypair:re,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:de,crypto_sign_SECRETKEYBYTES:ue,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:l,L:oe,pack25519:D,unpack25519:K,M:L,A:U,S:B,Z:j,pow2523:X,add:Y,set25519:P,modL:ie,scalarmult:te,scalarbase:ne},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,n){fe(e,t,n),he(n,t);for(var r=new Uint8Array(32+e.length),o=new Uint8Array(r.length),i=0;i<e.length;i++)r[i+32]=e[i];return R(o,r,r.length,t,n),o.subarray(16)},e.secretbox.open=function(e,t,n){fe(e,t,n),he(n,t);for(var r=new Uint8Array(16+e.length),o=new Uint8Array(r.length),i=0;i<e.length;i++)r[i+16]=e[i];return r.length<32||0!==k(o,r,r.length,t,n)?null:o.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(fe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return H(n,e,t),n},e.scalarMult.base=function(e){if(fe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return z(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,o){var i=e.box.before(r,o);return e.secretbox(t,n,i)},e.box.before=function(e,t){fe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return F(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,o){var i=e.box.before(r,o);return e.secretbox.open(t,n,i)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return J(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(fe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(fe(e,t),t.length!==ue)throw new Error("bad secret key size");var n=new Uint8Array(le+e.length);return ae(n,e,e.length,t),n},e.sign.open=function(e,t){if(fe(e,t),t.length!==de)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=ce(n,e,e.length,t);if(r<0)return null;for(var o=new Uint8Array(r),i=0;i<o.length;i++)o[i]=n[i];return o},e.sign.detached=function(t,n){for(var r=e.sign(t,n),o=new Uint8Array(le),i=0;i<o.length;i++)o[i]=r[i];return o},e.sign.detached.verify=function(e,t,n){if(fe(e,t,n),t.length!==le)throw new Error("bad signature size");if(n.length!==de)throw new Error("bad public key size");var r,o=new Uint8Array(le+e.length),i=new Uint8Array(le+e.length);for(r=0;r<le;r++)o[r]=t[r];for(r=0;r<e.length;r++)o[r+le]=e[r];return ce(i,o,o.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(de),t=new Uint8Array(ue);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(fe(e),e.length!==ue)throw new Error("bad secret key size");for(var t=new Uint8Array(de),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(fe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(de),n=new Uint8Array(ue),r=0;r<32;r++)n[r]=e[r];return re(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=de,e.sign.secretKeyLength=ue,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){fe(e);var t=new Uint8Array(64);return Z(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return fe(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===p(e,0,t,0,e.length)},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues?e.setPRNG((function(e,n){var r,o=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(o.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=o[r];ge(o)})):(t=n(1281))&&t.randomBytes&&e.setPRNG((function(e,n){var r,o=t.randomBytes(n);for(r=0;r<n;r++)e[r]=o[r];ge(o)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},7232:function(e,t,n){var r;!function(o,i){"use strict";var s="function",a="undefined",c="object",l="string",d="major",u="model",h="name",f="type",g="vendor",p="version",m="architecture",y="console",v="mobile",b="tablet",C="smarttv",w="wearable",_="embedded",O="Amazon",E="Apple",S="ASUS",N="BlackBerry",T="Browser",R="Chrome",k="Firefox",P="Google",A="Huawei",I="LG",D="Microsoft",x="Motorola",M="Opera",K="Samsung",U="Sharp",j="Sony",L="Xiaomi",B="Zebra",W="Facebook",X="Chromium OS",H="Mac OS",z=" Browser",J=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},F=function(e,t){return typeof e===l&&-1!==q(t).indexOf(q(e))},q=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},$=function(e,t){for(var n,r,o,a,l,d,u=0;u<t.length&&!l;){var h=t[u],f=t[u+1];for(n=r=0;n<h.length&&!l&&h[n];)if(l=h[n++].exec(e))for(o=0;o<f.length;o++)d=l[++r],typeof(a=f[o])===c&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,d):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=d?d.replace(a[1],a[2]):i:this[a[0]]=d?a[1].call(this,d,a[2]):i:4===a.length&&(this[a[0]]=d?a[3].call(this,d.replace(a[1],a[2])):i):this[a]=d||i;u+=2}},G=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(F(t[n][r],e))return"?"===n?i:n}else if(F(t[n],e))return"?"===n?i:n;return t.hasOwnProperty("*")?t["*"]:e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,p],[/opios[\/ ]+([\w\.]+)/i],[p,[h,M+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[h,M+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[h,M]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[p,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,p],[/quark(?:pc)?\/([-\w\.]+)/i],[p,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[p,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[h,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[h,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+T],p],[/\bfocus\/([\w\.]+)/i],[p,[h,k+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[h,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[h,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[h,"MIUI"+z]],[/fxios\/([\w\.-]+)/i],[p,[h,k]],[/\bqihoobrowser\/?([\w\.]*)/i],[p,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+z],p],[/samsungbrowser\/([\w\.]+)/i],[p,[h,K+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[p,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,p],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[p,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,W],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[h,R+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,R+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[h,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[p,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],p],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[h,k+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[p,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,q]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",q]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[g,K],[f,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[g,K],[f,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[g,E],[f,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[g,E],[f,b]],[/(macintosh);/i],[u,[g,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[g,U],[f,v]],[/(?:honor)([-\w ]+)[;\)]/i],[u,[g,"Honor"],[f,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[g,A],[f,b]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[g,A],[f,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[u,/_/g," "],[g,L],[f,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[g,L],[f,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[g,"OPPO"],[f,v]],[/\b(opd2\d{3}a?) bui/i],[u,[g,"OPPO"],[f,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[g,"Vivo"],[f,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[g,"Realme"],[f,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[g,x],[f,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[g,x],[f,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[g,I],[f,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[g,I],[f,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[g,"Lenovo"],[f,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[g,"Nokia"],[f,v]],[/(pixel c)\b/i],[u,[g,P],[f,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[g,P],[f,v]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[g,j],[f,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[g,j],[f,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[g,"OnePlus"],[f,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[g,O],[f,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[g,O],[f,v]],[/(playbook);[-\w\),; ]+(rim)/i],[u,g,[f,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[g,N],[f,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[g,S],[f,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[g,S],[f,v]],[/(nexus 9)/i],[u,[g,"HTC"],[f,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[u,/_/g," "],[f,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[g,"TCL"],[f,b]],[/(itel) ((\w+))/i],[[g,q],u,[f,G,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[g,"Acer"],[f,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[g,"Meizu"],[f,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[g,"Ulefone"],[f,v]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[u,[g,"Energizer"],[f,v]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[u,[g,"Cat"],[f,v]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[u,[g,"Smartfren"],[f,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[g,"Nothing"],[f,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,u,[f,v]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,u,[f,b]],[/(surface duo)/i],[u,[g,D],[f,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[g,"Fairphone"],[f,v]],[/(u304aa)/i],[u,[g,"AT&T"],[f,v]],[/\bsie-(\w*)/i],[u,[g,"Siemens"],[f,v]],[/\b(rct\w+) b/i],[u,[g,"RCA"],[f,b]],[/\b(venue[\d ]{2,7}) b/i],[u,[g,"Dell"],[f,b]],[/\b(q(?:mv|ta)\w+) b/i],[u,[g,"Verizon"],[f,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[g,"Barnes & Noble"],[f,b]],[/\b(tm\d{3}\w+) b/i],[u,[g,"NuVision"],[f,b]],[/\b(k88) b/i],[u,[g,"ZTE"],[f,b]],[/\b(nx\d{3}j) b/i],[u,[g,"ZTE"],[f,v]],[/\b(gen\d{3}) b.+49h/i],[u,[g,"Swiss"],[f,v]],[/\b(zur\d{3}) b/i],[u,[g,"Swiss"],[f,b]],[/\b((zeki)?tb.*\b) b/i],[u,[g,"Zeki"],[f,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],u,[f,b]],[/\b(ns-?\w{0,9}) b/i],[u,[g,"Insignia"],[f,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[g,"NextBook"],[f,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],u,[f,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],u,[f,v]],[/\b(ph-1) /i],[u,[g,"Essential"],[f,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[g,"Envizen"],[f,b]],[/\b(trio[-\w\. ]+) b/i],[u,[g,"MachSpeed"],[f,b]],[/\btu_(1491) b/i],[u,[g,"Rotor"],[f,b]],[/(shield[\w ]+) b/i],[u,[g,"Nvidia"],[f,b]],[/(sprint) (\w+)/i],[g,u,[f,v]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[g,D],[f,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[g,B],[f,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[g,B],[f,v]],[/smart-tv.+(samsung)/i],[g,[f,C]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[g,K],[f,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,I],[f,C]],[/(apple) ?tv/i],[g,[u,E+" TV"],[f,C]],[/crkey/i],[[u,R+"cast"],[g,P],[f,C]],[/droid.+aft(\w+)( bui|\))/i],[u,[g,O],[f,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[g,U],[f,C]],[/(bravia[\w ]+)( bui|\))/i],[u,[g,j],[f,C]],[/(mitv-\w{5}) bui/i],[u,[g,L],[f,C]],[/Hbbtv.*(technisat) (.*);/i],[g,u,[f,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,V],[u,V],[f,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,u,[f,y]],[/droid.+; (shield) bui/i],[u,[g,"Nvidia"],[f,y]],[/(playstation [345portablevi]+)/i],[u,[g,j],[f,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[g,D],[f,y]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[u,[g,K],[f,w]],[/((pebble))app/i],[g,u,[f,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[g,E],[f,w]],[/droid.+; (glass) \d/i],[u,[g,P],[f,w]],[/droid.+; (wt63?0{2,3})\)/i],[u,[g,B],[f,w]],[/droid.+; (glass) \d/i],[u,[g,P],[f,w]],[/(pico) (4|neo3(?: link|pro)?)/i],[g,u,[f,w]],[/; (quest( \d| pro)?)/i],[u,[g,W],[f,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[f,_]],[/(aeobc)\b/i],[u,[g,O],[f,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[f,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[f,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,v]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[h,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[h,p],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[p,G,Z]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,G,Z],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,H],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,p],[/\(bb(10);/i],[p,[h,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[h,k+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[h,R+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,X],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,p],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,p]]},Q=function(e,t){if(typeof e===c&&(t=e,e=i),!(this instanceof Q))return new Q(e,t).getResult();var n=typeof o!==a&&o.navigator?o.navigator:i,r=e||(n&&n.userAgent?n.userAgent:""),y=n&&n.userAgentData?n.userAgentData:i,C=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Y,t):Y,w=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[h]=i,t[p]=i,$.call(t,r,C.browser),t[d]=typeof(e=t[p])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:i,w&&n&&n.brave&&typeof n.brave.isBrave==s&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[m]=i,$.call(e,r,C.cpu),e},this.getDevice=function(){var e={};return e[g]=i,e[u]=i,e[f]=i,$.call(e,r,C.device),w&&!e[f]&&y&&y.mobile&&(e[f]=v),w&&"Macintosh"==e[u]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[u]="iPad",e[f]=b),e},this.getEngine=function(){var e={};return e[h]=i,e[p]=i,$.call(e,r,C.engine),e},this.getOS=function(){var e={};return e[h]=i,e[p]=i,$.call(e,r,C.os),w&&!e[h]&&y&&y.platform&&"Unknown"!=y.platform&&(e[h]=y.platform.replace(/chrome os/i,X).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===l&&e.length>500?V(e,500):e,this},this.setUA(r),this};Q.VERSION="1.0.40",Q.BROWSER=J([h,p,d]),Q.CPU=J([m]),Q.DEVICE=J([u,g,f,y,v,C,b,w,_]),Q.ENGINE=Q.OS=J([h,p]),typeof t!==a?(e.exports&&(t=e.exports=Q),t.UAParser=Q):n.amdO?(r=function(){return Q}.call(t,n,t,e))===i||(e.exports=r):typeof o!==a&&(o.UAParser=Q);var ee=typeof o!==a&&(o.jQuery||o.Zepto);if(ee&&!ee.ua){var te=new Q;ee.ua=te.getResult(),ee.ua.get=function(){return te.getUA()},ee.ua.set=function(e){te.setUA(e);var t=te.getResult();for(var n in t)ee.ua[n]=t[n]}}}("object"==typeof window?window:this)},6837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZodError=t.quotelessJson=t.ZodIssueCode=void 0;const r=n(2146);t.ZodIssueCode=r.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),t.quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class o extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof o))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,r.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}t.ZodError=o,o.create=e=>new o(e)},627:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMap=t.setErrorMap=t.defaultErrorMap=void 0;const o=r(n(8227));t.defaultErrorMap=o.default;let i=o.default;t.setErrorMap=function(e){i=e},t.getErrorMap=function(){return i}},6555:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(627),t),o(n(7231),t),o(n(1892),t),o(n(2146),t),o(n(2739),t),o(n(6837),t)},7369:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.errorUtil=void 0,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(n||(t.errorUtil=n={}))},7231:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=t.isValid=t.isDirty=t.isAborted=t.OK=t.DIRTY=t.INVALID=t.ParseStatus=t.addIssueToContext=t.EMPTY_PATH=t.makeIssue=void 0;const o=n(627),i=r(n(8227));t.makeIssue=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,i=[...n,...o.path||[]],s={...o,path:i};if(void 0!==o.message)return{...o,path:i,message:o.message};let a="";const c=r.filter((e=>!!e)).slice().reverse();for(const e of c)a=e(s,{data:t,defaultError:a}).message;return{...o,path:i,message:a}},t.EMPTY_PATH=[],t.addIssueToContext=function(e,n){const r=(0,o.getErrorMap)(),s=(0,t.makeIssue)({issueData:n,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===i.default?void 0:i.default].filter((e=>!!e))});e.common.issues.push(s)};class s{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const o of n){if("aborted"===o.status)return t.INVALID;"dirty"===o.status&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return s.mergeObjectSync(e,n)}static mergeObjectSync(e,n){const r={};for(const o of n){const{key:n,value:i}=o;if("aborted"===n.status)return t.INVALID;if("aborted"===i.status)return t.INVALID;"dirty"===n.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===n.value||void 0===i.value&&!o.alwaysSet||(r[n.value]=i.value)}return{status:e.value,value:r}}}t.ParseStatus=s,t.INVALID=Object.freeze({status:"aborted"}),t.DIRTY=e=>({status:"dirty",value:e}),t.OK=e=>({status:"valid",value:e}),t.isAborted=e=>"aborted"===e.status,t.isDirty=e=>"dirty"===e.status,t.isValid=e=>"valid"===e.status,t.isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise},1892:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2146:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.getParsedType=t.ZodParsedType=t.objectUtil=t.util=void 0,function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(n||(t.util=n={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(r||(t.objectUtil=r={})),t.ZodParsedType=n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),t.getParsedType=e=>{switch(typeof e){case"undefined":return t.ZodParsedType.undefined;case"string":return t.ZodParsedType.string;case"number":return isNaN(e)?t.ZodParsedType.nan:t.ZodParsedType.number;case"boolean":return t.ZodParsedType.boolean;case"function":return t.ZodParsedType.function;case"bigint":return t.ZodParsedType.bigint;case"symbol":return t.ZodParsedType.symbol;case"object":return Array.isArray(e)?t.ZodParsedType.array:null===e?t.ZodParsedType.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?t.ZodParsedType.promise:"undefined"!=typeof Map&&e instanceof Map?t.ZodParsedType.map:"undefined"!=typeof Set&&e instanceof Set?t.ZodParsedType.set:"undefined"!=typeof Date&&e instanceof Date?t.ZodParsedType.date:t.ZodParsedType.object;default:return t.ZodParsedType.unknown}}},1614:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.z=void 0;const a=i(n(6555));t.z=a,s(n(6555),t),t.default=a},8227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2146),o=n(6837);t.default=(e,t)=>{let n;switch(e.code){case o.ZodIssueCode.invalid_type:n=e.received===r.ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case o.ZodIssueCode.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,r.util.jsonStringifyReplacer)}`;break;case o.ZodIssueCode.unrecognized_keys:n=`Unrecognized key(s) in object: ${r.util.joinValues(e.keys,", ")}`;break;case o.ZodIssueCode.invalid_union:n="Invalid input";break;case o.ZodIssueCode.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${r.util.joinValues(e.options)}`;break;case o.ZodIssueCode.invalid_enum_value:n=`Invalid enum value. Expected ${r.util.joinValues(e.options)}, received '${e.received}'`;break;case o.ZodIssueCode.invalid_arguments:n="Invalid function arguments";break;case o.ZodIssueCode.invalid_return_type:n="Invalid function return type";break;case o.ZodIssueCode.invalid_date:n="Invalid date";break;case o.ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:r.util.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case o.ZodIssueCode.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case o.ZodIssueCode.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case o.ZodIssueCode.custom:n="Invalid input";break;case o.ZodIssueCode.invalid_intersection_types:n="Intersection results could not be merged";break;case o.ZodIssueCode.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case o.ZodIssueCode.not_finite:n="Number must be finite";break;default:n=t.defaultError,r.util.assertNever(e)}return{message:n}}},2739:function(e,t,n){"use strict";var r,o,i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=t.bigint=t.array=t.any=t.coerce=t.ZodFirstPartyTypeKind=t.late=t.ZodSchema=t.Schema=t.custom=t.ZodReadonly=t.ZodPipeline=t.ZodBranded=t.BRAND=t.ZodNaN=t.ZodCatch=t.ZodDefault=t.ZodNullable=t.ZodOptional=t.ZodTransformer=t.ZodEffects=t.ZodPromise=t.ZodNativeEnum=t.ZodEnum=t.ZodLiteral=t.ZodLazy=t.ZodFunction=t.ZodSet=t.ZodMap=t.ZodRecord=t.ZodTuple=t.ZodIntersection=t.ZodDiscriminatedUnion=t.ZodUnion=t.ZodObject=t.ZodArray=t.ZodVoid=t.ZodNever=t.ZodUnknown=t.ZodAny=t.ZodNull=t.ZodUndefined=t.ZodSymbol=t.ZodDate=t.ZodBoolean=t.ZodBigInt=t.ZodNumber=t.ZodString=t.datetimeRegex=t.ZodType=void 0,t.NEVER=t.void=t.unknown=t.union=t.undefined=t.tuple=t.transformer=t.symbol=t.string=t.strictObject=t.set=t.record=t.promise=t.preprocess=t.pipeline=t.ostring=t.optional=t.onumber=t.oboolean=t.object=t.number=t.nullable=t.null=t.never=t.nativeEnum=t.nan=t.map=t.literal=t.lazy=t.intersection=t.instanceof=t.function=t.enum=t.effect=t.discriminatedUnion=t.date=void 0;const a=n(627),c=n(7369),l=n(7231),d=n(2146),u=n(6837);class h{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const f=(e,t)=>{if((0,l.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new u.ZodError(e.common.issues);return this._error=t,this._error}}};function g(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:o}:{errorMap:(t,o)=>{var i,s;const{message:a}=e;return"invalid_enum_value"===t.code?{message:null!=a?a:o.defaultError}:void 0===o.data?{message:null!==(i=null!=a?a:r)&&void 0!==i?i:o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:null!==(s=null!=a?a:n)&&void 0!==s?s:o.defaultError}},description:o}}class p{get description(){return this._def.description}_getType(e){return(0,d.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,d.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new l.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,d.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if((0,l.isAsync)(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,d.getParsedType)(e)},o=this._parseSync({data:e,path:r.path,parent:r});return f(r,o)}"~validate"(e){var t,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,d.getParsedType)(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return(0,l.isValid)(t)?{value:t.value}:{issues:r.common.issues}}catch(e){(null===(n=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then((e=>(0,l.isValid)(e)?{value:e.value}:{issues:r.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,d.getParsedType)(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await((0,l.isAsync)(r)?r:Promise.resolve(r));return f(n,o)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const o=e(t),i=()=>r.addIssue({code:u.ZodIssueCode.custom,...n(t)});return"undefined"!=typeof Promise&&o instanceof Promise?o.then((e=>!!e||(i(),!1))):!!o||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new pe({schema:this,typeName:Se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return me.create(this,this._def)}nullable(){return ye.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return G.create(this)}promise(){return ge.create(this,this._def)}or(e){return Q.create([this,e],this._def)}and(e){return re.create(this,e,this._def)}transform(e){return new pe({...g(this._def),schema:this,typeName:Se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ve({...g(this._def),innerType:this,defaultValue:t,typeName:Se.ZodDefault})}brand(){return new we({typeName:Se.ZodBranded,type:this,...g(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new be({...g(this._def),innerType:this,catchValue:t,typeName:Se.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return _e.create(this,e)}readonly(){return Oe.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}t.ZodType=p,t.Schema=p,t.ZodSchema=p;const m=/^c[^\s-]{8,}$/i,y=/^[0-9a-z]+$/,v=/^[0-9A-HJKMNP-TV-Z]{26}$/i,b=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C=/^[a-z0-9_-]{21}$/i,w=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,O=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let E;const S=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,N=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,T=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,R=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,k=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,P=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,A="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",I=new RegExp(`^${A}$`);function D(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function x(e){let t=`${A}T${D(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function M(e,t){if(!w.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!("object"!=typeof o||null===o||!o.typ||!o.alg||t&&o.alg!==t)}catch(e){return!1}}function K(e,t){return!("v4"!==t&&t||!N.test(e))||!("v6"!==t&&t||!R.test(e))}t.datetimeRegex=x;class U extends p{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==d.ZodParsedType.string){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.string,received:t.parsedType}),l.INVALID}const t=new l.ParseStatus;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,o=e.data.length<i.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)O.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"email",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)E||(E=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),E.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"emoji",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)b.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"uuid",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)C.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"nanoid",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)m.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"cuid",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)y.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"cuid2",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)v.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"ulid",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"url",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"regex",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty()):"datetime"===i.kind?x(i).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.invalid_string,validation:"datetime",message:i.message}),t.dirty()):"date"===i.kind?I.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.invalid_string,validation:"date",message:i.message}),t.dirty()):"time"===i.kind?new RegExp(`^${D(i)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.invalid_string,validation:"time",message:i.message}),t.dirty()):"duration"===i.kind?_.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"duration",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?(r=e.data,("v4"!==(o=i.version)&&o||!S.test(r))&&("v6"!==o&&o||!T.test(r))&&(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"ip",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty())):"jwt"===i.kind?M(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"jwt",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?K(e.data,i.version)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"cidr",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?k.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"base64",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?P.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{validation:"base64url",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):d.util.assertNever(i);var r,o;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:u.ZodIssueCode.invalid_string,...c.errorUtil.errToObj(n)})}_addCheck(e){return new U({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...c.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...c.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...c.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...c.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...c.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...c.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...c.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...c.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...c.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...c.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...c.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...c.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...c.errorUtil.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...c.errorUtil.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...c.errorUtil.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...c.errorUtil.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...c.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...c.errorUtil.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...c.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...c.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...c.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...c.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...c.errorUtil.errToObj(t)})}nonempty(e){return this.min(1,c.errorUtil.errToObj(e))}trim(){return new U({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new U({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new U({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function j(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return parseInt(e.toFixed(o).replace(".",""))%parseInt(t.toFixed(o).replace(".",""))/Math.pow(10,o)}t.ZodString=U,U.create=e=>{var t;return new U({checks:[],typeName:Se.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...g(e)})};class L extends p{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==d.ZodParsedType.number){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.number,received:t.parsedType}),l.INVALID}let t;const n=new l.ParseStatus;for(const r of this._def.checks)"int"===r.kind?d.util.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==j(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.not_finite,message:r.message}),n.dirty()):d.util.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,c.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,c.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,c.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,c.errorUtil.toString(t))}setLimit(e,t,n,r){return new L({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:c.errorUtil.toString(r)}]})}_addCheck(e){return new L({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:c.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:c.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:c.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:c.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:c.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:c.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:c.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:c.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:c.errorUtil.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&d.util.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}t.ZodNumber=L,L.create=e=>new L({checks:[],typeName:Se.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...g(e)});class B extends p{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==d.ZodParsedType.bigint)return this._getInvalidInput(e);let t;const n=new l.ParseStatus;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):d.util.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.bigint,received:t.parsedType}),l.INVALID}gte(e,t){return this.setLimit("min",e,!0,c.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,c.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,c.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,c.errorUtil.toString(t))}setLimit(e,t,n,r){return new B({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:c.errorUtil.toString(r)}]})}_addCheck(e){return new B({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:c.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:c.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:c.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:c.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:c.errorUtil.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}t.ZodBigInt=B,B.create=e=>{var t;return new B({checks:[],typeName:Se.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...g(e)})};class W extends p{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==d.ZodParsedType.boolean){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.boolean,received:t.parsedType}),l.INVALID}return(0,l.OK)(e.data)}}t.ZodBoolean=W,W.create=e=>new W({typeName:Se.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...g(e)});class X extends p{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==d.ZodParsedType.date){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.date,received:t.parsedType}),l.INVALID}if(isNaN(e.data.getTime())){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_date}),l.INVALID}const t=new l.ParseStatus;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):d.util.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:c.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:c.errorUtil.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}t.ZodDate=X,X.create=e=>new X({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Se.ZodDate,...g(e)});class H extends p{_parse(e){if(this._getType(e)!==d.ZodParsedType.symbol){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.symbol,received:t.parsedType}),l.INVALID}return(0,l.OK)(e.data)}}t.ZodSymbol=H,H.create=e=>new H({typeName:Se.ZodSymbol,...g(e)});class z extends p{_parse(e){if(this._getType(e)!==d.ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.undefined,received:t.parsedType}),l.INVALID}return(0,l.OK)(e.data)}}t.ZodUndefined=z,z.create=e=>new z({typeName:Se.ZodUndefined,...g(e)});class J extends p{_parse(e){if(this._getType(e)!==d.ZodParsedType.null){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.null,received:t.parsedType}),l.INVALID}return(0,l.OK)(e.data)}}t.ZodNull=J,J.create=e=>new J({typeName:Se.ZodNull,...g(e)});class F extends p{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,l.OK)(e.data)}}t.ZodAny=F,F.create=e=>new F({typeName:Se.ZodAny,...g(e)});class q extends p{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,l.OK)(e.data)}}t.ZodUnknown=q,q.create=e=>new q({typeName:Se.ZodUnknown,...g(e)});class V extends p{_parse(e){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.never,received:t.parsedType}),l.INVALID}}t.ZodNever=V,V.create=e=>new V({typeName:Se.ZodNever,...g(e)});class $ extends p{_parse(e){if(this._getType(e)!==d.ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.void,received:t.parsedType}),l.INVALID}return(0,l.OK)(e.data)}}t.ZodVoid=$,$.create=e=>new $({typeName:Se.ZodVoid,...g(e)});class G extends p{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==d.ZodParsedType.array)return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.array,received:t.parsedType}),l.INVALID;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(e||o)&&((0,l.addIssueToContext)(t,{code:e?u.ZodIssueCode.too_big:u.ZodIssueCode.too_small,minimum:o?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&((0,l.addIssueToContext)(t,{code:u.ZodIssueCode.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&((0,l.addIssueToContext)(t,{code:u.ZodIssueCode.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new h(t,e,t.path,n))))).then((e=>l.ParseStatus.mergeArray(n,e)));const o=[...t.data].map(((e,n)=>r.type._parseSync(new h(t,e,t.path,n))));return l.ParseStatus.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new G({...this._def,minLength:{value:e,message:c.errorUtil.toString(t)}})}max(e,t){return new G({...this._def,maxLength:{value:e,message:c.errorUtil.toString(t)}})}length(e,t){return new G({...this._def,exactLength:{value:e,message:c.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}function Z(e){if(e instanceof Y){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=me.create(Z(r))}return new Y({...e._def,shape:()=>t})}return e instanceof G?new G({...e._def,type:Z(e.element)}):e instanceof me?me.create(Z(e.unwrap())):e instanceof ye?ye.create(Z(e.unwrap())):e instanceof oe?oe.create(e.items.map((e=>Z(e)))):e}t.ZodArray=G,G.create=(e,t)=>new G({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Se.ZodArray,...g(t)});class Y extends p{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=d.util.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==d.ZodParsedType.object){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.object,received:t.parsedType}),l.INVALID}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof V&&"strip"===this._def.unknownKeys))for(const e in n.data)o.includes(e)||i.push(e);const s=[];for(const e of o){const t=r[e],o=n.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new h(n,o,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof V){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&((0,l.addIssueToContext)(n,{code:u.ZodIssueCode.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new h(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>l.ParseStatus.mergeObjectSync(t,e))):l.ParseStatus.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return c.errorUtil.errToObj,new Y({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,o,i,s;const a=null!==(i=null===(o=(r=this._def).errorMap)||void 0===o?void 0:o.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=c.errorUtil.errToObj(e).message)&&void 0!==s?s:a}:{message:a}}}:{}})}strip(){return new Y({...this._def,unknownKeys:"strip"})}passthrough(){return new Y({...this._def,unknownKeys:"passthrough"})}extend(e){return new Y({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Y({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Se.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Y({...this._def,catchall:e})}pick(e){const t={};return d.util.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Y({...this._def,shape:()=>t})}omit(e){const t={};return d.util.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Y({...this._def,shape:()=>t})}deepPartial(){return Z(this)}partial(e){const t={};return d.util.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Y({...this._def,shape:()=>t})}required(e){const t={};return d.util.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof me;)e=e._def.innerType;t[n]=e}})),new Y({...this._def,shape:()=>t})}keyof(){return ue(d.util.objectKeys(this.shape))}}t.ZodObject=Y,Y.create=(e,t)=>new Y({shape:()=>e,unknownKeys:"strip",catchall:V.create(),typeName:Se.ZodObject,...g(t)}),Y.strictCreate=(e,t)=>new Y({shape:()=>e,unknownKeys:"strict",catchall:V.create(),typeName:Se.ZodObject,...g(t)}),Y.lazycreate=(e,t)=>new Y({shape:e,unknownKeys:"strip",catchall:V.create(),typeName:Se.ZodObject,...g(t)});class Q extends p{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new u.ZodError(e.ctx.common.issues)));return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_union,unionErrors:n}),l.INVALID}));{let e;const r=[];for(const o of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=r.map((e=>new u.ZodError(e)));return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_union,unionErrors:o}),l.INVALID}}get options(){return this._def.options}}t.ZodUnion=Q,Q.create=(e,t)=>new Q({options:e,typeName:Se.ZodUnion,...g(t)});const ee=e=>e instanceof le?ee(e.schema):e instanceof pe?ee(e.innerType()):e instanceof de?[e.value]:e instanceof he?e.options:e instanceof fe?d.util.objectValues(e.enum):e instanceof ve?ee(e._def.innerType):e instanceof z?[void 0]:e instanceof J?[null]:e instanceof me?[void 0,...ee(e.unwrap())]:e instanceof ye?[null,...ee(e.unwrap())]:e instanceof we||e instanceof Oe?ee(e.unwrap()):e instanceof be?ee(e._def.innerType):[];class te extends p{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.ZodParsedType.object)return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.object,received:t.parsedType}),l.INVALID;const n=this.discriminator,r=t.data[n],o=this.optionsMap.get(r);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):((0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),l.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=ee(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of t){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,n)}}return new te({typeName:Se.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...g(n)})}}function ne(e,t){const n=(0,d.getParsedType)(e),r=(0,d.getParsedType)(t);if(e===t)return{valid:!0,data:e};if(n===d.ZodParsedType.object&&r===d.ZodParsedType.object){const n=d.util.objectKeys(t),r=d.util.objectKeys(e).filter((e=>-1!==n.indexOf(e))),o={...e,...t};for(const n of r){const r=ne(e[n],t[n]);if(!r.valid)return{valid:!1};o[n]=r.data}return{valid:!0,data:o}}if(n===d.ZodParsedType.array&&r===d.ZodParsedType.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=ne(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===d.ZodParsedType.date&&r===d.ZodParsedType.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}t.ZodDiscriminatedUnion=te;class re extends p{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if((0,l.isAborted)(e)||(0,l.isAborted)(r))return l.INVALID;const o=ne(e.value,r.value);return o.valid?(((0,l.isDirty)(e)||(0,l.isDirty)(r))&&t.dirty(),{status:t.value,value:o.data}):((0,l.addIssueToContext)(n,{code:u.ZodIssueCode.invalid_intersection_types}),l.INVALID)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}t.ZodIntersection=re,re.create=(e,t,n)=>new re({left:e,right:t,typeName:Se.ZodIntersection,...g(n)});class oe extends p{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==d.ZodParsedType.array)return(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.array,received:n.parsedType}),l.INVALID;if(n.data.length<this._def.items.length)return(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),l.INVALID;!this._def.rest&&n.data.length>this._def.items.length&&((0,l.addIssueToContext)(n,{code:u.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new h(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>l.ParseStatus.mergeArray(t,e))):l.ParseStatus.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new oe({...this._def,rest:e})}}t.ZodTuple=oe,oe.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oe({items:e,typeName:Se.ZodTuple,rest:null,...g(t)})};class ie extends p{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==d.ZodParsedType.object)return(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.object,received:n.parsedType}),l.INVALID;const r=[],o=this._def.keyType,i=this._def.valueType;for(const e in n.data)r.push({key:o._parse(new h(n,e,n.path,e)),value:i._parse(new h(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?l.ParseStatus.mergeObjectAsync(t,r):l.ParseStatus.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new ie(t instanceof p?{keyType:e,valueType:t,typeName:Se.ZodRecord,...g(n)}:{keyType:U.create(),valueType:e,typeName:Se.ZodRecord,...g(t)})}}t.ZodRecord=ie;class se extends p{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==d.ZodParsedType.map)return(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.map,received:n.parsedType}),l.INVALID;const r=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map((([e,t],i)=>({key:r._parse(new h(n,e,n.path,[i,"key"])),value:o._parse(new h(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return l.INVALID;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return l.INVALID;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}t.ZodMap=se,se.create=(e,t,n)=>new se({valueType:t,keyType:e,typeName:Se.ZodMap,...g(n)});class ae extends p{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==d.ZodParsedType.set)return(0,l.addIssueToContext)(n,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.set,received:n.parsedType}),l.INVALID;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&((0,l.addIssueToContext)(n,{code:u.ZodIssueCode.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&((0,l.addIssueToContext)(n,{code:u.ZodIssueCode.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return l.INVALID;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>o._parse(new h(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>i(e))):i(s)}min(e,t){return new ae({...this._def,minSize:{value:e,message:c.errorUtil.toString(t)}})}max(e,t){return new ae({...this._def,maxSize:{value:e,message:c.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}t.ZodSet=ae,ae.create=(e,t)=>new ae({valueType:e,minSize:null,maxSize:null,typeName:Se.ZodSet,...g(t)});class ce extends p{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.ZodParsedType.function)return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.function,received:t.parsedType}),l.INVALID;function n(e,n){return(0,l.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,a.getErrorMap)(),a.defaultErrorMap].filter((e=>!!e)),issueData:{code:u.ZodIssueCode.invalid_arguments,argumentsError:n}})}function r(e,n){return(0,l.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,a.getErrorMap)(),a.defaultErrorMap].filter((e=>!!e)),issueData:{code:u.ZodIssueCode.invalid_return_type,returnTypeError:n}})}const o={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof ge){const e=this;return(0,l.OK)((async function(...t){const s=new u.ZodError([]),a=await e._def.args.parseAsync(t,o).catch((e=>{throw s.addIssue(n(t,e)),s})),c=await Reflect.apply(i,this,a);return await e._def.returns._def.type.parseAsync(c,o).catch((e=>{throw s.addIssue(r(c,e)),s}))}))}{const e=this;return(0,l.OK)((function(...t){const s=e._def.args.safeParse(t,o);if(!s.success)throw new u.ZodError([n(t,s.error)]);const a=Reflect.apply(i,this,s.data),c=e._def.returns.safeParse(a,o);if(!c.success)throw new u.ZodError([r(a,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ce({...this._def,args:oe.create(e).rest(q.create())})}returns(e){return new ce({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new ce({args:e||oe.create([]).rest(q.create()),returns:t||q.create(),typeName:Se.ZodFunction,...g(n)})}}t.ZodFunction=ce;class le extends p{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}t.ZodLazy=le,le.create=(e,t)=>new le({getter:e,typeName:Se.ZodLazy,...g(t)});class de extends p{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{received:t.data,code:u.ZodIssueCode.invalid_literal,expected:this._def.value}),l.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ue(e,t){return new he({values:e,typeName:Se.ZodEnum,...g(t)})}t.ZodLiteral=de,de.create=(e,t)=>new de({value:e,typeName:Se.ZodLiteral,...g(t)});class he extends p{constructor(){super(...arguments),r.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return(0,l.addIssueToContext)(t,{expected:d.util.joinValues(n),received:t.parsedType,code:u.ZodIssueCode.invalid_type}),l.INVALID}if(i(this,r,"f")||s(this,r,new Set(this._def.values),"f"),!i(this,r,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return(0,l.addIssueToContext)(t,{received:t.data,code:u.ZodIssueCode.invalid_enum_value,options:n}),l.INVALID}return(0,l.OK)(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return he.create(e,{...this._def,...t})}exclude(e,t=this._def){return he.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}t.ZodEnum=he,r=new WeakMap,he.create=ue;class fe extends p{constructor(){super(...arguments),o.set(this,void 0)}_parse(e){const t=d.util.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==d.ZodParsedType.string&&n.parsedType!==d.ZodParsedType.number){const e=d.util.objectValues(t);return(0,l.addIssueToContext)(n,{expected:d.util.joinValues(e),received:n.parsedType,code:u.ZodIssueCode.invalid_type}),l.INVALID}if(i(this,o,"f")||s(this,o,new Set(d.util.getValidEnumValues(this._def.values)),"f"),!i(this,o,"f").has(e.data)){const e=d.util.objectValues(t);return(0,l.addIssueToContext)(n,{received:n.data,code:u.ZodIssueCode.invalid_enum_value,options:e}),l.INVALID}return(0,l.OK)(e.data)}get enum(){return this._def.values}}t.ZodNativeEnum=fe,o=new WeakMap,fe.create=(e,t)=>new fe({values:e,typeName:Se.ZodNativeEnum,...g(t)});class ge extends p{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.ZodParsedType.promise&&!1===t.common.async)return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.promise,received:t.parsedType}),l.INVALID;const n=t.parsedType===d.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,l.OK)(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}t.ZodPromise=ge,ge.create=(e,t)=>new ge({type:e,typeName:Se.ZodPromise,...g(t)});class pe extends p{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:e=>{(0,l.addIssueToContext)(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===r.type){const e=r.transform(n.data,o);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return l.INVALID;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?l.INVALID:"dirty"===r.status||"dirty"===t.value?(0,l.DIRTY)(r.value):r}));{if("aborted"===t.value)return l.INVALID;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?l.INVALID:"dirty"===r.status||"dirty"===t.value?(0,l.DIRTY)(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,o);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?l.INVALID:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?l.INVALID:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!(0,l.isValid)(e))return e;const i=r.transform(e.value,o);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>(0,l.isValid)(e)?Promise.resolve(r.transform(e.value,o)).then((e=>({status:t.value,value:e}))):e))}d.util.assertNever(r)}}t.ZodEffects=pe,t.ZodTransformer=pe,pe.create=(e,t,n)=>new pe({schema:e,typeName:Se.ZodEffects,effect:t,...g(n)}),pe.createWithPreprocess=(e,t,n)=>new pe({schema:t,effect:{type:"preprocess",transform:e},typeName:Se.ZodEffects,...g(n)});class me extends p{_parse(e){return this._getType(e)===d.ZodParsedType.undefined?(0,l.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodOptional=me,me.create=(e,t)=>new me({innerType:e,typeName:Se.ZodOptional,...g(t)});class ye extends p{_parse(e){return this._getType(e)===d.ZodParsedType.null?(0,l.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodNullable=ye,ye.create=(e,t)=>new ye({innerType:e,typeName:Se.ZodNullable,...g(t)});class ve extends p{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===d.ZodParsedType.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}t.ZodDefault=ve,ve.create=(e,t)=>new ve({innerType:e,typeName:Se.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...g(t)});class be extends p{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return(0,l.isAsync)(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new u.ZodError(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new u.ZodError(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}t.ZodCatch=be,be.create=(e,t)=>new be({innerType:e,typeName:Se.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...g(t)});class Ce extends p{_parse(e){if(this._getType(e)!==d.ZodParsedType.nan){const t=this._getOrReturnCtx(e);return(0,l.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:d.ZodParsedType.nan,received:t.parsedType}),l.INVALID}return{status:"valid",value:e.data}}}t.ZodNaN=Ce,Ce.create=e=>new Ce({typeName:Se.ZodNaN,...g(e)}),t.BRAND=Symbol("zod_brand");class we extends p{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}t.ZodBranded=we;class _e extends p{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?l.INVALID:"dirty"===e.status?(t.dirty(),(0,l.DIRTY)(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?l.INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new _e({in:e,out:t,typeName:Se.ZodPipeline})}}t.ZodPipeline=_e;class Oe extends p{_parse(e){const t=this._def.innerType._parse(e),n=e=>((0,l.isValid)(e)&&(e.value=Object.freeze(e.value)),e);return(0,l.isAsync)(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function Ee(e,t={},n){return e?F.create().superRefine(((r,o)=>{var i,s;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,a=null===(s=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===s||s,c="string"==typeof e?{message:e}:e;o.addIssue({code:"custom",...c,fatal:a})}})):F.create()}var Se;t.ZodReadonly=Oe,Oe.create=(e,t)=>new Oe({innerType:e,typeName:Se.ZodReadonly,...g(t)}),t.custom=Ee,t.late={object:Y.lazycreate},function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Se||(t.ZodFirstPartyTypeKind=Se={})),t.instanceof=(e,t={message:`Input not instance of ${e.name}`})=>Ee((t=>t instanceof e),t);const Ne=U.create;t.string=Ne;const Te=L.create;t.number=Te;const Re=Ce.create;t.nan=Re;const ke=B.create;t.bigint=ke;const Pe=W.create;t.boolean=Pe;const Ae=X.create;t.date=Ae;const Ie=H.create;t.symbol=Ie;const De=z.create;t.undefined=De;const xe=J.create;t.null=xe;const Me=F.create;t.any=Me;const Ke=q.create;t.unknown=Ke;const Ue=V.create;t.never=Ue;const je=$.create;t.void=je;const Le=G.create;t.array=Le;const Be=Y.create;t.object=Be;const We=Y.strictCreate;t.strictObject=We;const Xe=Q.create;t.union=Xe;const He=te.create;t.discriminatedUnion=He;const ze=re.create;t.intersection=ze;const Je=oe.create;t.tuple=Je;const Fe=ie.create;t.record=Fe;const qe=se.create;t.map=qe;const Ve=ae.create;t.set=Ve;const $e=ce.create;t.function=$e;const Ge=le.create;t.lazy=Ge;const Ze=de.create;t.literal=Ze;const Ye=he.create;t.enum=Ye;const Qe=fe.create;t.nativeEnum=Qe;const et=ge.create;t.promise=et;const tt=pe.create;t.effect=tt,t.transformer=tt;const nt=me.create;t.optional=nt;const rt=ye.create;t.nullable=rt;const ot=pe.createWithPreprocess;t.preprocess=ot;const it=_e.create;t.pipeline=it,t.ostring=()=>Ne().optional(),t.onumber=()=>Te().optional(),t.oboolean=()=>Pe().optional(),t.coerce={string:e=>U.create({...e,coerce:!0}),number:e=>L.create({...e,coerce:!0}),boolean:e=>W.create({...e,coerce:!0}),bigint:e=>B.create({...e,coerce:!0}),date:e=>X.create({...e,coerce:!0})},t.NEVER=l.INVALID},9432:()=>{},477:()=>{},1281:()=>{},210:(e,t,n)=>{"use strict";var r,o,i,s,a,c,l,d=Object.defineProperty,u=Object.defineProperties,h=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&m(e,n,t[n]);if(f)for(var n of f(t))p.call(t,n)&&m(e,n,t[n]);return e},v=(e,t)=>u(e,h(t)),b=(e,t,n)=>(m(e,"symbol"!=typeof t?t+"":t,n),n),C=(e,t,n)=>new Promise(((r,o)=>{var i=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,s);a((n=n.apply(e,t)).next())}));Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const w=n(1761),_=n(2222),O=n(7232),E=n(6942),S=n(4744),N=n(5312),T=e=>e&&"object"==typeof e&&"default"in e?e:{default:e},R=T(O),k=T(E),P=T(S);var A=(e=>(e.DARK="DARK",e.LIGHT="LIGHT",e))(A||{});class I extends w.OKXConnectError{constructor(e){super(1,e)}}const D={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return x(this.context.count)},getNextContextId(){return x(this.context.count++)}};function x(e){const t=String(e),n=t.length-1;return D.context.id+(n?String.fromCharCode(96+n):"")+t}const M=Symbol("solid-proxy"),K="function"==typeof Proxy,U=Symbol("solid-track"),j={equals:(e,t)=>e===t};let L=pe;const B=1,W=2,X={owned:null,cleanups:null,context:null,owner:null};var H=null;let z=null,J=null,F=null,q=null,V=0;function $(e,t){const n=J,r=H,o=0===e.length,i=void 0===t?r:t,s=o?X:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=o?e:()=>e((()=>te((()=>be(s)))));H=s,J=null;try{return ge(a,!0)}finally{J=n,H=r}}function G(e,t){const n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},j,t):j).equals||void 0};return[le.bind(n),e=>("function"==typeof e&&(e=e(n.value)),de(n,e))]}function Z(e,t,n){ue(he(e,t,!1,B))}function Y(e,t,n){L=me;const r=he(e,t,!1,B);n&&n.render||(r.user=!0),q?q.push(r):ue(r)}function Q(e,t,n){n=n?Object.assign({},j,n):j;const r=he(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,ue(r),le.bind(r)}function ee(e){return ge(e,!1)}function te(e){if(null===J)return e();const t=J;J=null;try{return e()}finally{J=t}}function ne(e){Y((()=>te(e)))}function re(e){return null===H||(null===H.cleanups?H.cleanups=[e]:H.cleanups.push(e)),e}function oe(){return J}function ie(){return H}function se(e,t){const n=Symbol("context");return{id:n,Provider:_e(n),defaultValue:e}}function ae(e){let t;return H&&H.context&&void 0!==(t=H.context[e.id])?t:e.defaultValue}function ce(e){const t=Q(e),n=Q((()=>we(t())));return n.toArray=()=>{const e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function le(){if(this.sources&&this.state)if(this.state===B)ue(this);else{const e=F;F=null,ge((()=>ye(this)),!1),F=e}if(J){const e=this.observers?this.observers.length:0;J.sources?(J.sources.push(this),J.sourceSlots.push(e)):(J.sources=[this],J.sourceSlots=[e]),this.observers?(this.observers.push(J),this.observerSlots.push(J.sources.length-1)):(this.observers=[J],this.observerSlots=[J.sources.length-1])}return this.value}function de(e,t,n){let r=e.value;return e.comparator&&e.comparator(r,t)||(e.value=t,e.observers&&e.observers.length&&ge((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t],r=z&&z.running;r&&z.disposed.has(n),(r?n.tState:n.state)||(n.pure?F.push(n):q.push(n),n.observers&&ve(n)),r||(n.state=B)}if(F.length>1e6)throw F=[],new Error}),!1)),t}function ue(e){if(!e.fn)return;be(e);const t=V;!function(e,t,n){let r;const o=H,i=J;J=H=e;try{r=e.fn(t)}catch(t){return e.pure&&(e.state=B,e.owned&&e.owned.forEach(be),e.owned=null),e.updatedAt=n+1,Ce(t)}finally{J=i,H=o}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?de(e,r):e.value=r,e.updatedAt=n)}(e,e.value,t)}function he(e,t,n,r=B,o){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:H,context:H?H.context:null,pure:n};return null===H||H!==X&&(H.owned?H.owned.push(i):H.owned=[i]),i}function fe(e){if(0===e.state)return;if(e.state===W)return ye(e);if(e.suspense&&te(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<V);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if((e=t[n]).state===B)ue(e);else if(e.state===W){const n=F;F=null,ge((()=>ye(e,t[0])),!1),F=n}}function ge(e,t){if(F)return e();let n=!1;t||(F=[]),q?n=!0:q=[],V++;try{const t=e();return function(e){if(F&&(pe(F),F=null),e)return;const t=q;q=null,t.length&&ge((()=>L(t)),!1)}(n),t}catch(e){n||(q=null),F=null,Ce(e)}}function pe(e){for(let t=0;t<e.length;t++)fe(e[t])}function me(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:fe(r)}for(t=0;t<n;t++)fe(e[t])}function ye(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const e=r.state;e===B?r!==t&&(!r.updatedAt||r.updatedAt<V)&&fe(r):e===W&&ye(r,t)}}}function ve(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=W,n.pure?F.push(n):q.push(n),n.observers&&ve(n))}}function be(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),o=t.observerSlots.pop();n<r.length&&(e.sourceSlots[o]=n,r[n]=e,t.observerSlots[n]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)be(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)be(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ce(e,t=H){const n=function(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}(e);throw n}function we(e){if("function"==typeof e&&!e.length)return we(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=we(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function _e(e,t){return function(t){let n;return Z((()=>n=te((()=>(H.context=v(y({},H.context),{[e]:t.value}),ce((()=>t.children)))))),void 0),n}}const Oe=Symbol("fallback");function Ee(e){for(let t=0;t<e.length;t++)e[t]()}function Se(e,t){return te((()=>e(t||{})))}function Ne(){return!0}const Te={get:(e,t,n)=>t===M?n:e.get(t),has:(e,t)=>t===M||e.has(t),set:Ne,deleteProperty:Ne,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:Ne,deleteProperty:Ne}),ownKeys:e=>e.keys()};function Re(e){return(e="function"==typeof e?e():e)?e:{}}function ke(){for(let e=0,t=this.length;e<t;++e){const t=this[e]();if(void 0!==t)return t}}function Pe(...e){let t=!1;for(let n=0;n<e.length;n++){const r=e[n];t=t||!!r&&M in r,e[n]="function"==typeof r?(t=!0,Q(r)):r}if(K&&t)return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const r=Re(e[n])[t];if(void 0!==r)return r}},has(t){for(let n=e.length-1;n>=0;n--)if(t in Re(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(Re(e[n])));return[...new Set(t)]}},Te);const n={},r=Object.create(null);for(let t=e.length-1;t>=0;t--){const o=e[t];if(!o)continue;const i=Object.getOwnPropertyNames(o);for(let e=i.length-1;e>=0;e--){const t=i[e];if("__proto__"===t||"constructor"===t)continue;const s=Object.getOwnPropertyDescriptor(o,t);if(r[t]){const e=n[t];e&&(s.get?e.push(s.get.bind(o)):void 0!==s.value&&e.push((()=>s.value)))}else r[t]=s.get?{enumerable:!0,configurable:!0,get:ke.bind(n[t]=[s.get.bind(o)])}:void 0!==s.value?s:void 0}}const o={},i=Object.keys(r);for(let e=i.length-1;e>=0;e--){const t=i[e],n=r[t];n&&n.get?Object.defineProperty(o,t,n):o[t]=n?n.value:void 0}return o}function Ae(e,...t){if(K&&M in e){const n=new Set(t.length>1?t.flat():t[0]),r=t.map((t=>new Proxy({get:n=>t.includes(n)?e[n]:void 0,has:n=>t.includes(n)&&n in e,keys:()=>t.filter((t=>t in e))},Te)));return r.push(new Proxy({get:t=>n.has(t)?void 0:e[t],has:t=>!n.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!n.has(e)))},Te)),r}const n={},r=t.map((()=>({})));for(const o of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,o),s=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let a=!1,c=0;for(const e of t)e.includes(o)&&(a=!0,s?r[c][o]=i.value:Object.defineProperty(r[c],o,i)),++c;a||(s?n[o]=i.value:Object.defineProperty(n,o,i))}return[...r,n]}const Ie=e=>`Stale read from <${e}>.`;function De(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Q(function(e,t,n={}){let r=[],o=[],i=[],s=0,a=t.length>1?[]:null;return re((()=>Ee(i))),()=>{let c,l,d=e()||[],u=d.length;return d[U],te((()=>{let e,t,f,g,p,m,y,v,b;if(0===u)0!==s&&(Ee(i),i=[],r=[],o=[],s=0,a&&(a=[])),n.fallback&&(r=[Oe],o[0]=$((e=>(i[0]=e,n.fallback()))),s=1);else if(0===s){for(o=new Array(u),l=0;l<u;l++)r[l]=d[l],o[l]=$(h);s=u}else{for(f=new Array(u),g=new Array(u),a&&(p=new Array(u)),m=0,y=Math.min(s,u);m<y&&r[m]===d[m];m++);for(y=s-1,v=u-1;y>=m&&v>=m&&r[y]===d[v];y--,v--)f[v]=o[y],g[v]=i[y],a&&(p[v]=a[y]);for(e=new Map,t=new Array(v+1),l=v;l>=m;l--)b=d[l],c=e.get(b),t[l]=void 0===c?-1:c,e.set(b,l);for(c=m;c<=y;c++)b=r[c],l=e.get(b),void 0!==l&&-1!==l?(f[l]=o[c],g[l]=i[c],a&&(p[l]=a[c]),l=t[l],e.set(b,l)):i[c]();for(l=m;l<u;l++)l in f?(o[l]=f[l],i[l]=g[l],a&&(a[l]=p[l],a[l](l))):o[l]=$(h);o=o.slice(0,s=u),r=d.slice(0)}return o}));function h(e){if(i[l]=e,a){const[e,n]=G(l);return a[l]=n,t(d[l],e)}return t(d[l])}}}((()=>e.each),e.children,t||void 0))}function xe(e){const t=e.keyed,n=Q((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return Q((()=>{const r=n();if(r){const o=e.children;return"function"==typeof o&&o.length>0?te((()=>o(t?r:()=>{if(!te(n))throw Ie("Show");return e.when}))):o}return e.fallback}),void 0,void 0)}function Me(e){let t=!1;const n=ce((()=>e.children)),r=Q((()=>{let e=n();Array.isArray(e)||(e=[e]);for(let n=0;n<e.length;n++){const r=e[n].when;if(r)return t=!!e[n].keyed,[n,r,e[n]]}return[-1]}),void 0,{equals:(e,n)=>(t?e[1]===n[1]:!e[1]==!n[1])&&e[2]===n[2]});return Q((()=>{const[n,o,i]=r();if(n<0)return e.fallback;const s=i.children;return"function"==typeof s&&s.length>0?te((()=>s(t?o:()=>{if(te(r)[0]!==n)throw Ie("Match");return i.when}))):s}),void 0,void 0)}function Ke(e){return e}const Ue=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),je=new Set(["innerHTML","textContent","innerText","children"]),Le=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Be=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}}),We=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Xe=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),He={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},ze="_$DX_DELEGATE";function Je(e,t,n,r={}){let o;return $((r=>{o=r,t===document?e():Ze(t,e(),t.firstChild?null:void 0,n)}),r.owner),()=>{o(),t.textContent=""}}function Fe(e,t,n){let r;const o=()=>{const t=document.createElement("template");return t.innerHTML=e,n?t.content.firstChild.firstChild:t.content.firstChild},i=t?()=>te((()=>document.importNode(r||(r=o()),!0))):()=>(r||(r=o())).cloneNode(!0);return i.cloneNode=i,i}function qe(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function Ve(e,t){null==t?e.removeAttribute("class"):e.className=t}function $e(e,t={},n,r){const o={};return r||Z((()=>o.children=tt(e,t.children,o.children))),Z((()=>"function"==typeof t.ref&&Ge(t.ref,e))),Z((()=>function(e,t,n,r,o={},i=!1){t||(t={});for(const r in o)if(!(r in t)){if("children"===r)continue;o[r]=Qe(e,r,null,o[r],n,i,t)}for(const s in t){if("children"===s){r||tt(e,t.children);continue}const a=t[s];o[s]=Qe(e,s,a,o[s],n,i,t)}}(e,t,n,!0,o,!0))),o}function Ge(e,t,n){return te((()=>e(t,n)))}function Ze(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return tt(e,t,r,n);Z((r=>tt(e,t(),r,n)),r)}function Ye(e,t,n){const r=t.trim().split(/\s+/);for(let t=0,o=r.length;t<o;t++)e.classList.toggle(r[t],n)}function Qe(e,t,n,r,o,i,s){let a,c,l,d,u;if("style"===t)return function(e,t,n){if(!t)return n?qe(e,"style"):t;const r=e.style;if("string"==typeof t)return r.cssText=t;let o,i;for(i in"string"==typeof n&&(r.cssText=n=void 0),n||(n={}),t||(t={}),n)null==t[i]&&r.removeProperty(i),delete n[i];for(i in t)o=t[i],o!==n[i]&&(r.setProperty(i,o),n[i]=o);return n}(e,n,r);if("classList"===t)return function(e,t,n={}){const r=Object.keys(t||{}),o=Object.keys(n);let i,s;for(i=0,s=o.length;i<s;i++){const r=o[i];r&&"undefined"!==r&&!t[r]&&(Ye(e,r,!1),delete n[r])}for(i=0,s=r.length;i<s;i++){const o=r[i],s=!!t[o];o&&"undefined"!==o&&n[o]!==s&&s&&(Ye(e,o,!0),n[o]=s)}return n}(e,n,r);if(n===r)return r;if("ref"===t)i||n(e);else if("on:"===t.slice(0,3)){const o=t.slice(3);r&&e.removeEventListener(o,r,"function"!=typeof r&&r),n&&e.addEventListener(o,n,"function"!=typeof n&&n)}else if("oncapture:"===t.slice(0,10)){const o=t.slice(10);r&&e.removeEventListener(o,r,!0),n&&e.addEventListener(o,n,!0)}else if("on"===t.slice(0,2)){const o=t.slice(2).toLowerCase(),i=We.has(o);if(!i&&r){const t=Array.isArray(r)?r[0]:r;e.removeEventListener(o,t)}(i||n)&&(function(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=t=>r.call(e,n[1],t))}else e.addEventListener(t,n,"function"!=typeof n&&n)}(e,o,n,i),i&&function(e,t=window.document){const n=t[ze]||(t[ze]=new Set);for(let r=0,o=e.length;r<o;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,et))}}([o]))}else if("attr:"===t.slice(0,5))qe(e,t.slice(5),n);else if("bool:"===t.slice(0,5))!function(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}(e,t.slice(5),n);else if((u="prop:"===t.slice(0,5))||(l=je.has(t))||!o&&((d=function(e,t){const n=Be[e];return"object"==typeof n?n[t]?n.$:void 0:n}(t,e.tagName))||(c=Ue.has(t)))||(a=e.nodeName.includes("-")||"is"in s))u&&(t=t.slice(5),c=!0),"class"===t||"className"===t?Ve(e,n):!a||c||l?e[d||t]=n:e[(h=t,h.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase())))]=n;else{const r=o&&t.indexOf(":")>-1&&He[t.split(":")[0]];r?function(e,t,n,r){null==r?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}(e,r,t,n):qe(e,Le[t]||t,n)}var h;return n}function et(e){let t=e.target;const n=`$$${e.type}`,r=e.target,o=e.currentTarget,i=t=>Object.defineProperty(e,"target",{configurable:!0,value:t}),s=()=>{const r=t[n];if(r&&!t.disabled){const o=t[`${n}Data`];if(void 0!==o?r.call(t,o,e):r.call(t,e),e.cancelBubble)return}return t.host&&"string"!=typeof t.host&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},a=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>t||document}),e.composedPath){const n=e.composedPath();i(n[0]);for(let e=0;e<n.length-2&&(t=n[e],s());e++){if(t._$host){t=t._$host,a();break}if(t.parentNode===o)break}}else a();i(r)}function tt(e,t,n,r,o){for(;"function"==typeof n;)n=n();if(t===n)return n;const i=typeof t,s=void 0!==r;if(e=s&&n[0]&&n[0].parentNode||e,"string"===i||"number"===i){if("number"===i&&(t=t.toString())===n)return n;if(s){let o=n[0];o&&3===o.nodeType?o.data!==t&&(o.data=t):o=document.createTextNode(t),n=ot(e,n,r,o)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===i)n=ot(e,n,r);else{if("function"===i)return Z((()=>{let o=t();for(;"function"==typeof o;)o=o();n=tt(e,o,n,r)})),()=>n;if(Array.isArray(t)){const i=[],a=n&&Array.isArray(n);if(nt(i,t,n,o))return Z((()=>n=tt(e,i,n,r,!0))),()=>n;if(0===i.length){if(n=ot(e,n,r),s)return n}else a?0===n.length?rt(e,i,r):function(e,t,n){let r=n.length,o=t.length,i=r,s=0,a=0,c=t[o-1].nextSibling,l=null;for(;s<o||a<i;)if(t[s]!==n[a]){for(;t[o-1]===n[i-1];)o--,i--;if(o===s){const t=i<r?a?n[a-1].nextSibling:n[i-a]:c;for(;a<i;)e.insertBefore(n[a++],t)}else if(i===a)for(;s<o;)l&&l.has(t[s])||t[s].remove(),s++;else if(t[s]===n[i-1]&&n[a]===t[o-1]){const r=t[--o].nextSibling;e.insertBefore(n[a++],t[s++].nextSibling),e.insertBefore(n[--i],r),t[o]=n[i]}else{if(!l){l=new Map;let e=a;for(;e<i;)l.set(n[e],e++)}const r=l.get(t[s]);if(null!=r)if(a<r&&r<i){let c,d=s,u=1;for(;++d<o&&d<i&&null!=(c=l.get(t[d]))&&c===r+u;)u++;if(u>r-a){const o=t[s];for(;a<r;)e.insertBefore(n[a++],o)}else e.replaceChild(n[a++],t[s++])}else s++;else t[s++].remove()}}else s++,a++}(e,n,i):(n&&ot(e),rt(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=ot(e,n,r,t);ot(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}}return n}function nt(e,t,n,r){let o=!1;for(let i=0,s=t.length;i<s;i++){let s,a=t[i],c=n&&n[e.length];if(null==a||!0===a||!1===a);else if("object"==(s=typeof a)&&a.nodeType)e.push(a);else if(Array.isArray(a))o=nt(e,a,c)||o;else if("function"===s)if(r){for(;"function"==typeof a;)a=a();o=nt(e,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||o}else e.push(a),o=!0;else{const t=String(a);c&&3===c.nodeType&&c.data===t?e.push(c):e.push(document.createTextNode(t))}}return o}function rt(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function ot(e,t,n,r){if(void 0===n)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let r=!1;for(let i=t.length-1;i>=0;i--){const s=t[i];if(o!==s){const t=s.parentNode===e;r||i?t&&s.remove():t?e.replaceChild(o,s):e.insertBefore(o,n)}else r=!0}}else e.insertBefore(o,n);return[o]}function it(e,t=!1){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function st(e){const{useShadow:t}=e,n=document.createTextNode(""),r=ie();let o;return Y((()=>{o||(o=function(t){const n=H,r=J;H=t,J=null;try{return ge((()=>Q((()=>e.children))),!0)}catch(e){Ce(e)}finally{H=n,J=r}}(r));const i=e.mount||document.body;if(i instanceof HTMLHeadElement){const[e,t]=G(!1),n=()=>t(!0);$((t=>Ze(i,(()=>e()?t():o()),null))),re(n)}else{const r=it(e.isSVG?"g":"div",e.isSVG),s=t&&r.attachShadow?r.attachShadow({mode:"open"}):r;Object.defineProperty(r,"_$host",{get:()=>n.parentNode,configurable:!0}),Ze(s,o),i.appendChild(r),e.ref&&e.ref(r),re((()=>i.removeChild(r)))}}),void 0,{render:!D.context}),n}function at(e){const[t,n]=Ae(e,["component"]),r=Q((()=>t.component));return Q((()=>{const e=r();switch(typeof e){case"function":return te((()=>e(n)));case"string":const t=Xe.has(e),r=it(e,t);return $e(r,n,t),r}}))}let ct={data:""},lt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,dt=/\/\*[^]*?\*\/|  +/g,ut=/\n+/g,ht=(e,t)=>{let n="",r="",o="";for(let i in e){let s=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+s+";":r+="f"==i[1]?ht(s,i):i+"{"+ht(s,"k"==i[1]?"":t)+"}":"object"==typeof s?r+=ht(s,t?t.replace(/([^,])+/g,(e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):i):null!=s&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ht.p?ht.p(i,s):i+":"+s+";")}return n+(t&&o?t+"{"+o+"}":o)+r},ft={},gt=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+gt(e[n]);return t}return e};function pt(e){let t=this||{},n=e.call?e(t.p):e;return((e,t,n,r,o)=>{let i=gt(e),s=ft[i]||(ft[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!ft[s]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=lt.exec(e.replace(dt,""));)t[4]?r.shift():t[3]?(n=t[3].replace(ut," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(ut," ").trim();return r[0]})(e);ft[s]=ht(o?{["@keyframes "+s]:t}:t,n?"":"."+s)}let a=n&&ft.g?ft.g:null;return n&&(ft.g=ft[s]),c=ft[s],l=t,d=r,(u=a)?l.data=l.data.replace(u,c):-1===l.data.indexOf(c)&&(l.data=d?c+l.data:l.data+c),s;var c,l,d,u})(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,o)=>{let i=t[o];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":ht(e,""):!1===e?"":e}return e+r+(null==i?"":i)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,(r=t.target,"object"==typeof window?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||ct),t.g,t.o,t.k);var r}pt.bind({g:1});let mt=pt.bind({k:1});const yt=se();function vt(e){return Se(yt.Provider,{value:e.theme,get children(){return e.children}})}function bt(){return ae(yt)}function Ct(e){let t=this||{};return(...n)=>{const r=r=>{const o=Pe(r,{theme:ae(yt)}),i=Pe(o,{get class(){const e=o.class,r="class"in o&&/^go[0-9]+/.test(e);return[e,pt.apply({target:t.target,o:r,p:o,g:t.g},n)].filter(Boolean).join(" ")}}),[s,a]=Ae(i,["as","theme"]),c=a,l=s.as||e;let d;return"function"==typeof l?d=l(c):1==t.g?(d=document.createElement(l),$e(d,c)):d=at(Pe({component:l},c)),d};return r.class=e=>te((()=>pt.apply({target:t.target,p:e,g:t.g},n))),r}}const wt=new Proxy(Ct,{get:(e,t)=>e(t)});function _t(){const e=Ct.call({g:1},"div").apply(null,arguments);return function(t){return e(t),null}}const Ot="okxc-root",Et="okxc-disable-scroll",St="okxc-using-mouse",Nt=()=>(document.body.addEventListener("mousedown",(()=>document.body.classList.add(St))),document.body.addEventListener("keydown",(e=>{"Tab"===e.key&&document.body.classList.remove(St)})),Se(_t`
    ${Ot} * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        
        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;        
        -webkit-tap-highlight-color: transparent;
    }
    
    ${Ot} img {
      -webkit-user-select: none;
      -webkit-touch-callout: none;
    }   
 
    ${Ot} *:focus {
        outline: #08f auto 2px;
    }
    
    ${Ot} li {
        list-style: none;
    }
    
    ${Ot} button {
        outline: none;
    }
    
    body.${Et} {
        position: fixed; 
        overflow-y: scroll;
        right: 0;
        left: 0;
    }
    
    body.${St} ${Ot} *:focus {
        outline: none;
    }
`,{}));function Tt(e,t){return"#"===e[0]&&(e=function(e){"#"===e[0]&&(e=e.slice(1));const t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t].join(",")}(e)),`rgba(${e}, ${t})`}function Rt(e){return e.toString()+"px"}const kt=class{constructor(){b(this,"storage",{})}static getInstance(){return kt.instance||(kt.instance=new kt),kt.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(e){var t;return null!=(t=this.storage[e])?t:null}key(e){var t;const n=Object.keys(this.storage);return e<0||e>=n.length?null:null!=(t=n[e])?t:null}removeItem(e){delete this.storage[e]}setItem(e,t){this.storage[e]=t}};let Pt=kt;function At(...e){w.logDebug(e)}b(Pt,"instance");let It={};try{It=function(e){let t={};if(!(e=e.replace(/^#/,"")).length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=Ut(e),t;let n=e.indexOf("?");if(n>=0){let r=e.substr(0,n);t._path=Ut(r),e=e.substr(n+1)}let r=function(e){let t={};if(!e.length)return t;let n,r,o,i,s=e.split("&");for(n=0;n<s.length;n++)r=s[n].split("="),o=Ut(r[0]),i=null==r[1]?null:Ut(r[1]),t[o]=i;return t}(e);for(let e in r)t[e]=r[e];return t}(location.hash.toString())}catch(e){}let Dt="unknown";if((null==It?void 0:It.tgWebAppPlatform)&&(Dt=null!=(r=It.tgWebAppPlatform)?r:"unknown"),"unknown"===Dt){const e=Xn();Dt=null!=(s=null==(i=null==(o=null==e?void 0:e.Telegram)?void 0:o.WebApp)?void 0:i.platform)?s:"unknown"}let xt="6.0";if((null==It?void 0:It.tgWebAppVersion)&&(xt=It.tgWebAppVersion),!xt){const e=Xn();xt=null!=(l=null==(c=null==(a=null==e?void 0:e.Telegram)?void 0:a.WebApp)?void 0:c.version)?l:"6.0"}function Mt(){var e;return"unknown"!==Dt||!!(null==(e=Xn())?void 0:e.TelegramWebviewProxy)}function Kt(){!function(e,t){try{const n=Xn();if(!n)throw new I("Can't post event to parent window: window is not defined");if(void 0!==n.TelegramWebviewProxy)At("postEvent",e,t),n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));else if(n.external&&"notify"in n.external)At("postEvent",e,t),n.external.notify(JSON.stringify({eventType:e,eventData:t}));else{if(!function(){try{const e=Xn();return!!e&&null!=e.parent&&e!==e.parent}catch(e){return!1}}())throw new I("Can't post event to TMA");{const r="*",o=JSON.stringify({eventType:e,eventData:t});At("postEvent",e,t),n.parent.postMessage(o,r)}}}catch(e){!function(...e){w.logError(e)}(`Can't post event to parent window: ${e}`)}}("web_app_expand",{})}function Ut(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch(t){return e}}const jt=440,Lt=1020;function Bt(e){var t;const n=Xn();if(!n)return"desktop"===e;if(["weba"].includes(Dt))return!0;const r=n.innerWidth;switch(e){case"desktop":return r>Lt;case"tablet":return r>jt;default:let e=r<=jt||["ios","android","ipad"].includes(zn().os);if(e){const n=!!(null==(t=Xn())?void 0:t.TelegramWebviewProxy),r=navigator.maxTouchPoints||0;n&&0===r&&(e=!1),w.logDebug("isDevice mobile isTelegram and maxTouchPoints:",e,n,r)}return e}}function Wt(e){switch(e){case"mobile":return"@media (max-width: 440px)";case"tablet":return"@media (max-width: 1020px) (min-width: 440px)";default:return"@media (min-width: 1020px)"}}const Xt="@media (hover: none)",Ht="@media not all and (hover: none)",[zt,Jt]=G(Bt("mobile")),Ft=()=>Jt(Bt("mobile"));Xn()&&(window.addEventListener("resize",(()=>Ft())),window.addEventListener("load",(()=>Ft()),{once:!0}));const qt=Symbol("store-raw"),Vt=Symbol("store-node"),$t=Symbol("store-has"),Gt=Symbol("store-self");function Zt(e){let t=e[M];if(!t&&(Object.defineProperty(e,M,{value:t=new Proxy(e,rn)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let o=0,i=n.length;o<i;o++){const i=n[o];r[i].get&&Object.defineProperty(e,i,{enumerable:r[i].enumerable,get:r[i].get.bind(t)})}}return t}function Yt(e){let t;return null!=e&&"object"==typeof e&&(e[M]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Qt(e,t=new Set){let n,r,o,i;if(n=null!=e&&e[qt])return n;if(!Yt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let n=0,i=e.length;n<i;n++)o=e[n],(r=Qt(o,t))!==o&&(e[n]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let a=0,c=n.length;a<c;a++)i=n[a],s[i].get||(o=e[i],(r=Qt(o,t))!==o&&(e[i]=r))}return e}function en(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function tn(e,t,n){if(e[t])return e[t];const[r,o]=G(n,{equals:!1,internal:!0});return r.$=o,e[t]=r}function nn(e){oe()&&tn(en(e,Vt),Gt)()}const rn={get(e,t,n){if(t===qt)return e;if(t===M)return n;if(t===U)return nn(e),n;const r=en(e,Vt),o=r[t];let i=o?o():e[t];if(t===Vt||t===$t||"__proto__"===t)return i;if(!o){const n=Object.getOwnPropertyDescriptor(e,t);!oe()||"function"==typeof i&&!e.hasOwnProperty(t)||n&&n.get||(i=tn(r,t,i)())}return Yt(i)?Zt(i):i},has:(e,t)=>t===qt||t===M||t===U||t===Vt||t===$t||"__proto__"===t||(oe()&&tn(en(e,$t),t)(),t in e),set:()=>!0,deleteProperty:()=>!0,ownKeys:function(e){return nn(e),Reflect.ownKeys(e)},getOwnPropertyDescriptor:function(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return n&&!n.get&&n.configurable&&t!==M&&t!==Vt?(delete n.value,delete n.writable,n.get=()=>e[M][t],n):n}};function on(e,t,n,r=!1){if(!r&&e[t]===n)return;const o=e[t],i=e.length;void 0===n?(delete e[t],e[$t]&&e[$t][t]&&void 0!==o&&e[$t][t].$()):(e[t]=n,e[$t]&&e[$t][t]&&void 0===o&&e[$t][t].$());let s,a=en(e,Vt);if((s=tn(a,t,o))&&s.$((()=>n)),Array.isArray(e)&&e.length!==i){for(let t=e.length;t<i;t++)(s=a[t])&&s.$();(s=tn(a,"length",i))&&s.$(e.length)}(s=a[Gt])&&s.$()}function sn(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];on(e,o,t[o])}}function an(e,t,n=[]){let r,o=e;if(t.length>1){r=t.shift();const i=typeof r,s=Array.isArray(e);if(Array.isArray(r)){for(let o=0;o<r.length;o++)an(e,[r[o]].concat(t),n);return}if(s&&"function"===i){for(let o=0;o<e.length;o++)r(e[o],o)&&an(e,[o].concat(t),n);return}if(s&&"object"===i){const{from:o=0,to:i=e.length-1,by:s=1}=r;for(let r=o;r<=i;r+=s)an(e,[r].concat(t),n);return}if(t.length>1)return void an(e[r],t,[r].concat(n));o=e[r],n=[r].concat(n)}let i=t[0];"function"==typeof i&&(i=i(o,n),i===o)||void 0===r&&null==i||(i=Qt(i),void 0===r||Yt(o)&&Yt(i)&&!Array.isArray(i)?sn(o,i):on(e,r,i))}function cn(...[e,t]){const n=Qt(e||{}),r=Array.isArray(n);return[Zt(n),function(...e){ee((()=>{r&&1===e.length?function(e,t){if("function"==typeof t&&(t=t(e)),t=Qt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const r=t[n];e[n]!==r&&on(e,n,r)}on(e,"length",r)}else sn(e,t)}(n,e[0]):an(n,e)}))}]}const[ln,dn]=cn({language:"en_US"}),[un,hn]=cn({buttonRootId:null,language:"en_US"});function fn(e,t){return!!t&&(e.name.toLowerCase()===t.toLowerCase()||e.appName.toLowerCase()===t.toLowerCase())}function gn(){return function(){var e;const t=!!(null==(e=Xn())?void 0:e.TelegramWebview);return(Mt()||t)&&"unknown"===Dt}()||Mt()}function pn(){return!!gn()}const mn=[w.NameSpaceKeySui,w.NameSpaceKeySOL,w.NameSpaceKeyEip155,w.NameSpaceKeyTON,w.NameSpaceKeyBtc,w.NameSpaceKeyAptos,w.NameSpaceKeyTron,w.NameSpaceKeyStarknet,w.NameSpaceKeyCosmos],yn=[w.NameSpaceKeyEip155,w.NameSpaceKeySOL,w.NameSpaceKeyTON,w.NameSpaceKeySui,w.NameSpaceKeyAptos,w.NameSpaceKeyBtc],vn=[w.NameSpaceKeySOL,w.NameSpaceKeyAptos],bn=[w.SOLANA_CHAINS.MAINNET,w.APTOS_CHAINS.MAINNET,w.APTOS_CHAINS.MOVEMENT_MAINNET,w.APTOS_CHAINS.MOVEMENT_TESTNET],Cn=[w.SOLANA_CHAINS.MAINNET,w.APTOS_CHAINS.MAINNET],wn=zt()?Cn:bn;function _n(e,t){return!!xn()&&Nn(e)&&Nn(t)}function On(e,t){if(!e)return!0;for(const[n,r]of Object.entries(e)){if(vn.includes(n)){if(r.chains.some((e=>!wn.includes(e))))return!1}else if(!yn.includes(n))return!1;if(!En(n,t))return!1}return!0}function En(e,t){return!!(e!==w.NameSpaceKeyTON||t&&t.manifestUrl)&&(!zt()||In("6.103.0"))}function Sn(e=!0){var t,n,r,o;const i=e?ln.walletConnector:un.walletConnector;if(i)for(let l of i)switch(l.getTag()){case w.OKX_TG_WALLET:if(e){var s=null==(t=ln.connectRequestParameters)?void 0:t.namespaces,a=null==(n=ln.connectRequestParameters)?void 0:n.optionalNamespaces;l.enable=_n(s,a)}else l.enable=!0;break;case w.OKX_APP_WALLET:l.enable=!0;break;case w.OKX_INJECT_WALLET:if(e)s=null==(r=ln.connectRequestParameters)?void 0:r.namespaces,a=null==(o=ln.connectRequestParameters)?void 0:o.optionalNamespaces,l.enable=On(s,ln.dappMetaData)&&On(a,ln.dappMetaData);else{l.enable=!0;var c=un.dappMetaData;l.enable=!!(null==c?void 0:c.manifestUrl)}}else w.logWarning("not find connector yet")}function Nn(e){try{return!e||Object.keys(e).every((e=>mn.includes(e)))}catch(e){return!1}}function Tn(e){return!!e&&e.name===w.creatOKXWalletInfo().name}function Rn(e,t){w.logDebug("wallets openWallet"),e&&(Tn(e)?(w.logDebug("wallets openWallet openOKXDeeplinkWithFallback"),w.openOKXDeeplink(w.standardDeeplink)):(w.logDebug("wallets openWallet openOKXTMAWalletlinkWithFallback"),w.openOKXTMAWalletlinkWithFallback(w.getTelegramWalletTWAUrl(void 0,t))))}function kn(e,t){return"qrcode"!==t&&!Pn(e)}function Pn(e){return!!e&&e.name===w.creatOKXInjectWalletInfo().name}function An(){try{return zt()?In("6.102.0"):!!window.okxwallet}catch(e){return!1}}function In(e){let t=window.okxwallet;if(t){let n=t.appVersion;return w.versionCompare(n,e)>=0}return!1}function Dn(){return zt()&&!!window.okxwallet}function xn(){return!!gn()}function Mn(e){return!!e&&(Tn(e)?zt():!!function(e){return!!e&&e.name===w.creatOKXMiniAppWalletInfo().name}(e)&&gn())}function Kn(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?A.LIGHT:A.DARK}function Un(e){const t=t=>e(t.matches?A.DARK:A.LIGHT);return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",t)}function jn(){document.body.hasAttribute("ontouchstart")||document.body.setAttribute("ontouchstart","")}function Ln(){document.body.getElementsByTagName(Ot)||customElements.define(Ot,class extends HTMLElement{})}function Bn(e){return C(this,null,(function*(){yield new Promise((e=>requestAnimationFrame(e))),e()}))}function Wn(e){"complete"!==document.readyState?window.addEventListener("load",(()=>Bn((()=>Wn(e)))),{once:!0}):e.forEach((e=>{(new window.Image).src=e}))}function Xn(){if("undefined"!=typeof window)return window}function Hn(){if(function(){try{return"undefined"!=typeof localStorage}catch(e){return!1}}())return localStorage;if("undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node)throw new I("`localStorage` is unavailable, but it is required for TonConnect");return Pt.getInstance()}function zn(){var e,t,n;const r=(new R.default).getResult(),o=null==(e=r.os.name)?void 0:e.toLowerCase();let i;switch(!0){case"ipad"===(null==(t=r.device.model)?void 0:t.toLowerCase()):i="ipad";break;case"ios"===o:i="ios";break;case"android"===o:i="android";break;case"mac os"===o:i="macos";break;case"linux"===o:i="linux";break;case null==o?void 0:o.includes("windows"):i="windows"}const s=null==(n=r.browser.name)?void 0:n.toLowerCase();let a;switch(!0){case"chrome"===s:a="chrome";break;case"firefox"===s:a="firefox";break;case null==s?void 0:s.includes("safari"):a="safari";break;case null==s?void 0:s.includes("opera"):a="opera"}return{os:i,browser:a}}class Jn{constructor(e){b(this,"localStorage"),b(this,"storageKey","okx-wallet-connect-ui_wallet-info"),this.localStorage=Hn(),this.storageKey=e}setWalletInfo(e){this.localStorage.setItem(this.storageKey,JSON.stringify(e))}getWalletInfo(){const e=this.localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}removeWalletInfo(){this.localStorage.removeItem(this.storageKey)}}class Fn{constructor(){b(this,"localStorage"),b(this,"storageKey","okx_wallet_connect_ui_last-selected-wallet-info"),this.localStorage=Hn()}setLastSelectedWalletInfo(e){this.localStorage.setItem(this.storageKey,JSON.stringify(e))}getLastSelectedWalletInfo(){const e=this.localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}removeLastSelectedWalletInfo(){this.localStorage.removeItem(this.storageKey)}}const[qn,Vn]=G({status:"closed",closeReason:null});Q((()=>"opened"===qn().status));const[$n,Gn]=G({status:"closed",closeReason:null}),Zn=Q((()=>"opened"===$n().status)),Yn=Q((()=>{const e=$n();return"opened"===e.status?e.walletInfo:null}));let Qn="undefined"!=typeof window?new Fn:void 0;const[er,tr]=G((null==Qn?void 0:Qn.getLastSelectedWalletInfo())||null),nr=e=>{Qn||(Qn=new Fn),e?(At(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(e)}`),Qn.setLastSelectedWalletInfo(e)):(At("modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo"),Qn.removeLastSelectedWalletInfo()),tr(e)},[rr,or]=G(null),ir=wt.div`
    background-color: ${e=>e.theme.colors.background.secondary};
`,sr=e=>{let t;const[n,r]=G(null);return Y((()=>{const t=new window.Image;return t.src=e.src,t.alt=e.alt||"",t.setAttribute("draggable","false"),e.class&&t.classList.add(e.class),t.complete?r(t):(t.addEventListener("load",(()=>r(t))),()=>t.removeEventListener("load",(()=>r(t))))})),[Se(xe,{get when(){return n()},get children(){return n()}}),Se(xe,{get when(){return!n()},get children(){return Se(ir,{get class(){return e.class},ref(e){"function"==typeof t?t(e):t=e}})}})]},ar={m:"100vh",s:"8px",none:"0"},cr={s:.02,m:.04},lr=wt.button`
    display: ${e=>e.leftIcon||e.rightIcon?"flex":"inline-block"};
    gap: ${e=>e.leftIcon||e.rightIcon?"4px":"unset"};
    align-items: ${e=>e.leftIcon||e.rightIcon?"center":"unset"};
    justify-content: ${e=>e.leftIcon||e.rightIcon?"space-between":"unset"};
    background-color: ${e=>"flat"===e.appearance?"transparent":"secondary"===e.appearance?e.theme.colors.background.tint:Tt(e.theme.colors.accent,.12)};
    color: ${e=>"secondary"===e.appearance?e.theme.colors.text.primary:e.theme.colors.accent};

    padding: ${e=>"flat"===e.appearance?"0":"9px 16px"};
    padding-left: ${e=>e.leftIcon&&"flat"!==e.appearance?"12px":"16px"};
    padding-right: ${e=>e.rightIcon&&"flat"!==e.appearance?"12px":"16px"};
    border: none;
    border-radius: ${e=>ar[e.theme.borderRadius]};
    cursor: ${e=>e.disabled?"not-allowed":"pointer"};

    font-size: 14px;
    font-weight: 510;
    line-height: 18px;

    transition: transform 0.125s ease-in-out;

    ${Ht} {
        &:hover {
            transform: ${e=>e.disabled?"unset":`scale(${1+cr[e.scale]})`};
        }
    }

    &:active {
        transform: ${e=>e.disabled?"unset":`scale(${1-cr[e.scale]})`};
    }

    ${Xt} {
        &:active {
            transform: ${e=>e.disabled?"unset":`scale(${1-2*cr[e.scale]})`};
        }
    }
`;function dr(e){const t=te((()=>Object.keys(e).filter((e=>e.startsWith("data-"))))),[n]=Ae(e,t);return n}const ur=e=>{const t=dr(e);return Se(lr,Pe({get appearance(){return e.appearance||"primary"},get class(){return e.class},onClick:t=>{var n;return null==(n=e.onClick)?void 0:n.call(e,t)},onMouseEnter:t=>{var n;return null==(n=e.onMouseEnter)?void 0:n.call(e,t)},onMouseLeave:t=>{var n;return null==(n=e.onMouseLeave)?void 0:n.call(e,t)},ref(t){var n=e.ref;"function"==typeof n?n(t):e.ref=t},get disabled(){return e.disabled},get scale(){return e.scale||"m"},get leftIcon(){return!!e.leftIcon},get rightIcon(){return!!e.rightIcon},"data-tc-button":"true"},t,{get children(){return[Q((()=>e.leftIcon)),Q((()=>e.children)),Q((()=>e.rightIcon))]}}))};function hr(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}const fr=e=>{let t,n=!0;const[r,o]=G(),[i,s]=G(),a=ce((()=>e.children)),{onBeforeEnter:c,onEnter:l,onAfterEnter:d,onBeforeExit:u,onExit:h,onAfterExit:f}=e,g=Q((()=>{const t=e.name||"s";return{enterActiveClass:e.enterActiveClass||t+"-enter-active",enterClass:e.enterClass||t+"-enter",enterToClass:e.enterToClass||t+"-enter-to",exitActiveClass:e.exitActiveClass||t+"-exit-active",exitClass:e.exitClass||t+"-exit",exitToClass:e.exitToClass||t+"-exit-to"}}));function p(t,a){if(!n||e.appear){let n=function(c){!t||c&&c.target!==t||(t.removeEventListener("transitionend",n),t.removeEventListener("animationend",n),t.classList.remove(...h),t.classList.remove(...f),ee((()=>{r()!==t&&o(t),i()===t&&s(void 0)})),d&&d(t),"inout"===e.mode&&m(t,a))};const u=g().enterClass.split(" "),h=g().enterActiveClass.split(" "),f=g().enterToClass.split(" ");c&&c(t),t.classList.add(...u),t.classList.add(...h),hr((()=>{t.classList.remove(...u),t.classList.add(...f),l&&l(t,(()=>n())),(!l||l.length<2)&&(t.addEventListener("transitionend",n),t.addEventListener("animationend",n))}))}a&&!e.mode?s(t):o(t)}function m(t,n){const i=g().exitClass.split(" "),s=g().exitActiveClass.split(" "),a=g().exitToClass.split(" ");if(!n.parentNode)return c();function c(i){i&&i.target!==n||(n.removeEventListener("transitionend",c),n.removeEventListener("animationend",c),n.classList.remove(...s),n.classList.remove(...a),r()===n&&o(void 0),f&&f(n),"outin"===e.mode&&p(t,n))}u&&u(n),n.classList.add(...i),n.classList.add(...s),hr((()=>{n.classList.remove(...i),n.classList.add(...a)})),h&&h(n,(()=>c())),(!h||h.length<2)&&(n.addEventListener("transitionend",c),n.addEventListener("animationend",c))}return ue(he((r=>{for(t=a();"function"==typeof t;)t=t();return te((()=>(t&&t!==r&&("outin"!==e.mode?p(t,r):n&&o(t)),r&&r!==t&&"inout"!==e.mode&&m(t,r),n=!1,t)))}),undefined,!0,B)),[r,i]},gr="androidBackHandler",pr={[gr]:!0};var mr=Fe('<svg><path fill-rule=evenodd clip-rule=evenodd d="M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z"></svg>',!1,!0);const yr={left:0,top:90,right:180,bottom:270},vr=e=>{const t=bt();return Se(wt("svg")`
        transform: rotate(${e=>yr[e.svgDirection]}deg);
        transition: transform 0.1s ease-in-out;
    `,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",get svgDirection(){return e.direction||"left"},get children(){var n=mr();return Z((()=>qe(n,"fill",e.fill||t.colors.icon.secondary))),n}})};var br=Fe('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M18.5303 6.53033C18.8232 6.23744 18.8232 5.76256 18.5303 5.46967C18.2374 5.17678 17.7626 5.17678 17.4697 5.46967L12 10.9393L6.53033 5.46967C6.23744 5.17678 5.76256 5.17678 5.46967 5.46967C5.17678 5.76256 5.17678 6.23744 5.46967 6.53033L10.9393 12L5.46967 17.4697C5.17678 17.7626 5.17678 18.2374 5.46967 18.5303C5.76256 18.8232 6.23744 18.8232 6.53033 18.5303L12 13.0607L17.4697 18.5303C17.7626 18.8232 18.2374 18.8232 18.5303 18.5303C18.8232 18.2374 18.8232 17.7626 18.5303 17.4697L13.0607 12L18.5303 6.53033Z">');const Cr=e=>{const t=bt();return At(`CloseIcon  ${t}`),n=br(),r=n.firstChild,Z((()=>qe(r,"fill",e.fill||t.colors.icon.secondary))),n;var n,r};var wr=Fe('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d="M14.1839 17.7069C13.6405 18.6507 13.3688 19.1226 13.0591 19.348C12.4278 19.8074 11.5723 19.8074 10.941 19.348C10.6312 19.1226 10.3595 18.6507 9.81613 17.7069L5.52066 10.2464C4.76864 8.94024 4.39263 8.28717 4.33762 7.75894C4.2255 6.68236 4.81894 5.65591 5.80788 5.21589C6.29309 5 7.04667 5 8.55383 5H15.4462C16.9534 5 17.7069 5 18.1922 5.21589C19.1811 5.65591 19.7745 6.68236 19.6624 7.75894C19.6074 8.28717 19.2314 8.94024 18.4794 10.2464L14.1839 17.7069ZM11.1 16.3412L6.56139 8.48002C6.31995 8.06185 6.19924 7.85276 6.18146 7.68365C6.14523 7.33896 6.33507 7.01015 6.65169 6.86919C6.80703 6.80002 7.04847 6.80002 7.53133 6.80002H7.53134L11.1 6.80002V16.3412ZM12.9 16.3412L17.4387 8.48002C17.6801 8.06185 17.8008 7.85276 17.8186 7.68365C17.8548 7.33896 17.665 7.01015 17.3484 6.86919C17.193 6.80002 16.9516 6.80002 16.4687 6.80002L12.9 6.80002V16.3412Z">');const _r=e=>{const t=bt();return n=wr(),r=n.firstChild,Z((()=>qe(r,"fill",e.fill||t.colors.icon.primary))),n;var n,r};var Or=Fe('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><g clip-path=url(#clip0_3783_2045)><circle cx=8 cy=8.00098 r=8></circle><path d="M4.75 8.50098L7 10.751L11.75 6.00098"stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path></g><defs><clipPath id=clip0_3783_2045><rect width=16 height=16 fill=white transform="translate(0 0.000976562)">'),Er=Fe('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=11></circle><path d="M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z">'),Sr=Fe('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=36 cy=36 r=33></circle><path d="M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z">');const Nr=e=>{const t=bt(),n=()=>e.size||"s",r=()=>e.fill||t.colors.icon.success;return Q((()=>{return Q((()=>"xs"===n()))()?(d=Or(),u=d.firstChild.firstChild,h=u.nextSibling,Z((n=>{var o=e.class,i=r(),s=t.colors.constant.white;return o!==n.e&&qe(d,"class",n.e=o),i!==n.t&&qe(u,"fill",n.t=i),s!==n.a&&qe(h,"stroke",n.a=s),n}),{e:void 0,t:void 0,a:void 0}),d):Q((()=>"s"===n()))()?(a=Er(),c=a.firstChild,l=c.nextSibling,Z((n=>{var o=e.class,i=r(),s=t.colors.constant.white;return o!==n.e&&qe(a,"class",n.e=o),i!==n.t&&qe(c,"fill",n.t=i),s!==n.a&&qe(l,"fill",n.a=s),n}),{e:void 0,t:void 0,a:void 0}),a):(o=Sr(),i=o.firstChild,s=i.nextSibling,Z((n=>{var a=e.class,c=r(),l=t.colors.constant.white;return a!==n.e&&qe(o,"class",n.e=a),c!==n.t&&qe(i,"fill",n.t=c),l!==n.a&&qe(s,"fill",n.a=l),n}),{e:void 0,t:void 0,a:void 0}),o);var o,i,s,a,c,l,d,u,h}))};var Tr=Fe('<svg xmlns=http://www.w3.org/2000/svg width=103 height=102 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),Rr=Fe('<svg xmlns=http://www.w3.org/2000/svg width=72 height=72 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),kr=Fe('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>');const Pr=e=>{bt();const t=()=>e.size||"m";return Q((()=>Q((()=>"m"===t()))()?Tr():Q((()=>"s"===t()))()?Rr():kr()))};var Ar=Fe('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z">'),Ir=Fe('<svg xmlns=http://www.w3.org/2000/svg width=44 height=44 viewBox="0 0 44 44"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z">'),Dr=Fe('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><path d="M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999"stroke-width=4 stroke-linecap=round stroke-linejoin=round>');const xr=e=>{const t=bt(),n=()=>e.size||"xs",r=()=>e.fill||t.colors.icon.tertiary,o=pt`
        animation: ${mt`
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
    `} 1s linear infinite;
    `;return Q((()=>{return Q((()=>"xs"===n()))()?(c=Ar(),l=c.firstChild,Z((t=>{var n=k.default(o,e.class),i=r();return n!==t.e&&qe(c,"class",t.e=n),i!==t.t&&qe(l,"fill",t.t=i),t}),{e:void 0,t:void 0}),c):Q((()=>"s"===n()))()?(s=Ir(),a=s.firstChild,Z((t=>{var n=k.default(o,e.class),i=r();return n!==t.e&&qe(s,"class",t.e=n),i!==t.t&&qe(a,"fill",t.t=i),t}),{e:void 0,t:void 0}),s):(t=Dr(),i=t.firstChild,Z((n=>{var s=k.default(o,e.class),a=r();return s!==n.e&&qe(t,"class",n.e=s),a!==n.t&&qe(i,"stroke",n.t=a),n}),{e:void 0,t:void 0}),t);var t,i,s,a,c,l}))};var Mr=Fe('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z">');const Kr=e=>{const t=bt();return n=Mr(),r=n.firstChild,Z((()=>qe(r,"fill",e.fill||t.colors.icon.secondary))),n;var n,r};var Ur=Fe('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M3.56176 1.87482C3.8379 1.87482 4.06176 2.09867 4.06176 2.37482V3.69674C5.09916 2.7469 6.48174 2.16666 7.99996 2.16666C11.2216 2.16666 13.8333 4.77834 13.8333 8C13.8333 11.2217 11.2216 13.8333 7.99996 13.8333C4.7783 13.8333 2.16663 11.2217 2.16663 8C2.16663 7.72385 2.39048 7.5 2.66663 7.5C2.94277 7.5 3.16663 7.72385 3.16663 8C3.16663 10.6694 5.33058 12.8333 7.99996 12.8333C10.6693 12.8333 12.8333 10.6694 12.8333 8C12.8333 5.33062 10.6693 3.16666 7.99996 3.16666C6.68645 3.16666 5.49513 3.69037 4.62354 4.54148H6.22843C6.50457 4.54148 6.72843 4.76534 6.72843 5.04148C6.72843 5.31763 6.50457 5.54148 6.22843 5.54148H3.56176C3.28562 5.54148 3.06176 5.31763 3.06176 5.04148V2.37482C3.06176 2.09867 3.28562 1.87482 3.56176 1.87482Z">');const jr=e=>{const t=bt();return n=Ur(),r=n.firstChild,Z((()=>qe(r,"fill",t.colors.text.primary))),n;var n,r};var Lr=Fe('<svg xmlns=http://www.w3.org/2000/svg width=16 height=17 viewBox="0 0 16 17"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z">');const Br=e=>{const t=bt();return n=Lr(),r=n.firstChild,Z((()=>qe(r,"fill",e.fill||t.colors.icon.secondary))),n;var n,r},Wr=wt.button`
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: transparent;
    border: none;
    cursor: pointer;

    transition: transform 0.125s ease-in-out;

    ${Ht} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${Xt} {
        &:active {
            transform: scale(0.92);
        }
    }
`,Xr=e=>{const t=dr(e),n=()=>e.icon||"close";return Se(Wr,Pe({get class(){return e.class},onClick:()=>e.onClick(),"data-tc-icon-button":"true"},t,{get children(){return[Se(xe,{get when(){return!!e.children},get children(){return e.children}}),Se(xe,{get when(){return!e.children},get children(){return Se(Me,{get children(){return[Se(Ke,{get when(){return"close"===n()},get children(){return Se(Cr,{get fill(){return e.fill}})}}),Se(Ke,{get when(){return"arrow"===n()},get children(){return Se(vr,{get fill(){return e.fill}})}}),Se(Ke,{get when(){return"question"===n()},get children(){return Se(Kr,{get fill(){return e.fill}})}}),Se(Ke,{get when(){return"string"!=typeof n()},get children(){return n()}})]}})}})]}}))},Hr={m:"24px",s:"16px",none:"0"},zr=wt.div`
  display: flex;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  padding: 20px 0;
  overflow-y: auto;

  ${Wt("mobile")} {
    padding-bottom: 0;
  }
`,Jr=pt`
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);
  width: fit-content;
  margin: auto;

  ${Wt("mobile")} {
    width: 100%;
    height: fit-content;
    margin: auto 0 0 0;
  }
`,Fr=wt.div`
  position: relative;
  min-height: 100px;
  width: 416px;
  padding: 44px 56px 24px;

  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);

  background-color: ${e=>e.theme.colors.background.primary};
  border-radius: ${e=>Hr[e.theme.borderRadius]};

  ${Wt("mobile")} {
    width: 100%;
    border-radius: 24px 24px 0px 0px;
  }
`,qr=wt(Xr)`
  position: absolute;
  right: 16px;
  top: 12px;
`;wt.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 16px 16px 18px;
  border-radius: 0 0 ${e=>Hr[e.theme.borderRadius]}
    ${e=>Hr[e.theme.borderRadius]};
`,wt(Xr)`
  background-color: ${e=>Tt(e.theme.colors.icon.secondary,.12)};
`;class Vr{constructor(){b(this,"currentTime",0)}}const $r=class{constructor(){b(this,"currentTime",0),b(this,"playbackRate",1),b(this,"startTime",null),b(this,"timeline",new Vr),b(this,"finished",Promise.resolve(this)),b(this,"effect",null),b(this,"id",""),b(this,"pending",!1),b(this,"playState","finished"),b(this,"replaceState","active"),b(this,"ready",Promise.resolve(this)),b(this,"oncancel",null),b(this,"onfinish",null),b(this,"onremove",null)}static create(){return $r._instance||(function(...e){w.logWarning(e)}("Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API."),$r._instance=new $r),$r._instance}cancel(){}finish(){}pause(){}play(){}reverse(){}addEventListener(e,t,n){}dispatchEvent(e){return!1}removeEventListener(e,t,n){}updatePlaybackRate(e){}commitStyles(){}persist(){}};let Gr=$r;function Zr(e,t,n){return"animate"in e?e.animate(t,n):Gr.create()}b(Gr,"_instance",null);var Yr=Fe("<div>");const Qr=function(e,t){const n=e=>{var n,r;"Escape"===e.key&&(null==(n=document.activeElement)||n.blur(),null==(r=t())||r())};document.body.addEventListener("keydown",n),re((()=>document.body.removeEventListener("keydown",n)))},eo=function(e,t){const{isEnabled:n,onClose:r}=t();if(!n)return;if("android"!==zn().os)return;window.history.pushState(pr,"");const o=e=>{e.preventDefault(),r()};window.addEventListener("popstate",o,{once:!0}),re((()=>{window.removeEventListener("popstate",o),Bn((()=>{var e;!0===(null==(e=window.history.state)?void 0:e[gr])&&window.history.back()}))}))},to=e=>{const t=bt(),n=dr(e);return Y((()=>{e.opened?document.documentElement.scrollHeight!==document.documentElement.clientHeight&&(document.body.style.top=Rt(-document.documentElement.scrollTop),document.body.classList.add(Et)):(document.body.classList.remove(Et),document.documentElement.scrollTo({top:-parseFloat(getComputedStyle(document.body).top)}),document.body.style.top="auto")})),Se(fr,{onBeforeEnter:e=>{const t=Bt("mobile")?200:100;Zr(e,[{opacity:0},{opacity:1}],{duration:t}),Bt("mobile")&&Zr(e.firstElementChild,[{transform:"translateY(390px)"},{transform:"translateY(0)"}],{duration:t})},onExit:(e,t)=>{const n=Bt("mobile")?200:100,r=Zr(e,[{opacity:1},{opacity:0}],{duration:n});if(Bt("mobile")){const o=Zr(e.firstElementChild,[{transform:"translateY(0)"},{transform:"translateY(390px)"}],{duration:n});Promise.all([r.finished,o.finished]).then(t)}else r.finished.then(t)},get children(){return Se(xe,{get when(){return e.opened},get children(){return Se(zr,Pe({"data-tc-modal":"true"},n,{get children(){var n=Yr();return Ge(eo,n,(()=>({isEnabled:!0,onClose:()=>e.onClose()}))),Ge(Qr,n,(()=>()=>e.onClose())),Ze(n,Se(Fr,{get class(){return e.class},get children(){return[Se(qr,{icon:"close",onClick:()=>e.onClose()}),Q((()=>e.children))]}})),Z((()=>Ve(n,k.default(Jr,pt`
                                border-radius: ${Hr[t.borderRadius]};
                                background-color: ${t.colors.background.tint};

                                ${Wt("mobile")} {
                                    border-radius: ${Hr[t.borderRadius]}
                                        ${Hr[t.borderRadius]} 0 0;
                                }
                            `)))),n}}))}})}})},no=wt.div`
    width: 52px;
    height: 52px;
    background: transparent;
    position: absolute;
    right: 0;
    bottom: 0;

    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.125s ease-in-out;
`,ro=wt.button`
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background-color: ${e=>e.theme.colors.background.qr};
    border-radius: 0;
    padding: ${Rt(0)} 0;
    height: ${Rt(270)};
    width: ${Rt(270)};

    overflow: hidden;
    cursor: pointer;
    border: none;

    ${Ht} {
        &:hover {
            ${no.class} {
                transform: scale(1.04);
            }
        }
    }

    &:active {
        ${no.class} {
            transform: scale(0.96);
        }
    }

    ${Xt} {
        &:active {
            ${no.class} {
                transform: scale(0.92);
            }
        }
    }
`,oo=wt.div`
    position: relative;
  
    width: fit-content;
    margin: 0 auto;

    > div:first-child {
        display: flex;
        align-items: center;
        justify-content: center;
    }
`,io=wt.div`
    position: absolute;
    width: ${Rt(56)};
    height: ${Rt(56)};
    background: lightgray;

    display: flex;
    align-items: center;
    justify-content: center;
`,so=wt(sr)`
    width: ${e=>Rt(e.size)};
    height: ${e=>Rt(e.size)};
    border-radius: 100000px;
    background-color: transparent;
`;wt.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${e=>e.theme.colors.background.segment};
`;var ao,co,lo={exports:{}};ao=lo,(co=function(){var e=function(e,t){var n=e,r=s[t],o=null,i=0,c=null,d=[],u={},v=function(e,t){o=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var r=0;r<e;r+=1)t[n][r]=null}return t}(i=4*n+17),b(0,0),b(i-7,0),b(0,i-7),_(),w(),E(e,t),n>=7&&O(e),null==c&&(c=N(n,r,d)),S(c,t)},b=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||i<=e+n))for(var r=-1;r<=7;r+=1)t+r<=-1||i<=t+r||(o[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},w=function(){for(var e=8;e<i-8;e+=1)null==o[e][6]&&(o[e][6]=e%2==0);for(var t=8;t<i-8;t+=1)null==o[6][t]&&(o[6][t]=t%2==0)},_=function(){for(var e=a.getPatternPosition(n),t=0;t<e.length;t+=1)for(var r=0;r<e.length;r+=1){var i=e[t],s=e[r];if(null==o[i][s])for(var c=-2;c<=2;c+=1)for(var l=-2;l<=2;l+=1)o[i+c][s+l]=-2==c||2==c||-2==l||2==l||0==c&&0==l}},O=function(e){for(var t=a.getBCHTypeNumber(n),r=0;r<18;r+=1){var s=!e&&1==(t>>r&1);o[Math.floor(r/3)][r%3+i-8-3]=s}for(r=0;r<18;r+=1)s=!e&&1==(t>>r&1),o[r%3+i-8-3][Math.floor(r/3)]=s},E=function(e,t){for(var n=r<<3|t,s=a.getBCHTypeInfo(n),c=0;c<15;c+=1){var l=!e&&1==(s>>c&1);c<6?o[c][8]=l:c<8?o[c+1][8]=l:o[i-15+c][8]=l}for(c=0;c<15;c+=1)l=!e&&1==(s>>c&1),c<8?o[8][i-c-1]=l:c<9?o[8][15-c-1+1]=l:o[8][15-c-1]=l;o[i-8][8]=!e},S=function(e,t){for(var n=-1,r=i-1,s=7,c=0,l=a.getMaskFunction(t),d=i-1;d>0;d-=2)for(6==d&&(d-=1);;){for(var u=0;u<2;u+=1)if(null==o[r][d-u]){var h=!1;c<e.length&&(h=1==(e[c]>>>s&1)),l(r,d-u)&&(h=!h),o[r][d-u]=h,-1==(s-=1)&&(c+=1,s=7)}if((r+=n)<0||i<=r){r-=n,n=-n;break}}},N=function(e,t,n){for(var r=h.getRSBlocks(e,t),o=f(),i=0;i<n.length;i+=1){var s=n[i];o.put(s.getMode(),4),o.put(s.getLength(),a.getLengthInBits(s.getMode(),e)),s.write(o)}var c=0;for(i=0;i<r.length;i+=1)c+=r[i].dataCount;if(o.getLengthInBits()>8*c)throw"code length overflow. ("+o.getLengthInBits()+">"+8*c+")";for(o.getLengthInBits()+4<=8*c&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*c||(o.put(236,8),o.getLengthInBits()>=8*c));)o.put(17,8);return function(e,t){for(var n=0,r=0,o=0,i=new Array(t.length),s=new Array(t.length),c=0;c<t.length;c+=1){var d=t[c].dataCount,u=t[c].totalCount-d;r=Math.max(r,d),o=Math.max(o,u),i[c]=new Array(d);for(var h=0;h<i[c].length;h+=1)i[c][h]=255&e.getBuffer()[h+n];n+=d;var f=a.getErrorCorrectPolynomial(u),g=l(i[c],f.getLength()-1).mod(f);for(s[c]=new Array(f.getLength()-1),h=0;h<s[c].length;h+=1){var p=h+g.getLength()-s[c].length;s[c][h]=p>=0?g.getAt(p):0}}var m=0;for(h=0;h<t.length;h+=1)m+=t[h].totalCount;var y=new Array(m),v=0;for(h=0;h<r;h+=1)for(c=0;c<t.length;c+=1)h<i[c].length&&(y[v]=i[c][h],v+=1);for(h=0;h<o;h+=1)for(c=0;c<t.length;c+=1)h<s[c].length&&(y[v]=s[c][h],v+=1);return y}(o,r)};u.addData=function(e,t){var n=null;switch(t=t||"Byte"){case"Numeric":n=g(e);break;case"Alphanumeric":n=p(e);break;case"Byte":n=m(e);break;case"Kanji":n=y(e);break;default:throw"mode:"+t}d.push(n),c=null},u.isDark=function(e,t){if(e<0||i<=e||t<0||i<=t)throw e+","+t;return o[e][t]},u.getModuleCount=function(){return i},u.make=function(){if(n<1){for(var e=1;e<40;e++){for(var t=h.getRSBlocks(e,r),o=f(),i=0;i<d.length;i++){var s=d[i];o.put(s.getMode(),4),o.put(s.getLength(),a.getLengthInBits(s.getMode(),e)),s.write(o)}var c=0;for(i=0;i<t.length;i++)c+=t[i].dataCount;if(o.getLengthInBits()<=8*c)break}n=e}v(!1,function(){for(var e=0,t=0,n=0;n<8;n+=1){v(!0,n);var r=a.getLostPoint(u);(0==n||e>r)&&(e=r,t=n)}return t}())},u.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",n+='">',n+="<tbody>";for(var r=0;r<u.getModuleCount();r+=1){n+="<tr>";for(var o=0;o<u.getModuleCount();o+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=u.isDark(r,o)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return(n+="</tbody>")+"</table>"},u.createSvgTag=function(e,t,n,r){var o={};"object"==typeof arguments[0]&&(e=(o=arguments[0]).cellSize,t=o.margin,n=o.alt,r=o.title),e=e||2,t=void 0===t?4*e:t,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-title":null;var i,s,a,c,l=u.getModuleCount()*e+2*t,d="";for(c="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",d+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',d+=o.scalable?"":' width="'+l+'px" height="'+l+'px"',d+=' viewBox="0 0 '+l+" "+l+'" ',d+=' preserveAspectRatio="xMinYMin meet"',d+=r.text||n.text?' role="img" aria-labelledby="'+T([r.id,n.id].join(" ").trim())+'"':"",d+=">",d+=r.text?'<title id="'+T(r.id)+'">'+T(r.text)+"</title>":"",d+=n.text?'<description id="'+T(n.id)+'">'+T(n.text)+"</description>":"",d+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',d+='<path d="',s=0;s<u.getModuleCount();s+=1)for(a=s*e+t,i=0;i<u.getModuleCount();i+=1)u.isDark(s,i)&&(d+="M"+(i*e+t)+","+a+c);return(d+='" stroke="transparent" fill="black"/>')+"</svg>"},u.createDataURL=function(e,t){e=e||2,t=void 0===t?4*e:t;var n=u.getModuleCount()*e+2*t,r=t,o=n-t;return C(n,n,(function(t,n){if(r<=t&&t<o&&r<=n&&n<o){var i=Math.floor((t-r)/e),s=Math.floor((n-r)/e);return u.isDark(s,i)?0:1}return 1}))},u.createImgTag=function(e,t,n){e=e||2,t=void 0===t?4*e:t;var r=u.getModuleCount()*e+2*t,o="";return o+="<img",o+=' src="',o+=u.createDataURL(e,t),o+='"',o+=' width="',o+=r,o+='"',o+=' height="',o+=r,o+='"',n&&(o+=' alt="',o+=T(n),o+='"'),o+"/>"};var T=function(e){for(var t="",n=0;n<e.length;n+=1){var r=e.charAt(n);switch(r){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=r}}return t};return u.createASCII=function(e,t){if((e=e||1)<2)return function(e){e=void 0===e?2:e;var t,n,r,o,i,s=1*u.getModuleCount()+2*e,a=e,c=s-e,l={"":""," ":""," ":"","  ":" "},d={"":""," ":""," ":" ","  ":" "},h="";for(t=0;t<s;t+=2){for(r=Math.floor((t-a)/1),o=Math.floor((t+1-a)/1),n=0;n<s;n+=1)i="",a<=n&&n<c&&a<=t&&t<c&&u.isDark(r,Math.floor((n-a)/1))&&(i=" "),a<=n&&n<c&&a<=t+1&&t+1<c&&u.isDark(o,Math.floor((n-a)/1))?i+=" ":i+="",h+=e<1&&t+1>=c?d[i]:l[i];h+="\n"}return s%2&&e>0?h.substring(0,h.length-s-1)+Array(s+1).join(""):h.substring(0,h.length-1)}(t);e-=1,t=void 0===t?2*e:t;var n,r,o,i,s=u.getModuleCount()*e+2*t,a=t,c=s-t,l=Array(e+1).join(""),d=Array(e+1).join("  "),h="",f="";for(n=0;n<s;n+=1){for(o=Math.floor((n-a)/e),f="",r=0;r<s;r+=1)i=1,a<=r&&r<c&&a<=n&&n<c&&u.isDark(o,Math.floor((r-a)/e))&&(i=0),f+=i?l:d;for(o=0;o<e;o+=1)h+=f+"\n"}return h.substring(0,h.length-1)},u.renderTo2dContext=function(e,t){t=t||2;for(var n=u.getModuleCount(),r=0;r<n;r++)for(var o=0;o<n;o++)e.fillStyle=u.isDark(r,o)?"black":"white",e.fillRect(r*t,o*t,t,t)},u};e.stringToBytes=(e.stringToBytesFuncs={default:function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t.push(255&r)}return t}}).default,e.createStringToBytes=function(e,t){var n=function(){for(var n=b(e),r=function(){var e=n.read();if(-1==e)throw"eof";return e},o=0,i={};;){var s=n.read();if(-1==s)break;var a=r(),c=r()<<8|r();i[String.fromCharCode(s<<8|a)]=c,o+=1}if(o!=t)throw o+" != "+t;return i}(),r="?".charCodeAt(0);return function(e){for(var t=[],o=0;o<e.length;o+=1){var i=e.charCodeAt(o);if(i<128)t.push(i);else{var s=n[e.charAt(o)];"number"==typeof s?(255&s)==s?t.push(s):(t.push(s>>>8),t.push(255&s)):t.push(r)}}return t}};var t,n,r,o,i,s={L:1,M:0,Q:3,H:2},a=(t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,r=7973,i=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t},(o={}).getBCHTypeInfo=function(e){for(var t=e<<10;i(t)-i(n)>=0;)t^=n<<i(t)-i(n);return 21522^(e<<10|t)},o.getBCHTypeNumber=function(e){for(var t=e<<12;i(t)-i(r)>=0;)t^=r<<i(t)-i(r);return e<<12|t},o.getPatternPosition=function(e){return t[e-1]},o.getMaskFunction=function(e){switch(e){case 0:return function(e,t){return(e+t)%2==0};case 1:return function(e,t){return e%2==0};case 2:return function(e,t){return t%3==0};case 3:return function(e,t){return(e+t)%3==0};case 4:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case 5:return function(e,t){return e*t%2+e*t%3==0};case 6:return function(e,t){return(e*t%2+e*t%3)%2==0};case 7:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},o.getErrorCorrectPolynomial=function(e){for(var t=l([1],0),n=0;n<e;n+=1)t=t.multiply(l([1,c.gexp(n)],0));return t},o.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+e}}},o.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r+=1)for(var o=0;o<t;o+=1){for(var i=0,s=e.isDark(r,o),a=-1;a<=1;a+=1)if(!(r+a<0||t<=r+a))for(var c=-1;c<=1;c+=1)o+c<0||t<=o+c||0==a&&0==c||s==e.isDark(r+a,o+c)&&(i+=1);i>5&&(n+=3+i-5)}for(r=0;r<t-1;r+=1)for(o=0;o<t-1;o+=1){var l=0;e.isDark(r,o)&&(l+=1),e.isDark(r+1,o)&&(l+=1),e.isDark(r,o+1)&&(l+=1),e.isDark(r+1,o+1)&&(l+=1),0!=l&&4!=l||(n+=3)}for(r=0;r<t;r+=1)for(o=0;o<t-6;o+=1)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(o=0;o<t;o+=1)for(r=0;r<t-6;r+=1)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);var d=0;for(o=0;o<t;o+=1)for(r=0;r<t;r+=1)e.isDark(r,o)&&(d+=1);return n+Math.abs(100*d/t/t-50)/5*10},o),c=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;return{glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}}}();function l(e,t){if(void 0===e.length)throw e.length+"/"+t;var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var r=new Array(e.length-n+t),o=0;o<e.length-n;o+=1)r[o]=e[o+n];return r}(),r={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(r.getLength()+e.getLength()-1),n=0;n<r.getLength();n+=1)for(var o=0;o<e.getLength();o+=1)t[n+o]^=c.gexp(c.glog(r.getAt(n))+c.glog(e.getAt(o)));return l(t,0)},mod:function(e){if(r.getLength()-e.getLength()<0)return r;for(var t=c.glog(r.getAt(0))-c.glog(e.getAt(0)),n=new Array(r.getLength()),o=0;o<r.getLength();o+=1)n[o]=r.getAt(o);for(o=0;o<e.getLength();o+=1)n[o]^=c.gexp(c.glog(e.getAt(o))+t);return l(n,0).mod(e)}};return r}var d,u,h=(d=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},{getRSBlocks:function(e,t){var n=function(e,t){switch(t){case s.L:return d[4*(e-1)+0];case s.M:return d[4*(e-1)+1];case s.Q:return d[4*(e-1)+2];case s.H:return d[4*(e-1)+3];default:return}}(e,t);if(void 0===n)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+t;for(var r=n.length/3,o=[],i=0;i<r;i+=1)for(var a=n[3*i+0],c=n[3*i+1],l=n[3*i+2],h=0;h<a;h+=1)o.push(u(c,l));return o}}),f=function(){var e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var r=0;r<t;r+=1)n.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return t},putBit:function(n){var r=Math.floor(t/8);e.length<=r&&e.push(0),n&&(e[r]|=128>>>t%8),t+=1}};return n},g=function(e){var t=e,n={getMode:function(){return 1},getLength:function(e){return t.length},write:function(e){for(var n=t,o=0;o+2<n.length;)e.put(r(n.substring(o,o+3)),10),o+=3;o<n.length&&(n.length-o==1?e.put(r(n.substring(o,o+1)),4):n.length-o==2&&e.put(r(n.substring(o,o+2)),7))}},r=function(e){for(var t=0,n=0;n<e.length;n+=1)t=10*t+o(e.charAt(n));return t},o=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return n},p=function(e){var t=e,n={getMode:function(){return 2},getLength:function(e){return t.length},write:function(e){for(var n=t,o=0;o+1<n.length;)e.put(45*r(n.charAt(o))+r(n.charAt(o+1)),11),o+=2;o<n.length&&e.put(r(n.charAt(o)),6)}},r=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return n},m=function(t){var n=e.stringToBytes(t);return{getMode:function(){return 4},getLength:function(e){return n.length},write:function(e){for(var t=0;t<n.length;t+=1)e.put(n[t],8)}}},y=function(t){var n=e.stringToBytesFuncs.SJIS;if(!n)throw"sjis not supported.";!function(){var e=n("");if(2!=e.length||38726!=(e[0]<<8|e[1]))throw"sjis not supported."}();var r=n(t);return{getMode:function(){return 8},getLength:function(e){return~~(r.length/2)},write:function(e){for(var t=r,n=0;n+1<t.length;){var o=(255&t[n])<<8|255&t[n+1];if(33088<=o&&o<=40956)o-=33088;else{if(!(57408<=o&&o<=60351))throw"illegal char at "+(n+1)+"/"+o;o-=49472}o=192*(o>>>8&255)+(255&o),e.put(o,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}}},v=function(){var e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,r){n=n||0,r=r||e.length;for(var o=0;o<r;o+=1)t.writeByte(e[o+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+"]"}};return t},b=function(e){var t=e,n=0,r=0,o=0,i={read:function(){for(;o<8;){if(n>=t.length){if(0==o)return-1;throw"unexpected end of file./"+o}var e=t.charAt(n);if(n+=1,"="==e)return o=0,-1;e.match(/^\s$/)||(r=r<<6|s(e.charCodeAt(0)),o+=6)}var i=r>>>o-8&255;return o-=8,i}},s=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return i},C=function(e,t,n){for(var r=function(e,t){var n=e,r=t,o=new Array(e*t),i={setPixel:function(e,t,r){o[t*n+e]=r},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(r),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(r),e.writeByte(0);var t=s(2);e.writeByte(2);for(var o=0;t.length-o>255;)e.writeByte(255),e.writeBytes(t,o,255),o+=255;e.writeByte(t.length-o),e.writeBytes(t,o,t.length-o),e.writeByte(0),e.writeString(";")}},s=function(e){for(var t=1<<e,n=1+(1<<e),r=e+1,i=a(),s=0;s<t;s+=1)i.add(String.fromCharCode(s));i.add(String.fromCharCode(t)),i.add(String.fromCharCode(n));var c,l,d,u=v(),h=(c=u,l=0,d=0,{write:function(e,t){if(e>>>t!=0)throw"length over";for(;l+t>=8;)c.writeByte(255&(e<<l|d)),t-=8-l,e>>>=8-l,d=0,l=0;d|=e<<l,l+=t},flush:function(){l>0&&c.writeByte(d)}});h.write(t,r);var f=0,g=String.fromCharCode(o[f]);for(f+=1;f<o.length;){var p=String.fromCharCode(o[f]);f+=1,i.contains(g+p)?g+=p:(h.write(i.indexOf(g),r),i.size()<4095&&(i.size()==1<<r&&(r+=1),i.add(g+p)),g=p)}return h.write(i.indexOf(g),r),h.write(n,r),h.flush(),u.toByteArray()},a=function(){var e={},t=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;e[r]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return i}(e,t),o=0;o<t;o+=1)for(var i=0;i<e;i+=1)r.setPixel(i,o,n(i,o));var s=v();r.write(s);for(var a=function(){var e=0,t=0,n=0,r="",o={},i=function(e){r+=String.fromCharCode(s(63&e))},s=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return o.writeByte=function(r){for(e=e<<8|255&r,t+=8,n+=1;t>=6;)i(e>>>t-6),t-=6},o.flush=function(){if(t>0&&(i(e<<6-t),e=0,t=0),n%3!=0)for(var o=3-n%3,s=0;s<o;s+=1)r+="="},o.toString=function(){return r},o}(),c=s.toByteArray(),l=0;l<c.length;l+=1)a.writeByte(c[l]);return a.flush(),"data:image/gif;base64,"+a};return e}()).stringToBytesFuncs["UTF-8"]=function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t}(e)},ao.exports=co;const uo=lo.exports;var ho=Fe("<div>");const fo=e=>{let t,n,r;G(!1);const[o,i]=G(54);return Y((()=>{const o=uo(0,"M");if(o.addData(e.sourceUrl),o.make(),t){const e=o.getModuleCount(),s=5*e,a=bt().theme==A.DARK?"white":"black",c=(t,n)=>t<7&&n<7||t<7&&n>=e-7||t>=e-7&&n<7,l=5*e,d=Math.round(270/l*1e5)/1e5,u=t=>{const n=Math.ceil(56/(5*t));return{sizeCells:n,offsetCells:Math.ceil((e-n)/2)}},h=(t,n)=>{const{sizeCells:r}=u(d),o=Math.floor(e/2),i=(r+3)/2;return Math.sqrt(Math.pow(t-o,2)+Math.pow(n-o,2))<=i};let f=`<svg width="${s}" height="${s}" viewBox="0 0 ${s} ${s}" fill="none" xmlns="http://www.w3.org/2000/svg">`;const g=(e,t)=>{f+=`<rect \n            x="${5*t}" \n            y="${5*e}" \n            width="35" \n            height="5" \n            fill="${a}"\n            rx="4"\n        />`,f+=`<rect \n            x="${5*t}" \n            y="${5*(e+6)}" \n            width="35" \n            height="5" \n            fill="${a}"\n            rx="4"\n        />`,f+=`<rect \n            x="${5*t}" \n            y="${5*e}" \n            width="5" \n            height="35" \n            fill="${a}"\n            rx="4"\n        />`,f+=`<rect \n            x="${5*(t+6)}" \n            y="${5*e}" \n            width="5" \n            height="35" \n            fill="${a}"\n            rx="4"\n        />`,f+=`<rect \n            x="${5*(t+2)}" \n            y="${5*(e+2)}" \n            width="15" \n            height="15" \n            rx="4"\n            fill="${a}"\n        />`};g(0,0),g(0,e-7),g(e-7,0);const p=(e,t)=>`<rect \n        x="${e+.375}" \n        y="${t+.375}" \n        width="4.25" \n        height="4.25" \n        rx="${4.25/3}"\n        fill="${a}"\n    />`;for(let t=0;t<e;t++)for(let n=0;n<e;n++)!o.isDark(t,n)||c(t,n)||h(t,n)||(f+=p(5*n,5*t));if(f+="</svg>",t.innerHTML=f,r){const{sizeCells:e,offsetCells:t}=u(d),n=5*e,o=5*t;r.style.top=Rt(o),r.style.left=Rt(o),r.style.height=Rt(n),r.style.width=Rt(n),r.style.borderRadius=Rt(1e6),i(Math.round(54/d))}n&&(n.style.transform=`scale(${d})`)}})),Se(ro,{get class(){return e.class},get children(){return[Se(oo,{ref(e){"function"==typeof n?n(e):n=e},get children(){return[(n=ho(),"function"==typeof t?Ge(t,n):t=n,n),Se(xe,{get when(){return e.imageUrl},get children(){return Se(io,{ref(e){"function"==typeof r?r(e):r=e},get children(){return Se(so,{get src(){return e.imageUrl},alt:"",get size(){return o()}})}})}})];var n}}),Se(fr,{onBeforeEnter:e=>{Zr(e,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(e,t)=>{Zr(e,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then((()=>{t()}))}})]}})};function go(e,t,n){const r=e[t]||t.trim().split(".").reduce(((e,t)=>e?e[t]:void 0),e);return void 0!==r?r:n}var po=(e={},t=("undefined"!=typeof navigator&&navigator.language in e?navigator.language:(t=>null!=(t=Object.keys(e)[0])?t:"")()))=>{const[n,r]=G(t),[o,i]=cn(e);return[(e,t,r)=>{const i=go(o[n()],e,r||"");return"function"==typeof i?i(t):"string"==typeof i?((e,t,n=/{{([^{}]+)}}/g)=>e.replace(n,((e,n)=>go(t,n,""))))(i,t||{}):i},{add(e,t){i(e,(e=>Object.assign(e||{},t)))},locale:e=>e?r(e):n(),dict:e=>go(o,e)}]},mo=se({}),yo=()=>ae(mo);const vo=wt.div`
    font-style: normal;
    font-weight: ${e=>e.fontWeight};
    font-size: ${e=>e.fontSize};
    line-height: ${e=>e.lineHeight};

    color: ${e=>e.color};
`,bo=e=>{const t=bt(),[n]=yo();let r;const o=Pe({fontSize:"14px",fontWeight:"510",lineHeight:"130%"},e);return Y((()=>{r&&"unset"!==o.cursor&&"pointer"!==getComputedStyle(r).cursor&&(r.style.cursor="default")})),Se(vo,{get fontSize(){return o.fontSize},get fontWeight(){return o.fontWeight},get lineHeight(){return o.lineHeight},get color(){return e.color||t.colors.text.primary},get class(){return o.class},ref(e){"function"==typeof r?r(e):r=e},"data-tc-text":"true",get children(){var e;return Q((()=>!!o.translationKey))()?n(o.translationKey,o.translationValues,null==(e=o.children)?void 0:e.toString()):o.children}})},Co=wt.div`
    position: relative;

    &::after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 0.5px solid rgba(0, 0, 0, 0.08);

        border-radius: inherit;
    }
`,wo=wt(sr)`
    width: 100%;
    height: 100%;
    border-radius: inherit;
`,_o=e=>Se(Co,{get class(){return e.class},get children(){return Se(wo,{get src(){return e.src}})}}),Oo={m:"16px",s:"12px",none:"0"},Eo={m:"6px",s:"6px",none:"0"};wt.button`
    position: relative;
    cursor: pointer;
    border: none;
    background-color: unset;
    padding: 8px 4px;
    width: 92px;
    display: flex;
    flex-direction: column;
    align-items: center;

    transition: transform 0.125s ease-in-out;

    ${Ht} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${Wt("mobile")} {
        padding: 8px 4px;
        width: 82px;
    }

    ${Xt} {
        &:active {
            transform: scale(0.92);
        }
    }
`,wt(_o)`
    width: 60px;
    height: 60px;
    border-radius: ${e=>Oo[e.theme.borderRadius]};

    margin-bottom: 8px;
`,wt(sr)`
    position: absolute;
    right: 10px;
    top: 50px;
    width: 24px;
    height: 24px;
    border-radius: ${e=>Eo[e.theme.borderRadius]};
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
`,wt(bo)`
    max-width: 90px;
    font-weight: 510;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    ${Wt("mobile")} {
        max-width: 80px;
    }
`,wt(bo)`
    font-weight: ${e=>e.colorPrimary?"510":"400"};
    max-width: 90px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    color: ${e=>e.colorPrimary?e.theme.colors.text.primary:e.theme.colors.text.secondary};

    ${Wt("mobile")} {
        max-width: 80px;
    }
`;const So=wt.h1`
    font-style: normal;
    font-weight: 590;
    font-size: 20px;
    line-height: 28px;

    text-align: center;

    color: ${e=>e.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,No=e=>{const[t]=yo();return Se(So,{get class(){return e.class},"data-tc-h1":"true",get children(){var n;return Q((()=>!!e.translationKey))()?t(e.translationKey,e.translationValues,null==(n=e.children)?void 0:n.toString()):e.children}})},To=wt.h2`
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 22px;

    text-align: center;

    color: ${e=>e.theme.colors.text.secondary};

    margin-top: 0;
    margin-bottom: 32px;

    cursor: default;
`,Ro=e=>{const[t]=yo();return Se(To,{get class(){return e.class},"data-tc-h2":"true",get children(){var n;return Q((()=>!!e.translationKey))()?t(e.translationKey,e.translationValues,null==(n=e.children)?void 0:n.toString()):e.children}})},ko=wt.h3`
    font-style: normal;
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;

    color: ${e=>e.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,Po=e=>{const[t]=yo();return Se(ko,{"data-tc-h3":"true",get class(){return e.class},get children(){var n;return Q((()=>!!e.translationKey))()?t(e.translationKey,e.translationValues,null==(n=e.children)?void 0:n.toString()):e.children}})},Ao={m:"16px",s:"12px",none:"0"},Io={m:"6px",s:"6px",none:"0"};wt.div`
    width: 60px;
    height: 60px;
    padding: 8px;
    margin-bottom: 8px;
    border-radius: ${e=>Ao[e.theme.borderRadius]};
    background-color: ${e=>e.theme.colors.background.tint};
    display: grid;
    grid-template: 1fr 1fr / 1fr 1fr;
    gap: 4px;
`,wt(_o)`
    width: 20px;
    height: 20px;
    border-radius: ${e=>Io[e.theme.borderRadius]};
`;const Do=wt.a`
    display: block;
    text-decoration: unset;
`;var xo=Fe('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d="M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z">');const Mo=e=>{const t=bt();return n=xo(),r=n.firstChild,Z((o=>{var i=e.class,s=e.fill||t.colors.icon.primary;return i!==o.e&&qe(n,"class",o.e=i),s!==o.t&&qe(r,"fill",o.t=s),o}),{e:void 0,t:void 0}),n;var n,r};var Ko=Fe('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z"></path><path d="M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z">');const Uo=e=>{const t=bt(),n=()=>e.fill||t.colors.icon.primary;return r=Ko(),o=r.firstChild,i=o.nextSibling,Z((e=>{var t=n(),r=n();return t!==e.e&&qe(o,"fill",e.e=t),r!==e.t&&qe(i,"fill",e.t=r),e}),{e:void 0,t:void 0}),r;var r,o,i};const jo={m:"8px",s:"4px",none:"0"},Lo={m:"16px",s:"8px",none:"0"},Bo=wt.div`
    width: 256px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${e=>Lo[e.theme.borderRadius]};

    background-color: ${e=>e.theme.colors.background.primary}
           
    color: ${e=>e.theme.colors.text.primary}
`,Wo=wt.ul`
    background-color: ${e=>e.theme.colors.background.primary};
    padding: 8px;
`,Xo=wt.button`
    display: flex;
    align-items: center;
    gap: 8px;
    height: 40px;
    padding-left: 8px;
    width: 100%;

    background-color: ${e=>e.theme.colors.background.primary};
    border: none;
    border-radius: ${e=>jo[e.theme.borderRadius]};
    cursor: pointer;

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${e=>e.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`,Ho=se();var zo=Fe("<li>");const Jo=e=>Se(bo,{get translationKey(){return e.translationKey},fontSize:"15px",fontWeight:"590",get children(){return e.children}}),Fo=wt(ur)`
    background-color: ${e=>e.theme.colors.connectButton.background};
    color: ${e=>e.theme.colors.connectButton.foreground};
    box-shadow: ${e=>`0 4px 24px ${Tt(e.theme.colors.constant.black,.16)}`};
    padding: 8px 16px 8px 12px;

    display: flex;
    align-items: center;
    gap: 4px;
    height: 40px;
`,qo=wt(Fo)`
    padding: 12px 16px;
    min-width: 148px;
    justify-content: center;
    background-color: ${e=>e.theme.colors.background.primary};
`,Vo=wt(ur)`
    min-width: 148px;
    height: 40px;

    background-color: ${e=>e.theme.colors.background.primary};
    color: ${e=>e.theme.colors.connectButton.foreground};
    box-shadow: ${e=>`0 4px 24px ${Tt(e.theme.colors.constant.black,.16)}`};

    display: flex;
    align-items: center;
    justify-content: center;
`,$o=wt(xr)`
    height: 18px;
    width: 18px;
`,Go=wt.div`
    width: fit-content;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
`,Zo=wt((e=>{const n=ae(Ho),[r,o]=G(!1);return Se(Bo,{ref(t){var n=e.ref;"function"==typeof n?n(t):e.ref=t},get class(){return e.class},"data-tc-dropdown":"true",get children(){return Se(Wo,{get children(){return[(s=zo(),Ze(s,Se(Xo,{onClick:()=>C(t,null,(function*(){const e=_.toUserFriendlyAddress(n.account.address);yield function(e){return C(this,null,(function*(){try{if(!(null==navigator?void 0:navigator.clipboard))throw new I("Clipboard API not available");return yield navigator.clipboard.writeText(e)}catch(e){}!function(e){const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}(e)}))}(e),o(!0),setTimeout((()=>o(!1)),1e3)})),get children(){return[Se(Mo,{}),Se(xe,{get when(){return!r()},get children(){return Se(Jo,{translationKey:"button.dropdown.copy",children:"Copy address"})}}),Se(xe,{get when(){return r()},get children(){return Se(Jo,{translationKey:"button.dropdown.copied",children:"Address copied!"})}})]}})),s),(i=zo(),Ze(i,Se(Xo,{onClick:()=>(n.disconnect(),void e.onClose()),get children(){return[Se(Uo,{}),Se(Jo,{translationKey:"button.dropdown.disconnect",children:"Disconnect"})]}})),i)];var i,s}})}})}))`
    box-sizing: border-box;
    overflow: hidden;
    margin-top: 12px;
`,Yo=Math.min,Qo=Math.max,ei=Math.round,ti=Math.floor,ni=e=>({x:e,y:e});function ri(e){return e.split("-")[0]}function oi(e){return["top","bottom"].includes(ri(e))?"y":"x"}function ii(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function si(e,t,n){let{reference:r,floating:o}=e;const i=oi(t),s=function(e){return"x"===oi(e)?"y":"x"}(t),a="y"===s?"height":"width",c=ri(t),l="y"===i,d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let f;switch(c){case"top":f={x:d,y:r.y-o.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:u};break;case"left":f={x:r.x-o.width,y:u};break;default:f={x:r.x,y:r.y}}switch(function(e){return e.split("-")[1]}(t)){case"start":f[s]-=h*(n&&l?-1:1);break;case"end":f[s]+=h*(n&&l?-1:1)}return f}function ai(){return"undefined"!=typeof window}function ci(e){return ui(e)?(e.nodeName||"").toLowerCase():"#document"}function li(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function di(e){var t;return null==(t=(ui(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ui(e){return!!ai()&&(e instanceof Node||e instanceof li(e).Node)}function hi(e){return!!ai()&&(e instanceof Element||e instanceof li(e).Element)}function fi(e){return!!ai()&&(e instanceof HTMLElement||e instanceof li(e).HTMLElement)}function gi(e){return!(!ai()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof li(e).ShadowRoot)}function pi(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=wi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function mi(e){return["table","td","th"].includes(ci(e))}function yi(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function vi(e){const t=bi(),n=hi(e)?wi(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function bi(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Ci(e){return["html","body","#document"].includes(ci(e))}function wi(e){return li(e).getComputedStyle(e)}function _i(e){return hi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Oi(e){if("html"===ci(e))return e;const t=e.assignedSlot||e.parentNode||gi(e)&&e.host||di(e);return gi(t)?t.host:t}function Ei(e){const t=Oi(e);return Ci(t)?e.ownerDocument?e.ownerDocument.body:e.body:fi(t)&&pi(t)?t:Ei(t)}function Si(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=Ei(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),s=li(o);if(i){const e=Ni(s);return t.concat(s,s.visualViewport||[],pi(o)?o:[],e&&n?Si(e):[])}return t.concat(o,Si(o,[],n))}function Ni(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ti(e){const t=wi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=fi(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=ei(n)!==i||ei(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function Ri(e){return hi(e)?e:e.contextElement}function ki(e){const t=Ri(e);if(!fi(t))return ni(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Ti(t);let s=(i?ei(n.width):n.width)/r,a=(i?ei(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const Pi=ni(0);function Ai(e){const t=li(e);return bi()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Pi}function Ii(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=Ri(e);let s=ni(1);t&&(r?hi(r)&&(s=ki(r)):s=ki(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==li(e))&&t}(i,n,r)?Ai(i):ni(0);let c=(o.left+a.x)/s.x,l=(o.top+a.y)/s.y,d=o.width/s.x,u=o.height/s.y;if(i){const e=li(i),t=r&&hi(r)?li(r):r;let n=e,o=Ni(n);for(;o&&r&&t!==n;){const e=ki(o),t=o.getBoundingClientRect(),r=wi(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,d*=e.x,u*=e.y,c+=i,l+=s,n=li(o),o=Ni(n)}}return ii({width:d,height:u,x:c,y:l})}function Di(e,t){const n=_i(e).scrollLeft;return t?t.left+n:Ii(di(e)).left+n}function xi(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:Di(e,r)),y:r.top+t.scrollTop}}function Mi(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=li(e),r=di(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const e=bi();(!e||e&&"fixed"===t)&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}(e,n);else if("document"===t)r=function(e){const t=di(e),n=_i(e),r=e.ownerDocument.body,o=Qo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Qo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Di(e);const a=-n.scrollTop;return"rtl"===wi(r).direction&&(s+=Qo(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}(di(e));else if(hi(t))r=function(e,t){const n=Ii(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=fi(e)?ki(e):ni(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=Ai(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return ii(r)}function Ki(e,t){const n=Oi(e);return!(n===t||!hi(n)||Ci(n))&&("fixed"===wi(n).position||Ki(n,t))}function Ui(e,t,n){const r=fi(t),o=di(t),i="fixed"===n,s=Ii(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=ni(0);if(r||!r&&!i)if(("body"!==ci(t)||pi(o))&&(a=_i(t)),r){const e=Ii(t,!0,i,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else o&&(c.x=Di(o));const l=!o||r||i?ni(0):xi(o,a);return{x:s.left+a.scrollLeft-c.x-l.x,y:s.top+a.scrollTop-c.y-l.y,width:s.width,height:s.height}}function ji(e){return"static"===wi(e).position}function Li(e,t){if(!fi(e)||"fixed"===wi(e).position)return null;if(t)return t(e);let n=e.offsetParent;return di(e)===n&&(n=n.ownerDocument.body),n}function Bi(e,t){const n=li(e);if(yi(e))return n;if(!fi(e)){let t=Oi(e);for(;t&&!Ci(t);){if(hi(t)&&!ji(t))return t;t=Oi(t)}return n}let r=Li(e,t);for(;r&&mi(r)&&ji(r);)r=Li(r,t);return r&&Ci(r)&&ji(r)&&!vi(r)?n:r||function(e){let t=Oi(e);for(;fi(t)&&!Ci(t);){if(vi(t))return t;if(yi(t))return null;t=Oi(t)}return null}(e)||n}const Wi={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,s=di(r),a=!!t&&yi(t.floating);if(r===s||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=ni(1);const d=ni(0),u=fi(r);if((u||!u&&!i)&&(("body"!==ci(r)||pi(s))&&(c=_i(r)),fi(r))){const e=Ii(r);l=ki(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const h=!s||u||i?ni(0):xi(s,c,!0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+d.x+h.x,y:n.y*l.y-c.scrollTop*l.y+d.y+h.y}},getDocumentElement:di,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[..."clippingAncestors"===n?yi(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Si(e,[],!1).filter((e=>hi(e)&&"body"!==ci(e))),o=null;const i="fixed"===wi(e).position;let s=i?Oi(e):e;for(;hi(s)&&!Ci(s);){const t=wi(s),n=vi(s);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||pi(s)&&!n&&Ki(e,s))?r=r.filter((e=>e!==s)):o=t,s=Oi(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=i[0],a=i.reduce(((e,n)=>{const r=Mi(t,n,o);return e.top=Qo(r.top,e.top),e.right=Yo(r.right,e.right),e.bottom=Yo(r.bottom,e.bottom),e.left=Qo(r.left,e.left),e}),Mi(t,s,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Bi,getElementRects:function(e){return C(this,null,(function*(){const t=this.getOffsetParent||Bi,n=this.getDimensions,r=yield n(e.floating);return{reference:Ui(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}}))},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Ti(e);return{width:t,height:n}},getScale:ki,isElement:hi,isRTL:function(e){return"rtl"===wi(e).direction}};function Xi(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Hi(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:c=!1}=r,l=Ri(e),d=o||i?[...l?Si(l):[],...Si(t)]:[];d.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const u=l&&a?function(e,t){let n,r=null;const o=di(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,c){void 0===a&&(a=!1),void 0===c&&(c=1),i();const l=e.getBoundingClientRect(),{left:d,top:u,width:h,height:f}=l;if(a||t(),!h||!f)return;const g={rootMargin:-ti(u)+"px "+-ti(o.clientWidth-(d+h))+"px "+-ti(o.clientHeight-(u+f))+"px "+-ti(d)+"px",threshold:Qo(0,Yo(1,c))||1};let p=!0;function m(t){const r=t[0].intersectionRatio;if(r!==c){if(!p)return s();r?s(!1,r):n=setTimeout((()=>{s(!1,1e-7)}),1e3)}1!==r||Xi(l,e.getBoundingClientRect())||s(),p=!1}try{r=new IntersectionObserver(m,v(y({},g),{root:o.ownerDocument}))}catch(e){r=new IntersectionObserver(m,g)}r.observe(e)}(!0),i}(l,n):null;let h,f=-1,g=null;s&&(g=new ResizeObserver((e=>{let[r]=e;r&&r.target===l&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=g)||e.observe(t)}))),n()})),l&&!c&&g.observe(l),g.observe(t));let p=c?Ii(e):null;return c&&function t(){const r=Ii(e);p&&!Xi(p,r)&&n(),p=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=g)||e.disconnect(),g=null,c&&cancelAnimationFrame(h)}}const zi=se(),Ji=se();var Fi=Fe("<okxc-root data-tc-dropdown-container=true>",!0,!1);const qi=()=>{const e=bt(),n=ae(zi),r=ae(Ho),[o,i]=G(!1),[s,a]=G(n.account),[c,l]=G(!n.account);let d;const[u,h]=G(),[f,g]=G(),p=function(e,n,r){let o=()=>{var e;return null!=(e=null==r?void 0:r.placement)?e:"bottom"},i=()=>{var e;return null!=(e=null==r?void 0:r.strategy)?e:"absolute"},[s,a]=G({x:null,y:null,placement:o(),strategy:i(),middlewareData:{}}),[c,l]=G();Y((()=>{let e=c();if(e)throw e.value}));let d=Q((()=>(e(),n(),{})));function u(){let s=e(),c=n();if(s&&c){let e=d();((e,n,r)=>{const o=new Map,i=y({platform:Wi},r),s=v(y({},i.platform),{_c:o});return((e,n,r)=>C(t,null,(function*(){const{placement:t="bottom",strategy:o="absolute",middleware:i=[],platform:s}=r,a=i.filter(Boolean),c=yield null==s.isRTL?void 0:s.isRTL(n);let l=yield s.getElementRects({reference:e,floating:n,strategy:o}),{x:d,y:u}=si(l,t,c),h=t,f={},g=0;for(let r=0;r<a.length;r++){const{name:i,fn:p}=a[r],{x:m,y:b,data:C,reset:w}=yield p({x:d,y:u,initialPlacement:t,placement:h,strategy:o,middlewareData:f,rects:l,platform:s,elements:{reference:e,floating:n}});d=null!=m?m:d,u=null!=b?b:u,f=v(y({},f),{[i]:y(y({},f[i]),C)}),w&&g<=50&&(g++,"object"==typeof w&&(w.placement&&(h=w.placement),w.rects&&(l=!0===w.rects?yield s.getElementRects({reference:e,floating:n,strategy:o}):w.rects),({x:d,y:u}=si(l,h,c))),r=-1)}return{x:d,y:u,placement:h,strategy:o,middlewareData:f}})))(e,n,v(y({},i),{platform:s}))})(s,c,{middleware:null==r?void 0:r.middleware,placement:o(),strategy:i()}).then((t=>{e===d()&&a(t)}),(e=>{l(e)}))}}return Y((()=>{let t=e(),s=n();if(null==r||r.middleware,o(),i(),t&&s)if(null!=r&&r.whileElementsMounted){let e=r.whileElementsMounted(t,s,u);e&&re(e)}else u()})),{get x(){return s().x},get y(){return s().y},get placement(){return s().placement},get strategy(){return s().strategy},get middlewareData(){return s().middlewareData},update:u}}(f,u,{whileElementsMounted:Hi,placement:"bottom-end"});r.connectionRestored.then((()=>l(!1)));const m=n.onStatusChange((e=>{if(!e)return i(!1),a(null),void l(!1);a(e.account),l(!1)})),b=e=>{if(!s()||!o())return;const t=f().contains(e.target),n=d.contains(e.target);t||n||i(!1)};ne((()=>{document.body.addEventListener("click",b)})),re((()=>{document.body.removeEventListener("click",b),m()}));const O=()=>C(t,null,(function*(){try{yield r.openModal()}catch(e){w.logDebug("connect error")}}));return Se(at,{component:Ot,get children(){return[Se(xe,{get when(){return c()},get children(){return Se(Vo,{disabled:!0,"data-tc-connect-button-loading":"true",get children(){return Se($o,{})}})}}),Se(xe,{get when(){return!c()},get children(){return[Se(xe,{get when(){return!s()},get children(){return Se(Fo,{onClick:O,"data-tc-connect-button":"true",scale:"s",get children(){return[Se(_r,{get fill(){return e.colors.connectButton.foreground}}),Se(bo,{translationKey:"button.connectWallet",fontSize:"15px",lineHeight:"18px",fontWeight:"590",get color(){return e.colors.connectButton.foreground},children:"Connect wallet"})]}})}}),Se(xe,{get when(){return s()},get children(){return Se(Go,{get children(){return[Se(qo,{onClick:()=>i((e=>!e)),ref:g,"data-tc-dropdown-button":"true",scale:"s",get children(){return[Se(bo,{fontSize:"15px",fontWeight:"590",lineHeight:"18px",get children(){return(()=>{const e=s();if(e){const t=_.toUserFriendlyAddress(e.address);return t.slice(0,4)+""+t.slice(-4)}return""})()}}),Se(vr,{direction:"bottom"})]}}),Se(st,{get children(){var e=Fi();return Ge(h,e),e.style.setProperty("z-index","999"),e._$owner=ie(),Ze(e,Se(fr,{onBeforeEnter:e=>{Zr(e,[{opacity:0,transform:"translateY(-8px)"},{opacity:1,transform:"translateY(0)"}],{duration:150})},onExit:(e,t)=>{Zr(e,[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-8px)"}],{duration:150}).finished.then(t)},get children(){return Se(xe,{get when(){return o()},get children(){return Se(Zo,{get hidden(){return!o()},onClose:()=>i(!1),ref(e){"function"==typeof d?d(e):d=e}})}})}})),Z((t=>{var n,r,o=p.strategy,i=`${null!=(n=p.y)?n:0}px`,s=`${null!=(r=p.x)?r:0}px`;return o!==t.e&&(null!=(t.e=o)?e.style.setProperty("position",o):e.style.removeProperty("position")),i!==t.t&&(null!=(t.t=i)?e.style.setProperty("top",i):e.style.removeProperty("top")),s!==t.a&&(null!=(t.a=s)?e.style.setProperty("left",s):e.style.removeProperty("left")),t}),{e:void 0,t:void 0,a:void 0}),e}})]}})}})]}})]}})},Vi=wt(to)`
  padding-left: 0;
  padding-right: 0;
  padding-top: 0;

  ${Wt("mobile")} {
    padding-left: 0;
    padding-right: 0;
    min-height: 364px;
  }
`,$i=wt(No)`
  padding: 12px 24px;
  text-align: left;
`,Gi=wt.div``,Zi=wt.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: ${e=>e.isDeclined?"200px":"325px"};;
  gap: 24px;
`,Yi=wt(Xr)`
  position: absolute;
  top: 12px;
  left: 16px;
`,Qi=wt(Ro)`
  margin-bottom: 0;
  padding: 16px 24px 24px 24px;
  min-height: 44px;
  font-color: ${e=>e.theme.colors.text.contrast};
`,es=wt.div`
  margin-top: 24px;
  margin-left: 24px;
  margin-right: 24px;
  display: flex;
  justify-content: center;
`,ts=wt.div`
  display: flex;
  justify-content: center;
  align-items: center;
`;function ns(e,t){let n;n="string"==typeof t?t:t.returnStrategy;const r=function(e,t,n){const r=new URL(e);return r.searchParams.append("ret",n),r.toString()}(e,0,n);if(!w.isTelegramUrl(e))return r;const o=r.slice(r.lastIndexOf("&")+1);return r.slice(0,r.lastIndexOf("&"))+"-"+w.encodeTelegramUrlParameters(o)}const rs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAleSURBVHgB7V27chNJFG3LPGweLhkDZV7l2S9Yk5FhZ2TY4UaGbDPwFxhHSwZkZLa/wHZGJpGx0Wq/YIcqMK7iJYN5G7TnNH1Fe/TW9IzGUp+qUc+MJXl0T/e5/bw9pDKKIAjye3t705VKZRqXU0gD3saRHxoayuM6b78f98q4V0YaSorbT5GWDh06VArDsKwyiCGVEdDg3759m8PpVRhwRv00tkuUSAbSx4cPHy6CkFBlAD0lwBj9Bk6vG6NXgWv1/ft3hb/r48ePHzrlfZ7zsJHL5fQxPDxcTXnA2OrIkSM1/xtkFJGs9ZqMnhBw8eLFGRhyyTY6DUsDf/78WX358kWfu8TRo0c1GSMjI/UI2cCxtrW1taFSRmoESG6HoW8pIy9i9A8fPmijR3N1UmAJISGjo6OaEAshSsby8+fPV1VKSIUA5PhbMPYdcZyUlo8fP2rDp2X0RqBMkYyTJ0/qc4PUiEiUAEoNDLyiTI7/+vWrev/+vc7tWcSxY8dSJyIRAiA3AYx9D6es1egcXy6XM2v4KKJEgIRV+I/lJJz1sHKMCxcuLCDX05mxDq92d3fVmzdvNAkHBeKX+PzGYU/j+efGxsZ2UIJLyiGcEUAne/z48b/w0HdxOUK5ef36ta7VHFTwN3z69Ek7bZQA+i+SkJ+YmPgbJdrJD3MiQUZyCjxlrnn37p3OQf2EEydOaFmCHPEyRMmYdSFJsQmA5LCroMAaDmXm1atXB0puOgF9wunTp8U30EHPw0HHkqRYEkS9h+Ef4XSEUkOt73W1MkmwdFOS0LfEg5L0JyQphF/4V3WJrgkwdfuHPGfVcmdnRz9gv0NIINh+AOYgTzuobDxRXaArAmh85PT7PKfxeQwa6KAJkgAputYtCR0TYGSnmvMH0fiCKAndyFFHTpgOF8b/h+eDbnwbrB3xIEDE5U4cc67dN7KqCeOv89wbfz9se8BGBdqq3c+2RQAbWVLPZ23HG78WtIlpdGpb0WbtfK4tAtA0X0ISSJ+OR33QNqYNFBibtURLJwzdZx/+XVa/Xr582df1/LigjVgK0CXDyyvtOOWmJcDovmaS3QvttnDX19f1w8Q5+B2ukObz0EaWP7jfyh80rQUh96/gS25w8KQT6XHVIDP9LrHRi+dhl4XpSd3AUOd8o/c1LAFGenh4p9sF3r59K8TPcWCq0fsaEtCN9Hj8Am3GsRDCjArWRV0CmPuVqfX0W7dymqBySK3o3Llzt+u9py4Bkvu99MSH+E74j6V6bYMaAuzcT+frEQ8cBzd9Rnmc34j+vYYAn/vdQ2yJUnAr+rd9BFy6dImzGHzudwyWAvEF0RrRPgKQ+xeY+tzvHpKhRWEEVQLYYkN1Sc/jOSjzdw4SZJoL58PazrhKADqPZpiyL8PX+91DZncTtjO2JUjLj9f+5CBtqlwud13uaQJMp9sMz2WYzcM9KO1RGdIEiPzQ+L67OTnYMmRWA1Ul6CpfZLqFR3KQqZooBdrmQgBnt6m9vT3lkSwsiZ/hS45aZFYiOqt+bmzEX+nj4jtcfper5yEBpps60H6ALbPz589XMIDAu5k6VlY4HhQPhUIhc7/r7NmzFdqcth9C59ttPOc9VpE4vTBLyNrImivk83m9CAS/b5E+IOBNr//pQWyN9kCQQ+6Y4oVv/aYHqeqjBAS5ilm56Kq4e7SGpTZTJCCI3PRIGJba5ClBvgSkDMvW+aoE+S6I9GDZOt/27GiPZOAJ6DE8AT0GnbCeuMLFyB7pwLJ1mU5YE5C15no/w7J12ZeAHoDrjAnGtcuZ4HY6mpRHOpDMDvXZoQQ95YWXoPRghcEJSUXIC18C0oMQgAaZliC9pjWLBKytram4KBaLKmsQW4OIkl6CytGZyclJZyM+6+vrlbjgd/Tr89DePGh7Lfy4+A9JwFWQLsJFVvwasYZgWIOJiQmelra2ti5L3fMxX+oFOPVwC0vqtfRrAkwUWR1H0yNZSJxS2Fxnek0AWNFzLthA8A2y5EDbispgUKao7/GFkcVZCuw3eLiHCfCkFWd7ezvkuZ3dN/nC4HQeyYBTUQyq9esqAZChVaZehpIB7SolQOSHqFraliETbMLDISxp3xT5IfZldcZJZmoVFQ9HkIhawKp9fx8Bz549KyIJJaK4hxswQ0us0egeBTVij1LwgKnFmEdMWPHklqN/qyGAzpiDNNQsXwriw8799cLg1xBgdhvSTHEWr0c8NMv9+n6jD0oHXTcREn1n3E+wTTU2NsZTav9v9d7TsMKP6uhNpqySyhimR/ugzVrlfqIhAaZGtMF2gZeizmGFul9ttgVK0yYvhswWxSF30jgb9DVilB7TsxzChsvN3ttS1EzsuBVOKOXeAH4ae3NQes6cOaNzP46brTYAahk3lHumwJGM48uusC+ba4krfip7XVCuGS2RKdtTMP7dlp9RbQBtgzvKtJC9P2gM2kbq/MZmLdEWAWwbQIJm6Q9YCnwruRa0iRntou7Ptrt7a9v9zqYHb1b+mSfhFyLh6+ft3s5W6GgDB/iDbfgDzqSbk26KQY+uEjE+ne6jTj7f8Q4axilzRfe1QSfBNj4qJoto7T5UHaKrPWRAwpNBJyFq/BcvXtxXXaDrXZQMCVU54nwXCUjUz2AVc3x8vNowpex0k/MFTjZyq/zc2kSHu+T2hf3aWGMji7PaWNU06ypm427k5qS7cXJyMkDOKOCUkRd172m/b2XIqmYntZ1GcLKZ5+7ubhk5Yw0PNSotZuYWloSDvv6Yv+PUqVN6YMV0LzxA39gf6KzcVg7gfFWG6TtaUn1QGpjjmfON4Sk5i643d3a+nzCrqXBQm3hg9h9NszSY2DhOZl6nAVYq2KfDZzeSs4HMNI+aTlE5RqLrkuzSwGvZXyWrsUllb3lrDk/IgSkzNpIIUlkY1ogIth16XWOSiWjW4LmWG/bjd1u37wSprsyLEkEwjCNLRJoxS2USMvWd7RdrrJd7BD/gzJB2O9PioidLIxkmH6VgAadz9n2SQELoK1wHEKehKTHU9YjR9WxljtsmKTWN0NO1qWw/oNjP4HShYkIn2yAhJIOSRamiI+c5S0q0tDBXm4EQbWCzD7xsvlwzo8EsStlMM7fXQ2YWBwsZJALG+b1iYpk6RGiM/pgLUnppdBuZXZ3NFYTI9dOGCAYXn2J0L6SBSfcNzdFx4l7ZpDQ2+6mYllACSlkxeBT/A6Mt6rTZ7SrDAAAAAElFTkSuQmCC";var os=Fe('<svg><path fill-rule=evenodd clip-rule=evenodd d="M96 51C96 75.8528 75.8528 96 51 96C26.1472 96 6 75.8528 6 51C6 26.1472 26.1472 6 51 6C75.8528 6 96 26.1472 96 51ZM102 51C102 79.1665 79.1665 102 51 102C22.8335 102 0 79.1665 0 51C0 22.8335 22.8335 0 51 0C79.1665 0 102 22.8335 102 51Z"fill-opacity=0.2></svg>',!1,!0),is=Fe('<svg><path fill-rule=evenodd clip-rule=evenodd d="M6 51H0C0 79.1665 22.8335 102 51 102V96C26.1472 96 6 75.8528 6 51Z"></svg>',!1,!0);const ss=e=>Se(cs,{get children(){return[Se(ls,{}),Se(ds,{src:rs})]}}),as=e=>Se(cs,{get children(){return Se(ds,{src:rs})}}),cs=wt.div`
  position: relative;
  height: 102px;
  width: 102px;
`,ls=wt((e=>{const t=bt(),n=mt`
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    `;return Se(wt.svg`
    animation: ${n} 2s linear infinite;
    transform-origin: center;
  `,{xmlns:"http://www.w3.org/2000/svg",width:"102",height:"102",viewBox:"0 0 102 102",fill:"none",get children(){return[(n=os(),Z((()=>qe(n,"fill",t.colors.text.primary))),n),(e=is(),Z((()=>qe(e,"fill",t.colors.text.primary))),e)];var e,n}})}))`
  height: 102px;
  width: 102px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,ds=wt(sr)`
  position: absolute;
  width: 86px;
  height: 86px;
  border-radius: 44px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,us=e=>[Se($i,{translationKey:"walletModal.mobileConnectionModal.OKXConnect"}),Se(es,{get children(){return[Se(xe,{get when(){return e.sessionConnecting()},get children(){return Se(ts,{get children(){return Se(ss,{})}})}}),Se(xe,{get when(){return Q((()=>null!==e.universalLink))()&&!e.sessionConnecting()},get children(){return Se(fo,{imageUrl:rs,get sourceUrl(){return ns(e.universalLink,"none")},disableCopy:!0})}})]}}),Se(Qi,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:e.walletInfo.name}},get children(){return["Scan the QR code below with your phones or ",Q((()=>e.walletInfo.name)),"s camera"]}})];wt(No)`
  padding: 12px 64px;
`;const hs=wt(No)`
  max-width: 262px;
`,fs=wt(hs)`
  font-size: 14px;
  color: ${e=>e.theme.colors.text.primary};
`,gs=wt(ur)`
  background-color: transparent;
  color: ${e=>e.theme.colors.text.primary};
  padding: 0px;
`,ps=wt.div`
  margin: 30px 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 16px;

  ${Wt("mobile")} {
    height: 160px;
    align-items: center;
  }
`,ms=wt(Pr)`
  margin-bottom: 16px;
`,ys=wt.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 12px;
  width: 100%;
`,vs=wt.div`
  background-color: ${e=>e.theme.colors.text.primary};
  height: 48px;
  width: calc(100% - 48px);
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`;wt(bo)`
  max-width: 262px;
  font-weight: 400;
  font-size: 16px;
  line-height: 20px;
  text-align: center;
  margin-top: 10px;
  color: ${e=>e.theme.colors.text.contrast};
`;const bs=wt(ur)`
  height: 48px;
  width: 262px;
  border-radius: 999px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px 24px;
`;wt(bs)`
  background-color: ${e=>e.theme.colors.text.primary};
`,wt(bs)`
  background-color: transparent;
  border-color: ${e=>e.theme.colors.border.secondary};
  border-width: 0.5px;
  border-style: solid;
`;const Cs=wt(hs)`
  font-size: 14px;
  color: ${e=>e.theme.colors.background.primary};
`;wt(hs)`
  font-size: 14px;
  color: ${e=>e.theme.colors.text.primary};
`;const ws=wt.div`
  padding-top: 16px;
  padding-left: 16px;
  padding-right: 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  border-top: 0.5px solid
    ${e=>Tt(e.theme.colors.icon.secondary,.2)};
  margin-top: 24px;
`,_s=wt(sr)`
  width: 32px;
  height: 32px;
  border-radius: 16px;
`,Os=wt((e=>Se(Do,Pe({get href(){return e.href},get target(){return e.blank?"_blank":"_self"},get class(){return e.class},get onClick(){return e.onClick}},(()=>e.blank?{rel:"noreferrer noopener"}:{}),{get children(){return e.children}}))))`
  margin-left: auto;
  display: flex;
`,Es=wt.div`
  display: flex;
  margin-top: 24px;
  gap: 8px;
  align-items: center;
  justify-content: center;
`,Ss=wt(sr)`
  width: 27px;
  height: 21px;
  object-fit: contain;
`,Ns=e=>Se(ps,{get children(){return[Se(ss,{}),Se(xe,{get when(){return e.loadingTextTranslationKey||e.loadingTextTranslationKey},get children(){return Se(hs,{get translationKey(){return e.loadingTextTranslationKey},get children(){return e.loadingText}})}})]}}),Ts=e=>{const[t]=yo();return Q((()=>{var n;return t(e.translationKey,e.translationValues,null==(n=e.children)?void 0:n.toString())}))};var Rs=Fe('<svg width=40 height=12 viewBox="0 0 40 12"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_4356_43883)><path d="M11.7336 0H0.269322C0.198282 0 0.130151 0.0282212 0.0799182 0.0784542C0.0296852 0.128687 0.00146484 0.196817 0.00146484 0.267857V11.7321C0.00146484 11.8032 0.0296852 11.8713 0.0799182 11.9215C0.130151 11.9718 0.198282 12 0.269322 12H11.7336C11.8046 12 11.8728 11.9718 11.923 11.9215C11.9732 11.8713 12.0015 11.8032 12.0015 11.7321V0.267857C12.0015 0.196817 11.9732 0.128687 11.923 0.0784542C11.8728 0.0282212 11.8046 0 11.7336 0ZM8.00129 7.73303C8.00129 7.80407 7.97307 7.87221 7.92283 7.92244C7.8726 7.97267 7.80447 8.00089 7.73343 8.00089H4.26736C4.19632 8.00089 4.12819 7.97267 4.07795 7.92244C4.02772 7.87221 3.9995 7.80407 3.9995 7.73303V4.26643C3.9995 4.19539 4.02772 4.12726 4.07795 4.07702C4.12819 4.02679 4.19632 3.99857 4.26736 3.99857H7.73343C7.80447 3.99857 7.8726 4.02679 7.92283 4.07702C7.97307 4.12726 8.00129 4.19539 8.00129 4.26643V7.73303Z"></path><path d="M35.7391 4.00018H32.2725C32.2015 4.00018 32.1333 4.0284 32.0831 4.07864C32.0329 4.12887 32.0046 4.197 32.0046 4.26804V7.73465C32.0046 7.80569 32.0329 7.87382 32.0831 7.92405C32.1333 7.97428 32.2015 8.0025 32.2725 8.0025H35.7391C35.8101 8.0025 35.8783 7.97428 35.9285 7.92405C35.9787 7.87382 36.007 7.80569 36.007 7.73465V4.26697C36.0067 4.19611 35.9783 4.12826 35.9281 4.07826C35.8779 4.02825 35.81 4.00018 35.7391 4.00018Z"></path><path d="M31.7379 0H28.2713C28.2002 0 28.1321 0.0282212 28.0819 0.0784542C28.0316 0.128687 28.0034 0.196817 28.0034 0.267857V3.73446C28.0034 3.8055 28.0316 3.87364 28.0819 3.92387C28.1321 3.9741 28.2002 4.00232 28.2713 4.00232H31.7379C31.8089 4.00232 31.8771 3.9741 31.9273 3.92387C31.9775 3.87364 32.0057 3.8055 32.0057 3.73446V0.267857C32.0057 0.196817 31.9775 0.128687 31.9273 0.0784542C31.8771 0.0282212 31.8089 0 31.7379 0Z"></path><path d="M39.7376 0H36.271C36.2 0 36.1319 0.0282212 36.0816 0.0784542C36.0314 0.128687 36.0032 0.196817 36.0032 0.267857V3.73446C36.0032 3.8055 36.0314 3.87364 36.0816 3.92387C36.1319 3.9741 36.2 4.00232 36.271 4.00232H39.7376C39.8087 4.00232 39.8768 3.9741 39.927 3.92387C39.9773 3.87364 40.0055 3.8055 40.0055 3.73446V0.267857C40.0055 0.232682 39.9986 0.19785 39.9851 0.165352C39.9716 0.132854 39.9519 0.103327 39.927 0.0784542C39.9022 0.0535813 39.8726 0.0338512 39.8401 0.0203901C39.8076 0.00692902 39.7728 0 39.7376 0Z"></path><path d="M31.7379 7.99982H28.2713C28.2002 7.99982 28.1321 8.02804 28.0819 8.07827C28.0316 8.1285 28.0034 8.19663 28.0034 8.26767V11.7321C28.0034 11.8032 28.0316 11.8713 28.0819 11.9215C28.1321 11.9718 28.2002 12 28.2713 12H31.7379C31.8089 12 31.8771 11.9718 31.9273 11.9215C31.9775 11.8713 32.0057 11.8032 32.0057 11.7321V8.2666C32.0055 8.19575 31.9771 8.12789 31.9269 8.07789C31.8767 8.02789 31.8087 7.99982 31.7379 7.99982Z"></path><path d="M39.7376 7.99982H36.271C36.2 7.99982 36.1319 8.02804 36.0816 8.07827C36.0314 8.1285 36.0032 8.19663 36.0032 8.26767V11.7321C36.0032 11.8032 36.0314 11.8713 36.0816 11.9215C36.1319 11.9718 36.2 12 36.271 12H39.7376C39.8087 12 39.8768 11.9718 39.927 11.9215C39.9773 11.8713 40.0055 11.8032 40.0055 11.7321V8.2666C40.0052 8.19575 39.9769 8.12789 39.9267 8.07789C39.8765 8.02789 39.8085 7.99982 39.7376 7.99982Z"></path><path d="M25.733 0H22.2664C22.1954 0 22.1272 0.0282212 22.077 0.0784542C22.0268 0.128687 21.9985 0.196817 21.9985 0.267857V3.73446C21.9985 3.8055 22.0268 3.87364 22.077 3.92387C22.1272 3.9741 22.1954 4.00232 22.2664 4.00232H25.733C25.804 4.00232 25.8722 3.9741 25.9224 3.92387C25.9726 3.87364 26.0009 3.8055 26.0009 3.73446V0.267857C26.0009 0.196817 25.9726 0.128687 25.9224 0.0784542C25.8722 0.0282212 25.804 0 25.733 0Z"></path><path d="M25.733 7.99982H22.2664C22.1954 7.99982 22.1272 8.02804 22.077 8.07827C22.0268 8.1285 21.9985 8.19663 21.9985 8.26767V11.7321C21.9985 11.8032 22.0268 11.8713 22.077 11.9215C22.1272 11.9718 22.1954 12 22.2664 12H25.733C25.804 12 25.8722 11.9718 25.9224 11.9215C25.9726 11.8713 26.0009 11.8032 26.0009 11.7321V8.2666C26.0006 8.19575 25.9722 8.12789 25.922 8.07789C25.8718 8.02789 25.8039 7.99982 25.733 7.99982Z"></path><path d="M21.9996 4.26375C21.9996 4.19271 21.9714 4.12458 21.9212 4.07435C21.8709 4.02411 21.8028 3.99589 21.7317 3.99589H17.9994V0.267857C17.9994 0.196817 17.9712 0.128687 17.921 0.0784542C17.8707 0.0282212 17.8026 0 17.7316 0H14.2687C14.1977 0 14.1295 0.0282212 14.0793 0.0784542C14.0291 0.128687 14.0009 0.196817 14.0009 0.267857V11.7273C14.0009 11.7984 14.0291 11.8665 14.0793 11.9167C14.1295 11.967 14.1977 11.9952 14.2687 11.9952H17.7353C17.8064 11.9952 17.8745 11.967 17.9247 11.9167C17.975 11.8665 18.0032 11.7984 18.0032 11.7273V7.99661H21.7366C21.8076 7.99661 21.8757 7.96839 21.926 7.91815C21.9762 7.86792 22.0044 7.79979 22.0044 7.72875L21.9996 4.26375Z"></path></g><defs><clipPath id=clip0_4356_43883><rect width=40.0039 height=12 fill=white>');const ks=e=>{const t=bt(),n=()=>e.fill||t.colors.disable;return r=Rs(),o=r.firstChild.firstChild,i=o.nextSibling,s=i.nextSibling,a=s.nextSibling,c=a.nextSibling,l=c.nextSibling,d=l.nextSibling,u=d.nextSibling,h=u.nextSibling,Z((e=>{var t=n(),r=n(),f=n(),g=n(),p=n(),m=n(),y=n(),v=n(),b=n();return t!==e.e&&qe(o,"fill",e.e=t),r!==e.t&&qe(i,"fill",e.t=r),f!==e.a&&qe(s,"fill",e.a=f),g!==e.o&&qe(a,"fill",e.o=g),p!==e.i&&qe(c,"fill",e.i=p),m!==e.n&&qe(l,"fill",e.n=m),y!==e.s&&qe(d,"fill",e.s=y),v!==e.h&&qe(u,"fill",e.h=v),b!==e.r&&qe(h,"fill",e.r=b),e}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),r;var r,o,i,s,a,c,l,d,u,h},Ps=e=>{const t=bt(),n=()=>{w.reportEvent(w.OKXReportType.CLICK,w.Report_ChooseType_Download_Click,"")};return[Se(xe,{get when(){return!An()},get children(){return Se(ws,{get children(){return[Se(_s,{src:rs}),Se(Po,{get children(){return e.wallet.name}}),Se(Os,{href:w.downloadUrl,onClick:n,blank:!0,get children(){return[Se(bo,{get color(){return t.colors.text.contrast},get children(){return Se(Ts,{translationKey:"common.get",children:"GET"})}}),Se(vr,{direction:"right"})]}})]}})}}),Se(Es,{get children(){return[Se(bo,{get color(){return t.colors.disable},get children(){return Se(Ts,{translationKey:"walletModal.mobileConnectionModal.PoweredBy",children:"PoweredBy"})}}),Se(ks,{})]}})]},As=e=>Se(gs,{get leftIcon(){return Se(jr,{})},get onClick(){return e.onRetry},get children(){return Se(fs,{translationKey:"common.retry",children:"Retry"})}}),Is=e=>[Se(ms,{size:"s"}),Se(hs,{translationKey:"walletModal.mobileConnectionModal.connectionDeclined",children:"Connection declined"}),Se(xe,{get when(){return e.showRetry},get children(){return Se(ys,{get children(){return Se(As,{get onRetry(){return e.onRetry}})}})}})],Ds=e=>{const t=bt();return[Se(ys,{get children(){return[Se(ss,{}),Se(hs,{translationKey:"walletModal.mobileConnectionModal.continueIn",children:"Continue the transaction in OKX Wallet"})]}}),Se(ys,{get children(){return[Se(vs,{get onClick(){return e.onOpenQR},get children(){return[Se(Br,{get fill(){return t.colors.background.primary}}),Se(Cs,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Codes"})]}}),Se(As,{get onRetry(){return e.onRetry}})]}})]},xs=wt.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  gap: 12px;
`,Ms=wt(bo)`
  max-width: 262px;
  font-weight: 400;
  font-size: 16px;
  line-height: 20px;
  text-align: center;
  margin-top: 10px;
  color: ${e=>e.theme.colors.text.contrast};
`,Ks=wt(bs)`
  background-color: ${e=>e.theme.colors.text.primary};
  margin-left: 24px;
  width: calc(100% - 48px);
  margin-right: 24px;
`,Us=wt(hs)`
  font-size: 14px;
  color: ${e=>e.theme.colors.background.primary};
`,js="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKuSURBVHgB7d3RcdpAFIXhYyfvUIKowHQQUkFEBQwVABXIVAAd4BJIBXIqEOlAHSAqUPYCiZmMsfHo4rNozjdzkzxkPGt+Wxit177D2wZhfhz/TsJ0IZeowmyO8zPMMz5oECYPU2tcpsDhA/giGUBfcFsnwztWESyy7bPCGVlkC23zZP899vvr060svi0zOA1QRL7YNk5uD/wdXr7ikc/3/T78kUJYUgvwAGH5ZpegLfQKl6WyADWE5h5CpQBkCkCmAGQKQKYAZApApgBkX+Gs3+8jyzJ0u81eXM9mM2w2G3hI0xSj0ajRmqqq2q+pLEt4c73Nmud57WG9XrutqSiK2sNqtXK/LR3tJajT6cBL08/Ga9JzAJkCkCkAmQKQKQCZApApAJkCkCkAmQKQKQCZApApAJkCkLkHsI2LttrtdvDm/q2JtiO2WCzQhEWcz+f7fze9l287WLamyWSCJm5mR8xrkiSpPWy32zpEjPJ9RMw7YiEAPNhnkHbE5CwFIFMAMgUgUwAyBSBTADIFIFMAMgUgUwAyBSBTADIFIFMAsmgD2Pkwj+1N28GKeZvU/ZCeHYjz2JJcLpfo9XqNN1PsbdkBvel0iibs7YzHY7eDg6dct9h0SK8lW5I6pCefQgHIFIBMAcgUgEwByBSATAHIFIBMAcgUgEwByBSATAHIdEjvA65xSM99R8wOsnlE+HtIz8NwOGx8SM/YLp03/QIHMj0HkCkAmQKQKQCZApApAJkCkCkAmQVo772D+FUWoISwbCzALwjLbwuwhrD8e+xzXPGnQmleneK0xCDihbZ1EnvgvxwDlHj5/fJyfbbZ8eql/wm39VF0i/OEdzyCv8i2ziMulODwJHFL71zMk+PM5f0ObxuEScM8hOmHifewVVzs7kKJw2ssu9Y/n/uPfwA3U3U3Q3Ht+AAAAABJRU5ErkJggg==",Ls=e=>[Se(xs,{get children(){return[Se(as,{}),Se(Ms,{translationKey:"walletModal.mobileConnectionModal.appAndTelegram.text",children:"OKX Wallet supports OKX app and Telegram Mini Apps"})]}}),Se(xs,{get children(){return Se(De,{get each(){return e.connector},children:t=>Se(Ks,{get leftIcon(){return(e=>{switch(e.getTag()){case w.OKX_APP_WALLET:return Se(Ss,{src:js});case w.OKX_INJECT_WALLET:return Se(Ss,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAoCAYAAABerrI1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZOSURBVHgB7VlrbFNVHP/dR2/XPVv26tYyOwmogGE8RMg06xJjIDzcEKOEKOOLiR/c+GIiH8zYF1ATw5QYjY8wEyJiEDcfkcSEbfrFYLKNx4cJCW0GOMbG7LDr+rr3+D+37Vbm2nU41mL4Jb/d2557zs7v/F/n3AIzw0k8THQR2QKxl3iU6MA8wxwVw9LMw9G5zIugXgAsQ9iLeRCWCRaayWJ3DQcAlqF0Yo4Qo9dmZC7qcJfIpFiaThfmCCF6ZchsCHN5WE7loaqqKtTVzewFbrcbbW1tCfs6HA40NDQkbOd9+Rj3AkldgP4xSwaaeMK+TqczaV8SnIoLzgki/od4IOp+wQNR9wvmRZTH40EmIaXiy2sN50zggpqamhK2d3d3o6urC4nQ19d3x6LkyxL2lizCkxVWVIxP4KFF+YCqQcjP8Ughrc/HQh3lI952U1+/G/9F1GxwuVwJRXFBtbW1mA12iwXvlhej2myCGgrrM5NEPj0RgsCIdE/kV0kVEDQIbfljvhbLDOIyIqZetlvxXUUJ1mfLCIeCsz6vSQyKxhq8RXm917Y9s296e9pFNVaU460yC/KUuU2FkeHkkGoWx4YPD9Y91RzfllZRr9isaCyKxsxdBoAoyhA94wdcW5yTFkubKLssorG4ACrTIvGSCBq1a2QZJuqRz+gzv6FtI/8LjfHPInK8480Thw45eJeUdun3AtZdK1FwMUBudKcgSgWQ8nKRvXUr8ra/BBSVQDSSNt8lCENfQbzRRpb1kyj+dPx+VzWr0uWjdFObkiiz2axzJvB0nOzowNumZ8ZxKQi2ZSnac25g+9mRqcMSzVQpK0PhkU8wnGPDsZ4wLvzih9cno/qRR1G/qhk2+6sIX6yHODEwNaCuUIQsMifrNJtTSumtra16LUoEC6XjRAWYjh7o7Oy847uTl0/j4O+fIscfxoefXYEpGIIoUOpWDCg//i16/GXYd9KP66PhuKkx2CwyPtiVjXXFV4HzNUDQO9kWEaYhCKUlpZhKZKVU26fjzOBZPSbGFQltzqJJF8yt24mbWVa8fsKH63/FC+IQ6DsVrx334UbIDsG6h2cJ+ppLiF6JRsVWk5ZEcfXWoC5KI/68ogBXi7N0F8zetA0dF0MYvK1GV/7fGCax3/TQTemeSF7ngsRIYebCtfCAIz2ifEOR7MUnrjF8UV0ETQ3D8PBS/PpHMGl6p70FLgxMUPKwQdNnL0TE6bsNcmGY0iPKSKsbS8kCiTpnM+HMCqpXgQCyjdKs/f8OcOtQfWJGEiIRDSRGJm3UV2TpqVMFxmgMamzSDY+tL8SY34NVdpG8KUndorpU85iEsK8/aiRBtx6XQsUATLJ40iJqZWGlXkR191NJGO0oRk0yjvf/iB1rslCal9j/ShcZsG2FAuHmCUT2DuJkPHGSD/SlVKfa29sjE0iAZHWKHy2mv0Ib8FCNyWdTcQXo12PXOrFjbT1adxej8esJDN0KIHaQYGQhq0XCRy9mozhnEOFLp2CIitHHECLuHBLVjrS8zJSyDXj8yGYEtVCkxGBKWFluKT7fehBCYBF+OB9A9yUVuSYJq+0Snl8jIyiO4lrPbmxUXHo86gMIalQEgzzuqYyJcuEe/NiVDEvffBrKklw9nqa8ILLqCpNRv/xZvLBsE5ZY7JhgQdzy38aXPacwcrMT7y0+R/mAXC1acFk0qsJU9ozV1/fGRLUSm7CAyC01w7Z/HYSsSNFk+qoL+gRjIrngEFQ97iipUX4TcGblMMqMPsR2ESK0iJ+JWZ5gSFhtqu13xxJFOxYY3iEPxr53Q99za7GtaVQQi7giX3FZo2RNolXizhIvbFl+vR7psUZXjS8IxZYqyy1cEB87VhT4BwtxAxYQXtcoFFmBcZlFL7jcWjFhOrWp+0KDhvcrPciRo64aTfuMLKkppS3GDX1vx8aNr3S/ETcRrVhAePtHYAgIyKqks5UQZ6k4NwSdpd5YHMRGc4DERzKeIOqW9KiyaX9WnCCOeFF+Ik/+Jiy0xa6MwnP2T9r8iTAtLpi0WMQnGZaIfryzzAeJm1O3kBFhg9ZlMNZuNjzx0+np4yUq3Q7iAeIqYhUWBm5ih7K2pOvRvWsdQUV6zhhiVd7ghPnj5T7U5I+7BbnArYVHuhW/v1WodSd82fgPHg20OjkMhvcAAAAASUVORK5CYII="});case w.OKX_TG_WALLET:return Se(Ss,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAoCAYAAACxbNkLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnUSURBVHgBrVlrbFxHFT5z967tddx4/Urc4LrrVirETogJBCFBGic/UqAVsSXUCNFAgtQKCQmFfwUJjIVUIfGjEVRFqIi2ilBDEbFDS6GAlKSlaoJ4mMY0CaHOJrZSnMTxOvF7d+cwrzMz17vr9RpOctf3zp3HeX7nzFwGy+iVbG8PD/L7AFgvIKYYY4gIDAoJGQPx0jWIZ9VXDZFvbbt+UZIYDDNkw/kYG+hjQ2n4H8guOoi9yYDn+8W6h2WzZAo8QdB1tgKyQDTrbqyoxKiEBH8OmojRM2hFyEnkc8DgSD6IScEysFaBpDCM506KGbeh1rNdSGmacWSekazFDCPebGh/I21uTrcqg4I2tNYcxjDcvRahAvUjLcOxmwvutcZBcYpKa1wtJN/pS7aZf+KZ7lUn+Q7tWyW67KNG2zZtYkSu72k11O2mZzfksv2wBmKD870piC1dVg+BWsdonxn3cM4mFwyMrjHiZwysg1F31MyqTmQJ5uax7dZaZEdkbr5gT1/81VNQAQVCmH6jX+BGGK19TlYyAc0VV9JKih9wca76qnbJleihxnIjHkeaX1sGTXxGrKjulYfoFZXCOEhwqowCZV7nZGpax6vHinInboapfvovchvrxAhhn3NbrRBEci/0lKXdFJzrMbs2sooFCsVk3VKTXEc/WCeQmiYXMrEq/6Jp1cCgejNtPe1PhjcN3TyCksxEH4IBGuO04kk7p3U7iUFqVeyACikEbRMPkZ17y2XS79yBP//6umyQWG7BSPbeeG8Cdh3YpJam8DYhoQS+fmUeTh69RlODGU9RyXoOfAA2pKpB5yzyX2A2yhAqphAVp8b0BpuNRyir/OaHackUKzXB5p1JaBGCWQuqCXQ2lgK9/L1/l1y8ub0GdrdvUpYjbaCHEmuQR1gIVTQwFkkVyLQbAis7A9POrmPHWJBiDcuzhBoOrXNrmNcTM4YVyxQimKD107jydAtkKwqFOufqBKvQjXmsluPHvdfAQImA8tUqFFogkNKm4IVx63p2Ura6GaVQpE1fw+UspIAe0cQsGjAicQgZKhTITK2zvJrR5AoV2QS5KxBzVQOzRRq6eFqJ1DIcNQAZUSw2wFrkUaAQbeFoq0Wj4hUn5px7KGLgCahKKDNejuMmb5mecnlZjRikXYvL+YWorXGorWxc1yXjNlZssjTQz8t4DWq3NouhXV9lKFv+VEbs2FwP+rUY7WV0lDO4IaD3xtUFW1Vrt9Q3UpjXnhmT74nDiD06BaR3PthgRWVUCRrvSn24DmqTMdt/IbcOzow+DJnbW+DKdDPML26EnOhXG0JGjB/O59iJ0VwwlPlCQ7qkQC8JgQiwfb+l2LR7H+aerTXFm69vPiuEXig6eeeDSfj277rNIC+1+glCvFpY2giDw1+Dq5NbYJGvbBRVmDF4IYjHBi70FQoWyC60NSB/Ibchl6CaTPUxrmFRfiWyKkDU8+u6xG49xN1f0g/D0yd/AJeud8JingMVeKUuuaeMIR6MZ3N/7/rljcOFAvmFofp1RSfayhpRwztaANA5h5cHMjkHp3KGqnKtkLff289eGzkI2WwtVErCFZMCj57+2OBkf0QgTpsyKxg4AVFnfW4YkM8cXVlSHoVMla0E0eFP6/xVWOb3734eaLO31mtmMffdzcecpYLl2dpdumIG5liBZdsA2uusJI6LQXJkwFuzTfjGvx6F/xflgPcf/O1UigSiXQolSFt4SNhVDKGNKBNbKjRXlSci23WTQU9f3M/uLCTKxstqLxFTybOZhefleiGdC/hk8pxys7lMDuan8/aswey71U+iPgYt7dUlhWm5txpupOfBP/pZiLfC8FiPAPCy4Reh2jiDR9oT0LOpGt76zyL8/NJc5H0YsJ7U4OVkSPmH9Ol+Nd/HnxrD1599v6QlfjL+caitD/1RNhudf/M2fGPL3yL9Wz77BDQ+huUR0lBXQxV87r4a6E0loL5KnenApelsQc7N5sXzTNXhEE3Bod2HSnZmt8Vz07kV3Wo2k4XE+hiYaswANaP9a0H/+h0PQTlpQjF4W0scDm9dDzs2VKk2H09Hp3NF52hNBLtC9LfP6siKMVdWllejCXZmY0pnG62gIsPX39cFsyWmXScssP/+WvjSB9dBa62uIMZmcvDc+Rl4orMO2tbpWvrynVxR1iYWeSpEs4/xj5gsRaC8OPkwbrp6x4iFtdxcvA7cYYum9roQHu+8C/aKGEkat5L04sUZOD46B099osEKI+nmXM7kyyglGEuFlmHKoKy4ZksTRhl34VHUVePi5aLHy862BPy0pynS5+Z8Hp58+xZcyOThpYea4R5PmJwYOz6bK7o3yYvG0PgGoTMrZBfKCeRZ1cQOmhOjIprJXL8CieY2+/zm+Cwc+EMePnl3DWxtroZ/Ti3B0fN3oDrG4NjelohlJP1jchEY8qKc1MaDTGiczEK3fwa6qjxjtghIZRGaA4qIoI7WT1+DJU8gSWcnFtTl03N7NkBbXVgwflQgXCkdZzkMh27LbBiEqDAfeaTeBH1xahK5RgGLOSRBk+zk7T1bE/CpLzZF3DF/1ztwE3dAOfrOmUl4dlcLdDVVRdpHJpdKuk02z0+wn2W2o90sGF3TSbM9PDFh7rYZXnYFf+vBXCzaGLJneep3MbsOf/T6UbZUvq5VYf+VzevhWx9ttJny4B8n4K335wv7iumu8ZqOQGg0Dbb85OacOXqW4BevSPKqolX3peMufaYNrsxRGGO3C+qqCmdZW+M5tVy5KyauF9+9DTuPj8HIrSUYFxA+cnOxaF/BwwsLh+5OB0GAQ8QAWsZ84UxsqT2NruPM4ZacxvgmFazaCvbO7KGWV/L7tj8DYTijoHc118RsFvpeHYddv7oK00u5gveCt4zY0g7I2QMBgyec0fRBvUqx3JWjagvBiTFtITov8C3qFEDjyF+NLc1VUz0Buz/0i4rrUAKs5VcuwIHMoY60EujxhuFT4u8Rt1GgzyKIVJCSZrX2kXDRMknHyWCRzh2XIOQR3XiyOm7veAX2dL2M4Am6lisRg4HRx+4/Qlyq+qLvydazwnifFret9IJ552rMiyV6RnM+YET2cg612TzEwB0gMX/KtsYRVlM1ixNTD7BsPg6VkAAM8bky/82LX37g+367hdTnp7qTwrH6ufxoTFsFD598ScD7Tqeblh940UE5o70Ii3yWsF/LtRNNz22ANy48ys5d3SPPhVakULwXwH1q28bw0NBntJsVFYjox1PdqZj45ioLXvntyO8T/TxvRCGgtuBRmJDdOF3No39ypP+nxfPQmff2nv7Tua+mauKxfaK1ezaXT8rKbkkgcWN1mJ6cz56GoOpI+lBHyY/J/wUwVKGzeWclZQAAAABJRU5ErkJggg=="});default:return Se(Ss,{src:js})}})(t)},onClick:()=>e.walletConnectClick(t),get children(){return Se(Us,{get translationKey(){return t.walletNameKey},get children(){return t.walletName}})}})})}})],Bs=e=>{bt();const[n,r]=G(!1),[o,i]=G(!1),s=Q((()=>(e.walletConnector.length>1||1==e.walletConnector.length&&e.walletConnector[0].getTag()!==w.OKX_APP_WALLET)&&!o())),[a,c]=G(null),l=ae(Ho);var d,u,h;Y((()=>{var t=e.universalLinkParams();const o=s(),i=n(),a=null===e.universalLinkParams()&&!e.connectError();if(o==d||i||a||(o?(w.reportEvent(w.OKXReportType.PAGE_IN,w.Report_Proceed_Proceed_View,""),w.reportEvent(w.OKXReportType.PAGE_OUT,w.Report_ChooseType_ConnectWallet_View,"")):(w.reportEvent(w.OKXReportType.PAGE_OUT,w.Report_Proceed_Proceed_View,""),w.reportEvent(w.OKXReportType.PAGE_IN,w.Report_ChooseType_ConnectWallet_View,"")),d=o),i==u||a||(i?w.reportEvent(w.OKXReportType.PAGE_IN,w.Report_Proceed_QRCode_View,""):w.reportEvent(w.OKXReportType.PAGE_OUT,w.Report_Proceed_QRCode_View,""),u=i),a!=h&&(a?w.reportEvent(w.OKXReportType.PAGE_IN,w.Report_Loading_ConnectWallet_View,""):w.reportEvent(w.OKXReportType.PAGE_OUT,w.Report_Loading_ConnectWallet_View,""),h=a),t){e.setLastSelectedWalletInfo(v(y({},e.wallet),{openMethod:"universal-link"})),w.logDebug(`createEffect  ${JSON.stringify(t)}`);var l=t.connectRequest;if(l){var f=w.getAppWalletShortDeepLink(l.topic,l.clientId);c(f)}}e.connectError()&&r(!1)})),ne((()=>C(t,null,(function*(){try{yield e.connect().catch((e=>w.logDebug(`MobileConnectionModal onMount error ${JSON.stringify(e)}`)))}catch(e){console.error("Error while connecting:",e)}}))));const f=()=>{i(!1),w.reportEvent(w.OKXReportType.CLICK,w.Report_Proceed_Retry_Click,"");try{e.connect()}catch(e){console.error("Error while connecting:",e)}},g=()=>{w.reportEvent(w.OKXReportType.CLICK,w.Report_Proceed_QRCode_Click,""),r(!0),e.setLastSelectedWalletInfo(v(y({},e.wallet),{openMethod:"qrcode"}))},p=()=>{n()?(r(!1),e.setLastSelectedWalletInfo(v(y({},e.wallet),{openMethod:"universal-link"}))):e.onBackClick()},m=t=>{var n=e.universalLinkParams();switch(t.getTag()){case w.OKX_APP_WALLET:return w.reportEvent(w.OKXReportType.CLICK,w.Report_ChooseType_ConnectWallet_Click,JSON.stringify({Report_WalletType_Key:"app"})),void(zt()?(i(!0),n&&t.openWallet(n)):g());case w.OKX_TG_WALLET:w.reportEvent(w.OKXReportType.CLICK,w.Report_ChooseType_ConnectWallet_Click,JSON.stringify({Report_WalletType_Key:"tgminiwallet"})),null==l||l.closeModal(),n&&t.openWallet(n);break;case w.OKX_INJECT_WALLET:null==l||l.closeModal(),n&&t.openWallet(n)}};return G(!1),Y((()=>{})),Se(Gi,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[Se(xe,{get when(){return!e.backDisabled},get children(){return Se(Yi,{icon:"arrow",onClick:p})}}),Se(xe,{get when(){return Q((()=>null===e.universalLinkParams()))()&&!e.connectError()},get children(){return[Se($i,{children:"OKX Connect"}),Se(Ns,{}),Se(Ps,{get wallet(){return e.wallet}})]}}),Se(xe,{get when(){return null!==e.universalLinkParams()||e.connectError()},get children(){return[Se(xe,{get when(){return Q((()=>!!n()))()&&!e.connectError()},get children(){return Se(us,{get universalLink(){return a()},get walletInfo(){return e.wallet},get sessionConnecting(){return e.sessionConnecting}})}}),Se(xe,{get when(){return!n()},get children(){return[Se($i,{children:"OKX Connect"}),Se(Zi,{get isDeclined(){return e.connectError()},get children(){return[Se(xe,{get when(){return e.connectError()},get children(){return Se(Is,{onRetry:f,get showRetry(){return e.showRetry}})}}),Se(xe,{get when(){return!e.connectError()},get children(){return[Se(xe,{get when(){return s()},get children(){return Se(Ls,{get connector(){return e.walletConnector},walletConnectClick:m})}}),Se(xe,{get when(){return!s()},get children(){return Se(Ds,{onOpenQR:g,onRetry:f})}})]}})]}}),Se(Ps,{get wallet(){return e.wallet}})]}})]}})]}})},Ws=wt.div``,Xs=wt.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  margin-bottom: 16px;
`,Hs=wt(Ro)`
  margin-bottom: 0;
  padding: 10px 24px 0px 24px;
  font-size: 14px;
  font-color: ${e=>e.theme.colors.text.contrast};
`,zs=wt.div`
  margin-top: 24px;
  margin-left: 24px;
  margin-right: 24px;
  margin-bottom: 10px;
`,Js=wt.div`
  display: flex;
  justify-content: center;
  align-items: center;
`,Fs=e=>[Se(zs,{get children(){return[Se(xe,{get when(){return e.sessionConnecting()},get children(){return Se(Js,{get children(){return Se(ss,{})}})}}),Se(xe,{get when(){return Q((()=>null!==e.universalLink))()&&!e.sessionConnecting()},get children(){return Se(fo,{imageUrl:rs,get sourceUrl(){return ns(e.universalLink,"none")},disableCopy:!0})}})]}}),Se(Hs,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:e.walletInfo.name}},get children(){return["Scan the QR code below with your phones or ",Q((()=>e.walletInfo.name)),"s camera"]}})],qs=wt.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding-bottom: 20px;
  margin-top: 10px;
  border-bottom: 0.5px solid ${e=>Tt(e.theme.colors.icon.secondary,.2)};
  width: 100%;
`,Vs=wt.div`
  flex: 1;
  margin-left: 16px;
  display: flex;
  flex-direction: column;
`,$s=wt(No)`
  font-weight: 500;
  font-size: 18px;
  text-align: left;
`,Gs=wt(bo)`
  font-weight: 500;
  font-size: 14px;
  margin-top: 5px;
  color: ${e=>e.theme.colors.text.contrast};
`,Zs=wt(sr)`
  width: 48px;
  height: 48px;
  margin-left: 24px;
`,Ys=wt(ur)`
  border-radius: 20px;
  padding: 6px 14px;
  margin-right: 24px;
  display: inline-flex;
  background-color: transparent;
  border: 0.5px solid ${e=>e.theme.colors.text.secondary};;
  white-space: nowrap;
  cursor: pointer;
`,Qs=wt(bo)`
  font-size: 12px;
  font-weight: 400;
  color: ${e=>e.theme.colors.text.primary};
`,ea=e=>Se(qs,{get children(){return[Se(Zs,{src:js}),Se(Vs,{get children(){return[Se($s,{translationKey:"walletModal.mobileConnectionModal.connectInjectedOpening",children:"Opening OKX Wallet..."}),Se(Gs,{translationKey:"walletModal.mobileConnectionModal.connectInjectedConfirm",children:"Confirm in OKX Wallet extension"})]}}),Se(Ys,{get onClick(){return e.injectedRetry},get children(){return Se(Qs,{translationKey:"common.retry",children:"Retry"})}})]}}),ta=e=>{const t=e.connector.some((e=>e.getTag()===w.OKX_APP_WALLET));return[Se(xe,{get when(){return e.injectedOpen()},get children(){return Se(ea,{get injectedRetry(){return e.injectedRetry}})}}),Se(xe,{when:t,get children(){return Se(Fs,{get universalLink(){return e.qrLink()},get walletInfo(){return e.wallet},get sessionConnecting(){return e.sessionConnecting}})}})]},na=e=>{bt(),ae(Ho);const[n,r]=G(null),o=Q((()=>null===n())),[i,s]=G(!1);var a,c;e.setLastSelectedWalletInfo(v(y({},e.wallet),{openMethod:"qrcode"}));const l=Q((()=>null===e.universalLinkParams()&&!e.connectError())),d=Q((()=>null!==e.universalLinkParams()||e.connectError())),u=Q((()=>d()&&e.connectError())),h=Q((()=>d()&&!e.connectError()));Y((()=>{w.logDebug("TON customEvent.detail  :::",Y);var t=e.universalLinkParams();w.logDebug("TON customEvent.detail  :::",JSON.stringify(t));const n=o(),r=null===e.universalLinkParams()&&!e.connectError();if(n==a||r||(n?(w.reportEvent(w.OKXReportType.PAGE_IN,w.Report_ChooseType_ConnectWallet_View,""),w.reportEvent(w.OKXReportType.PAGE_OUT,w.Report_Proceed_QRCode_View,"")):(w.reportEvent(w.OKXReportType.PAGE_OUT,w.Report_ChooseType_ConnectWallet_View,""),w.reportEvent(w.OKXReportType.PAGE_IN,w.Report_Proceed_QRCode_View,"")),a=n),r!=c&&(r?w.reportEvent(w.OKXReportType.PAGE_IN,w.Report_Loading_ConnectWallet_View,""):w.reportEvent(w.OKXReportType.PAGE_OUT,w.Report_Loading_ConnectWallet_View,""),c=r),t){e.setLastSelectedWalletInfo(v(y({},e.wallet),{openMethod:"universal-link"}));var i=t.connectRequest;if(i){var l=w.getAppWalletShortDeepLink(i.topic,i.clientId);g(l)}var d=e.walletConnector.find((e=>e.getTag()===w.OKX_INJECT_WALLET));d&&(d.openWallet(t),s(!0),e.setLastSelectedWalletInfo(v(y({},e.wallet),{openMethod:"inject"})))}}));const[f,g]=G(null);ne((()=>C(t,null,(function*(){try{yield e.connect().catch((e=>w.logDebug("DesktopConnectionModal connect catch error ",JSON.stringify(e))))}catch(e){w.logDebug("DesktopConnectionModal connect  error ",JSON.stringify(e))}}))));const p=()=>{r(null),w.reportEvent(w.OKXReportType.CLICK,w.Report_Proceed_Retry_Click,"");try{e.connect()}catch(e){console.error("Error while connecting:",e)}},m=()=>{var t=e.walletConnector.find((e=>e.getTag()===w.OKX_INJECT_WALLET));t&&b(t)},b=t=>{var n=e.universalLinkParams();n&&(t.openWallet(n),e.setLastSelectedWalletInfo(v(y({},e.wallet),{openMethod:"inject"})))};return Se(Ws,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[Se($i,{children:"OKX Connect"}),Se(xe,{get when(){return l()},get children(){return[Se(Ns,{}),Se(Ps,{get wallet(){return e.wallet}})]}}),Se(xe,{get when(){return d()},get children(){return[Se(xe,{get when(){return u()},get children(){return Se(Xs,{get children(){return Se(Is,{onRetry:p,get showRetry(){return e.showRetry}})}})}}),Se(xe,{get when(){return h()},get children(){return Se(Xs,{get children(){return Se(ta,{get connector(){return e.walletConnector},get wallet(){return e.wallet},get sessionConnecting(){return e.sessionConnecting},qrLink:()=>f(),injectedRetry:m,injectedOpen:i})}})}}),Se(Ps,{get wallet(){return e.wallet}})]}})]}})},ra=e=>{const{locale:t}=yo()[1];Y((()=>t(e.language)));const n=Q((()=>zt()||gn()));return Y((()=>{e.opened&&Ft()})),Se(Vi,{get opened(){return e.opened},onClose:()=>e.onClose("action-cancelled"),"data-tc-wallets-modal-container":"true",get children(){return[Se(xe,{get when(){return e.loadingBeforeConnect()},get children(){return[Se($i,{get children(){var t;return null==(t=e.walletInfo)?void 0:t.name}}),Se(Ns,{})]}}),Se(xe,{get when(){return!e.loadingBeforeConnect()},get children(){return Se(at,{get component(){return n()?Bs:na},get wallet(){return e.walletInfo},onBackClick:()=>{},backDisabled:!0,get connect(){return e.connect},get universalLinkParams(){return e.universalLinkParams},get lastSelectedWalletInfo(){return e.lastSelectedWalletInfo},get setLastSelectedWalletInfo(){return e.setLastSelectedWalletInfo},get connectError(){return e.connectError},get showRetry(){return e.showRetry},get sessionConnecting(){return e.sessionConnecting},get walletConnector(){return e.walletConnector()}})}})]}})},oa=()=>{const e=ae(Ho),n=ae(zi),[r,o]=G(!1),[i,s]=G(!1),[a,c]=G(null);window.addEventListener("okx-ton-connect-connection-info-before-jump",(e=>{const t=e;w.logDebug("TON   :::",JSON.stringify(t.detail)),t.detail&&"connectInfo"in t.detail&&c(t.detail.connectInfo)}));const l=Q((()=>{var e;if(!(()=>{var e;return"loading"===(null==(e=un.connectRequestParameters)?void 0:e.state)})())return null==(e=un.connectRequestParameters)?void 0:e.value})),d=t=>{e.closeModal(t)};return re(n.onStatusChange((e=>{e&&d("wallet-selected")}),(()=>{o(!0)}))),Y((()=>{Zn()||(o(!1),c(null))})),Se(ra,{get opened(){return Zn()},get walletInfo(){return Yn()},loadingBeforeConnect:()=>{var e;return"loading"===(null==(e=un.connectRequestParameters)?void 0:e.state)},connect:()=>new Promise(((r,i)=>{c(null),o(!1),e.handleConnect((e=>C(t,null,(function*(){var t;return yield n.connect({openUniversalLink:!An()&&!pn()&&zt(),tonProof:null==(t=l())?void 0:t.tonProof,redirect:null==e?void 0:e.returnStrategy,tmaReturnUrl:null==e?void 0:e.tmaReturnUrl})})))).then((e=>{r(e)})).catch((e=>{d("action-cancelled"),w.logDebug("TonSingleWalletModal connect error",JSON.stringify(e)),i(e)}))})),onClose:d,universalLinkParams:a,get lastSelectedWalletInfo(){return er()},setLastSelectedWalletInfo:nr,get language(){return un.language},connectError:r,walletConnector:()=>(Sn(!1),un.walletConnector.filter((e=>e.enable))),showRetry:!0,sessionConnecting:i})},ia={common:{openWallet:"",get:"",close:"",retry:""},button:{connectWallet:"",dropdown:{copy:"",copied:"",disconnect:""}},notifications:{confirm:{header:" {{ name }} "},transactionSent:{header:"",text:""},transactionCanceled:{header:"",text:""}},walletModal:{mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"",scanQR:"",continueIn:"",connectionDeclined:"",PoweredBy:"Powered by",appAndTelegram:{header:"",text:" App  Telegram "},connectApp:" App",connectMini:" Mini Wallet",connectInjected:"",connectInjectedOpening:"...",connectInjectedConfirm:""}},actionModal:{confirmTransaction:{header:" {{ name }} ",text:""},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"}},sa={en_US:aa({common:{openWallet:"Open wallet",get:"Get",close:"Close",retry:"Retry"},button:{connectWallet:"Connect wallet",dropdown:{copy:"Copy address",copied:"Address copied",disconnect:"Disconnect"}},notifications:{confirm:{header:"Open {{ name }} toconfirm."},transactionSent:{header:"Sent",text:"This actionwill becompleted inafew seconds."},transactionCanceled:{header:"Canceled",text:"Therell be no changes to your account."},transactionError:{header:"Error",text:"Therell be no changes to your account."}},walletModal:{mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"Show QR Code",scanQR:"Scan theQR code below with your phonesor{{ name }}s camera",continueIn:"Proceed in OKX Wallet",connectionDeclined:"Connection failed",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is available on OKX App and Telegram"},connectApp:"OKX App",connectMini:"OKX Mini Wallet",connectInjected:"OKX Wallet extension",connectInjectedOpening:"Opening OKX Wallet...",connectInjectedConfirm:"Confirm in OKX Wallet extension"}},actionModal:{confirmTransaction:{header:"Confirm in{{ name }}",text:"Itll only take a moment."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"}}),ru_RU:aa({common:{openWallet:" ",get:"",close:"",retry:" "},button:{connectWallet:" ",dropdown:{copy:" ",copied:" .",disconnect:""}},notifications:{confirm:{header:" {{ name }}   ."},transactionSent:{header:" ",text:"     ."},transactionCanceled:{header:" ",text:"    ."}},walletModal:{mobileConnectionModal:{showQR:" QR-",scanQR:" QR-        {{ name }}",continueIn:"     OKX",connectionDeclined:" ",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:" OKX    OKX   Telegram"},connectApp:"   OKX",connectMini:"  - OKX"}},actionModal:{confirmTransaction:{header:"   {{ name }}",text:"    ."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"}}),zh_CN:aa(ia),zh:aa(ia),ar_AE:aa({common:{openWallet:" ",get:"",close:"",retry:" "},button:{connectWallet:" ",dropdown:{copy:" ",copied:"  ",disconnect:" "}},notifications:{confirm:{header:" {{ name }}  ."},transactionSent:{header:" ",text:"      ."},transactionCanceled:{header:" ",text:"     ."}},walletModal:{mobileConnectionModal:{showQR:"  QR",scanQR:"  QR        {{ name }}",continueIn:"    OKX",connectionDeclined:" ",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:" OKX    OKX Telegram"},connectApp:"  OKX",connectMini:"  OKX "}},actionModal:{confirmTransaction:{header:"   {{ name }}",text:"    ."}}}),cs_CZ:aa({common:{openWallet:"Otevt penenku",get:"Zskat",close:"Zavt",retry:"Zkusit znovu"},button:{connectWallet:"Pipojit penenku",dropdown:{copy:"Koprovat adresu",copied:"Adresa zkoprovna",disconnect:"Odpojit"}},notifications:{confirm:{header:"Otevete {{ name }} a potvrte transakci."},transactionSent:{header:"Transakce odeslna",text:"Vae transakce bude zruena bhem nkolika sekund."},transactionCanceled:{header:"Transakce zruena",text:"Na vaem tu nedojde k dnm zmnm."}},walletModal:{mobileConnectionModal:{showQR:"Zobrazit QR kd",scanQR:"Naskenujte ne uveden QR kd pomoc kamery telefonu nebo {{ name }}",continueIn:"Potvrte transakci v OKX Penence.",connectionDeclined:"Pipojen selhalo",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Penenka je k dispozici v aplikaci OKX a na sti Telegram."},connectApp:"Pipojit k aplikaci OKX",connectMini:"Pipojit k minipenence OKX"}},actionModal:{confirmTransaction:{header:"Potvrte transakci na {{ name }}.",text:"Zabere to jen chvilku."}}}),de_DE:aa({common:{openWallet:"Wallet ffnen",get:"Erhalten",close:"Schlieen",retry:"Wiederholen"},button:{connectWallet:"Wallet verknpfen",dropdown:{copy:"Adresse kopieren",copied:"Adresse kopiert",disconnect:"Trennen"}},notifications:{confirm:{header:"{{ name }} ffnen und Transaktion besttigen."},transactionSent:{header:"Transaktion gesendet",text:"Ihre Transaktion wird in wenigen Sekunden bearbeitet."},transactionCanceled:{header:"Transaktion storniert",text:"Es werden keine nderungen an Ihrem Konto vorgenommen."}},walletModal:{mobileConnectionModal:{showQR:"QR-Code anzeigen",scanQR:"Scannen Sie den QR-Code unten mit der Kamera Ihres Telefons oder {{ name }}",continueIn:"Setzen Sie die Transaktion in der OKX Wallet fort",connectionDeclined:"Verbindung fehlgeschlagen",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet ist in der OKX App und auf Telegram verfgbar"},connectApp:"Mit der OKX-App verbinden",connectMini:"Mit der OKX-Mini-Wallet verbinden"}},actionModal:{confirmTransaction:{header:"Transaktion in {{ name }} besttigen",text:"Es dauert nur einen Augenblick."}}}),es_ES:aa({common:{openWallet:"Abrir wallet",get:"Consigue",close:"Cerrar",retry:"Volver a intentar"},button:{connectWallet:"Conectar billetera",dropdown:{copy:"Copiar direccin",copied:"Direccin copiada",disconnect:"Desconectar"}},notifications:{confirm:{header:"Abre {{ name }} para confirmar la transaccin."},transactionSent:{header:"Transaccin enviada",text:"Tu transaccin se procesar en unos segundos."},transactionCanceled:{header:"Transaccin cancelada",text:"No se realizarn cambios en tu cuenta."}},walletModal:{mobileConnectionModal:{showQR:"Mostrar cdigo QR",scanQR:"Escanea el siguiente cdigo QR con la cmara de tu telfono o de tu {{ name }}",continueIn:"Continuar con la transaccin en OKX Wallet",connectionDeclined:"Error de conexin",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible en la OKX app y en Telegram"},connectApp:"Conectarse a la OKX app",connectMini:"Conectarse a la OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirma la transaccin de {{ name }}",text:"Solo te llevar un momento."}}}),es_LAT:aa({common:{openWallet:"Abrir billetera",get:"Obtener",close:"Cerrar",retry:"Reintentar"},button:{connectWallet:"Conectar billetera",dropdown:{copy:"Copiar direccin",copied:"Direccin copiada",disconnect:"Desconectar"}},notifications:{confirm:{header:"Abre {{ name }} para confirmar la transaccin."},transactionSent:{header:"Transaccin enviada",text:"Tu transaccin se procesar en unos segundos."},transactionCanceled:{header:"Transaccin cancelada",text:"No habr cambios en tu cuenta."}},walletModal:{mobileConnectionModal:{showQR:"Mostrar cdigo QR",scanQR:"Escanea el siguiente cdigo QR con la cmara de tu telfono o {{ name }}",continueIn:"Contina la transaccin en OKX Wallet",connectionDeclined:"Error de conexin",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible en la aplicacin de OKX y Telegram"},connectApp:"Conctate a la aplicacin de OKX",connectMini:"Conctate a la OKXMini Wallet"}},actionModal:{confirmTransaction:{header:"Confirmar la transaccin en {{ name }}",text:"Solo tomar un momento."}}}),fr_FR:aa({common:{openWallet:"Portefeuille ouvert",get:"Obtenir",close:"Fermer",retry:"Ressayer"},button:{connectWallet:"Connecter le portefeuille",dropdown:{copy:"Copier ladresse",copied:"Adresse copie",disconnect:"Dconnecter"}},notifications:{confirm:{header:"Ouvrir {{ name }} pour confirmer la transaction."},transactionSent:{header:"Transaction envoye",text:"Votre transaction sera traite en quelques secondes."},transactionCanceled:{header:"Transaction annule",text:"Aucun changement ne sera apport  votre compte."}},walletModal:{mobileConnectionModal:{showQR:"Afficher le code QR",scanQR:"Scannez le code QR ci-dessous avec la camra de votre tlphone ou de votre {{ name }}.",continueIn:"Poursuivre la transaction dans OKX Wallet",connectionDeclined:"chec de la connexion",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible sur OKX App et Telegram"},connectApp:"Se connecter  lappli OKX",connectMini:"Se connecter  OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirmer la transaction dans {{ name }}",text:"Cela ne prendra qu'un instant."}}}),id_ID:aa({common:{openWallet:"Buka wallet",get:"Dapatkan",close:"Tutup",retry:"Coba lagi"},button:{connectWallet:"Hubungkan wallet",dropdown:{copy:"Salin alamat",copied:"Alamat disalin",disconnect:"Putuskan sambungan"}},notifications:{confirm:{header:"Buka {{ name }} untuk mengonfirmasi transaksi."},transactionSent:{header:"Transaksi terkirim",text:"Transaksi Anda akan diproses dalam beberapa detik."},transactionCanceled:{header:"Transaksi dibatalkan",text:"Tidak akan ada perubahan pada akun Anda."}},walletModal:{mobileConnectionModal:{showQR:"Tampilkan Kode QR",scanQR:"Pindai kode QR di bawah dengan kamera ponsel atau {{ name }} Anda",continueIn:"Lanjutkan transaksi di OKX Wallet",connectionDeclined:"Koneksi gagal",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet tersedia di OKX App dan Telegram"},connectApp:"Hubungkan ke OKX App",connectMini:"Hubungkan ke OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Konfirmasi transaksi pada {{ name }}",text:"Hanya perlu beberapa saat."}}}),it_IT:aa({common:{openWallet:"Apri portafoglio",get:"Ottieni",close:"Chiudi",retry:"Riprova"},button:{connectWallet:"Connetti il portafoglio",dropdown:{copy:"Copia indirizzo",copied:"Indirizzo copiato",disconnect:"Disconnetti"}},notifications:{confirm:{header:"Apri {{ name }} per confermare la transazione."},transactionSent:{header:"Transazione inviata",text:"La transazione verr elaborata in pochi secondi."},transactionCanceled:{header:"Transazione annullata",text:"Il tuo conto non subir modifiche."}},walletModal:{mobileConnectionModal:{showQR:"Mostra il codice QR",scanQR:"Scansiona il codice QR di seguito con la fotocamera del tuo smartphone o {{ name }}",continueIn:"Continua la transazione in OKX Wallet",connectionDeclined:"Collegamento non riuscito",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet  disponibile sull'app OKX e Telegram"},connectApp:"Connettiti all'app OKX",connectMini:"Connettiti a OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Conferma la transazione in {{ name }}",text:"Ci vorr solo un secondo."}}}),nl_NL:aa({common:{openWallet:"Wallet openen",get:"Krijgen",close:"Sluiten",retry:"Opnieuw proberen"},button:{connectWallet:"Wallet koppelen",dropdown:{copy:"Adres kopiren",copied:"Adres gekopieerd",disconnect:"Verbinding verbreken"}},notifications:{confirm:{header:"Open {{ name }} om de transactie te bevestigen."},transactionSent:{header:"Transactie verstuurd",text:"Je transactie wordt binnen een paar seconden verwerkt."},transactionCanceled:{header:"Transactie geannuleerd",text:"Er verandert niets aan je account."}},walletModal:{mobileConnectionModal:{showQR:"QR-code weergeven",scanQR:"Scan de QR-code hieronder met de camera van je telefoon of de camera van{{ name }}",continueIn:"Ga verder met de transactie in OKX Wallet",connectionDeclined:"Koppelen mislukt",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is beschikbaar op OKX App en Telegram"},connectApp:"Koppelen met de OKX-app",connectMini:"Koppelen met OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"De transactie in {{ name }} bevestigen",text:"Het is zo gebeurd."}}}),pl_PL:aa({common:{openWallet:"Otwrz portfel",get:"Otrzymaj",close:"Zamknij",retry:"Sprbuj ponownie"},button:{connectWallet:"Pocz portfel",dropdown:{copy:"Kopiuj adres",copied:"Adres skopiowany",disconnect:"Rozcz"}},notifications:{confirm:{header:"Otwrz {{ name }}, aby potwierdzi transakcj."},transactionSent:{header:"Wysano transakcj",text:"Transakcja zostanie przetworzona w cigu kilku sekund."},transactionCanceled:{header:"Anulowano transakcj",text:"Na koncie nie zostan wprowadzone adne zmiany."}},walletModal:{mobileConnectionModal:{showQR:"Poka kod QR",scanQR:"Zeskanuj poniszy kod QR za pomoc aparatu w telefonie lub {{ name }}",continueIn:"Kontynuuj transakcj w OKX Wallet",connectionDeclined:"Poczenie nieudane",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet jest dostpny w aplikacji OKX i Telegramie"},connectApp:"Pocz z aplikacj OKX",connectMini:"Pocz z OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Potwierd transakcj w {{ name }}",text:"To zajmie tylko chwil."}}}),pt_BR:aa({common:{openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},button:{connectWallet:"Conectar carteira",dropdown:{copy:"Copiar endereo",copied:"Endereo copiado",disconnect:"Desconectar"}},notifications:{confirm:{header:"Abrir {{ name }} para confirmar a transao."},transactionSent:{header:"Transao enviada",text:"Sua transao ser processada em alguns segundos."},transactionCanceled:{header:"Transao cancelada",text:"No haver alteraes em sua conta."}},walletModal:{mobileConnectionModal:{showQR:"Mostrar Cdigo QR",scanQR:"Digitalize o cdigo QR abaixo com a cmera do seu telefone ou do {{ name }}",continueIn:"Continuar a transao na OKX Wallet",connectionDeclined:"Falha na conexo",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet est disponvel na OKX App e no Telegram"},connectApp:"Conecte-se  OKX App",connectMini:"Conecte-se  OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirmar a transao em {{ name }}",text:"Isso levar apenas um momento."}}}),pt_PT:aa({common:{openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},button:{connectWallet:"Associar carteira",dropdown:{copy:"Copiar endereo",copied:"Endereo copiado",disconnect:"Desassociar"}},notifications:{confirm:{header:"Abra {{ name }} para confirmar a transao."},transactionSent:{header:"Transao efetuada",text:"A sua transao ser processada dentro de poucos segundos."},transactionCanceled:{header:"Transao cancelada",text:"No sero feitas alteraes  sua conta."}},walletModal:{mobileConnectionModal:{showQR:"Mostrar cdigo QR",scanQR:"Leia o cdigo QR abaixo com a cmara do seu telemvel ou {{ name }}",continueIn:"Continuar a transao na OKX Wallet",connectionDeclined:"Falha na ligao",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet est disponvel na Aplicao da OKX e no Telegram"},connectApp:"Associar  Aplicao da OKX",connectMini:"Associar  OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirmar a transao na {{ name }}",text:"Demora apenas um momento."}}}),ro_RO:aa({common:{openWallet:"Deschidei portofelul",get:"Primii",close:"nchidei",retry:"Rencercai"},button:{connectWallet:"Conectai portofelul",dropdown:{copy:"Copiai adresa",copied:"Adres copiat",disconnect:"Deconectai"}},notifications:{confirm:{header:"Deschidei {{ name }} pentru a confirma tranzacia."},transactionSent:{header:"Tranzacie trimis",text:"Tranzacia dvs. va fi procesat n cteva secunde."},transactionCanceled:{header:"Tranzacie anulat",text:"Nu va exista nicio modificare n cont."}},walletModal:{mobileConnectionModal:{showQR:"Scanai codul QR",scanQR:"Scanai codul QR mai jos cu camera telefonului sau a {{ name }}",continueIn:"Continuai tranzacia n OKX Wallet",connectionDeclined:"Conexiunea a euat",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet este disponibil din aplicaia OKX i Telegram"},connectApp:"Conectai-v la aplicaia OKX",connectMini:"Conectai-v la OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirmai tranzacia n {{ name }}",text:"Va dura doar un moment."}}}),tr_TR:aa({common:{openWallet:"Czdan a",get:"Al",close:"Kapat",retry:"Tekrar Dene"},button:{connectWallet:"Czdan bala",dropdown:{copy:"Adresi kopyala",copied:"Adres kopyaland!",disconnect:"Balanty kes"}},notifications:{confirm:{header:"lemi onaylamak iin {{ name }} gesini an."},transactionSent:{header:"lem gnderildi.",text:"leminiz birka saniye iinde gerekletirilecek."},transactionCanceled:{header:"lem iptal edildi!",text:"Hesabnzda deiiklik olmayacak."}},walletModal:{mobileConnectionModal:{showQR:"QR Kodunu Gster",scanQR:"Aadaki QR kodunu telefonunuzun veya {{ name }} cihaznzn kamerasyla tarayn.",continueIn:"leme OKX Web3 Czdanda devam edin.",connectionDeclined:"Balant baarsz.",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Web3 Czdan, OKX Uygulamasnda ve Telegramda kullanma sunuldu"},connectApp:"OKX Uygulamasna Balan",connectMini:"OKX Mini Czdanna Balan"}},actionModal:{confirmTransaction:{header:"{{ name }} Konumunda lemi Onaylayn",text:"Bu yalnzca bir dakikanz alacak."}}}),uk_UA:aa({common:{openWallet:" ",get:"",close:"",retry:" "},button:{connectWallet:" ",dropdown:{copy:" ",copied:" ",disconnect:""}},notifications:{confirm:{header:" {{ name }},   ."},transactionSent:{header:" ",text:"      ."},transactionCanceled:{header:" ",text:"     ."}},walletModal:{mobileConnectionModal:{showQR:" QR-",scanQR:"   QR-       {{ name }}",continueIn:"   OKX Wallet",connectionDeclined:" ",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX     OKX  Telegram"},connectApp:"   OKX",connectMini:"   OKX"}},actionModal:{confirmTransaction:{header:"   {{ name }}",text:"   ."}}}),vi_VN:aa({common:{openWallet:"M v",get:"Nhn",close:"ng",retry:"Th li"},button:{connectWallet:"Kt ni v",dropdown:{copy:"Sao chp a ch",copied:" sao chp a ch",disconnect:"Ngt kt ni"}},notifications:{confirm:{header:"M {{ name }}  xc nhn giao dch."},transactionSent:{header:" gi giao dch",text:"Giao dch ca bn s c x l trong vi giy."},transactionCanceled:{header:" hy giao dch",text:"Khng c thay i no vi ti khon ca bn."}},walletModal:{mobileConnectionModal:{showQR:"Hin th m QR",scanQR:"Qut m QR bn di bng my nh in thoi hoc {{ name }} ca bn",continueIn:"Tip tc giao dch trn V Web3 OKX",connectionDeclined:"Kt ni khng thnh cng",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"V Web3 OKX hin c trn c ng dng OKX v Telegram"},connectApp:"Kt ni ng dng OKX",connectMini:"Kt ni V Web3 OKX Mini"}},actionModal:{confirmTransaction:{header:"Xc nhn giao dch trong {{ name }}",text:"N ch mt cht thi gian."}}}),zh_TW:aa({common:{openWallet:"",get:"",close:"",retry:""},button:{connectWallet:"",dropdown:{copy:"",copied:"",disconnect:""}},notifications:{confirm:{header:" {{ name }} "},transactionSent:{header:"",text:""},transactionCanceled:{header:"",text:""}},walletModal:{mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"",scanQR:" OKX ",continueIn:" OKX ",connectionDeclined:"",PoweredBy:"Powered by",appAndTelegram:{header:" OKX ",text:" OKX  OKX App  Telegram "},connectApp:" OKX App",connectMini:" OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:" {{ name }} ",text:""}}})};function aa(e){const t=n=>{Object.entries(n).forEach((([r,o])=>{if("object"==typeof o&&o)return t(o);if("string"==typeof o){if("$"===o[0]){const t=o.slice(1).split(".");let i=e;t.forEach((e=>{if(!(e in i))throw new Error(`Cannot parse translations: there is no property ${e} in translation`);i=i[e]})),n[r]=i}"\\$"===o.slice(0,2)&&(n[r]=o.slice(1))}}))};return t(e),e}const ca=wt.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 8px;
`,la=wt(No)`
    margin-top: 16px;
`,da=wt(bo)`
    font-weight: 400;
    font-size: 16px;
    line-height: 20px;
    text-align: center;
    max-width: 250px;
    margin-top: 10px;
    color: ${e=>e.theme.colors.text.contrast};
`;wt(ur)`
    min-width: 112px;
    margin-top: 32px;
`,wt(xr)`
    height: 16px;
    width: 16px;
`;const ua=wt.div`
    margin-top: 24px;
  background-color: ${e=>e.theme.colors.text.primary};
  height: 48px;
  width: 262px;
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`,ha=e=>{const t=dr(e),n=ae(Ho);G(!0);const[r,o]=G(!1),i=bt(),{action:s}=ae(ya);Y((()=>{o(!!s&&"sent"in s&&s.sent)}));const a=()=>{w.logDebug("ActionModal ====> onOpenWallet "),null==n||n.openWallet()};return Se(ca,Pe(t,{get children(){return[Q((()=>e.icon)),Se(la,{get translationKey(){return e.headerTranslationKey},get translationValues(){return e.headerTranslationValues},get children(){return e.headDefaultString}}),Se(da,{get translationKey(){return e.textTranslationKey},get translationValues(){return e.textTranslationValues}}),Se(xe,{get when(){return null==n?void 0:n.showActionButton()},get children(){return[Se(xe,{get when(){return"close"===e.showButton},get children(){return Se(ua,{onClick:()=>e.onClose(),get children(){return Se(bo,{fontWeight:700,fontSize:"16px",get color(){return i.colors.background.primary},get children(){return Se(Ts,{translationKey:"common.close",children:"Close"})}})}})}}),Se(xe,{get when(){return"open-wallet"===e.showButton},get children(){return Se(ua,{onClick:a,get children(){return Se(bo,{fontWeight:700,fontSize:"16px",get color(){return i.colors.background.primary},get children(){return Se(Ts,{translationKey:"common.openWallet",children:"Open wallet"})}})}})}})]}})]}}))},fa=e=>{const t=ae(Ho),[n]=yo();return Se(ha,{headerTranslationKey:"actionModal.confirmTransaction.header",get headerTranslationValues(){return{name:t.walletName?t.walletName:n("common.yourWallet",{},"Your wallet")}},textTranslationKey:"actionModal.confirmTransaction.text",get icon(){return Se(ss,{})},onClose:()=>e.onClose(),get showButton(){return zt()?"open-wallet":void 0},"data-tc-confirm-modal":"true"})},ga=e=>Se(ha,{headerTranslationKey:"actionModal.transactionCanceled.header",textTranslationKey:"actionModal.transactionCanceled.text",get icon(){return Se(Pr,{size:"m"})},onClose:()=>e.onClose(),get showButton(){return zt()?"close":void 0},"data-tc-transaction-canceled-modal":"true"}),pa=e=>Se(ha,{headerTranslationKey:"actionModal.transactionSent.header",textTranslationKey:"actionModal.transactionSent.text",get icon(){return Se(Nr,{size:"m"})},onClose:()=>e.onClose(),get showButton(){return zt()?"close":void 0},"data-tc-transaction-sent-modal":"true"}),ma=e=>Se(ha,{headerTranslationKey:"actionModal.transactionError.header",textTranslationKey:"actionModal.transactionCanceled.text",headDefaultString:"Error",get icon(){return Se(Pr,{size:"m"})},onClose:()=>e.onClose(),get showButton(){return zt()?"close":void 0},"data-tc-transaction-error-modal":"true"}),ya=se({action:null}),va=e=>(Y((()=>{console.log("ActionsModal",e.action)})),Se(ya.Provider,{get value(){return{action:e.action}},get children(){return Se(to,{get opened(){var t;return null!==e.action&&!0===(null==(t=e.action)?void 0:t.openModal)},onClose:()=>e.setAction(null),"data-tc-actions-modal-container":"true",get children(){return Se(Me,{get children(){return[Se(Ke,{get when(){return"transaction-sent"===e.action.name},get children(){return Se(pa,{onClose:()=>e.setAction(null)})}}),Se(Ke,{get when(){return"transaction-canceled"===e.action.name},get children(){return Se(ga,{onClose:()=>e.setAction(null)})}}),Se(Ke,{get when(){return"confirm-transaction"===e.action.name},get children(){return Se(fa,{onClose:()=>e.setAction(null)})}}),Se(Ke,{get when(){return"transaction-error"===e.action.name},get children(){return Se(ma,{onClose:()=>e.setAction(null)})}})]}})}})}})),ba={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#0098EA",telegramButton:"#0098EA",qrFill:"#000000",icon:{primary:"#0F0F0F",secondary:"#7A8999",tertiary:"#C1CAD2",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#FFFFFF",secondary:"#F1F3F5",segment:"#FFFFFF",tint:"#F1F3F5",qr:"#FFFFFF"},text:{primary:"#000000",secondary:"#6A7785",contrast:"#909090"},border:{primary:"#00000014",secondary:"#00000024"},disable:"#B3B3B3"},Ca={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#E5E5EA",telegramButton:"#31A6F5",qrFill:"#FFFFFF",icon:{primary:"#E5E5EA",secondary:"#909099",tertiary:"#434347",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#121214",secondary:"#18181A",segment:"#262629",tint:"#222224",qr:"#121214"},text:{primary:"#FFFFFF",secondary:"#7D7D85",contrast:"#909090"},border:{primary:"#FFFFFF1F",secondary:"#FFFFFF30"},disable:"#5B5B5B"},[wa,_a]=cn({theme:A.LIGHT,colors:ba,borderRadius:"m"}),Oa={[A.LIGHT]:ba,[A.DARK]:Ca};function Ea(e){_a({theme:e,colors:Oa[e]})}A.LIGHT,A.DARK;const Sa=e=>{const t=po(sa,un.language);return Ln(),jn(),Se(mo.Provider,{value:t,get children(){return Se(Ho.Provider,{get value(){return e.connectUI},get children(){return Se(zi.Provider,{get value(){return un.connector},get children(){return[Se(Nt,{}),Se(vt,{theme:wa,get children(){return[Se(xe,{get when(){return un.buttonRootId},get children(){return Se(st,{get mount(){return document.getElementById(un.buttonRootId)},get children(){return Se(qi,{})}})}}),Se(at,{component:Ot,style:{position:"relative","z-index":3001},get children(){return[Se(oa,{}),Se(va,{get action(){return rr()},setAction:or})]}})]}})]}})}})}})},Na=e=>{setTimeout((()=>or(e)))};function Ta(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ra(e){var t,n;return!1!==Ta(e)&&(void 0===(t=e.constructor)||!1!==Ta(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}function ka(e,t){return e?P.default(t,e,{arrayMerge:(e,t,n)=>t,isMergeableObject:Ra}):t}class Pa{constructor(){b(this,"consumers",[]),Y((()=>{const e=rr();this.consumers.forEach((t=>t(e)))}))}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter((t=>t!==e))}}}var Aa=(e=>(e.OKX_UI_CONNECTION_STARTED="okx-connect-ui-connection-started",e.OKX_UI_CONNECTION_COMPLETED="okx-connect-ui-connection-completed",e.OKX_UI_CONNECTION_ERROR="okx-connect-ui-connection-error",e.OKX_UI_CONNECTION_RESTORING_STARTED="okx-connect-ui-connection-restoring-started",e.OKX_UI_CONNECTION_RESTORING_COMPLETED="okx-connect-ui-connection-restoring-completed",e.OKX_UI_CONNECTION_RESTORING_ERROR="okx-connect-ui-connection-restoring-error",e.OKX_UI_DISCONNECTION="okx-connect-ui-disconnection",e.OKX_UI_TRANSACTION_SENT_FOR_SIGNATURE="okx-connect-ui-transaction-sent-for-signature",e.OKX_UI_TRANSACTION_SIGNED="okx-connect-ui-transaction-signed",e.OKX_UI_TRANSACTION_SIGNING_FAILED="okx-connect-ui-transaction-signing-failed",e))(Aa||{});class Ia{constructor(e){var t;b(this,"eventPrefix","okx-connect-ui-"),b(this,"OKXConnectUiVersion"),b(this,"OKXtonConnectSdkVersion",null),b(this,"eventDispatcher"),this.eventDispatcher=null!=(t=null==e?void 0:e.eventDispatcher)?t:new _.BrowserEventDispatcher,this.OKXConnectUiVersion=e.tonConnectUiVersion,this.init().catch()}get version(){return _.createVersionInfo({okx_ton_connect_sdk_lib:this.OKXtonConnectSdkVersion,okx_connect_ui_lib:this.OKXConnectUiVersion})}init(){return C(this,null,(function*(){try{yield this.setRequestVersionHandler(),this.OKXtonConnectSdkVersion=yield this.requestTonConnectSdkVersion()}catch(e){console.log("okx-ton-connect-response-version  init error  ====> requestTonConnectSdkVersion")}}))}setRequestVersionHandler(){return C(this,null,(function*(){yield this.eventDispatcher.addEventListener("okx-connect-ui-request-version",(()=>C(this,null,(function*(){yield this.eventDispatcher.dispatchEvent("okx-connect-ui-response-version",_.createResponseVersionEvent(this.OKXConnectUiVersion))}))))}))}requestTonConnectSdkVersion(){return C(this,null,(function*(){return new Promise(((e,t)=>C(this,null,(function*(){try{yield this.eventDispatcher.addEventListener("okx-ton-connect-response-version",(t=>{e(t.detail.version)}),{once:!0}),yield this.eventDispatcher.dispatchEvent("okx-ton-connect-request-version",_.createRequestVersionEvent())}catch(e){console.log(`okx-ton-connect-response-version    ====> ${e.message}`),t(e)}}))))}))}dispatchUserActionEvent(e){var t;try{null==(t=this.eventDispatcher)||t.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch(e){}}trackConnectionStarted(...e){try{const t=_.createConnectionStartedEvent(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionCompleted(...e){try{const t=_.createConnectionCompletedEvent(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionError(...e){try{const t=_.createConnectionErrorEvent(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringStarted(...e){try{const t=_.createConnectionRestoringStartedEvent(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringCompleted(...e){try{const t=_.createConnectionRestoringCompletedEvent(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringError(...e){try{const t=_.createConnectionRestoringErrorEvent(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackDisconnection(...e){try{const t=_.createDisconnectionEvent(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSentForSignature(...e){try{const t=_.createTransactionSentForSignatureEvent(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSigned(...e){try{const t=_.createTransactionSignedEvent(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSigningFailed(...e){try{const t=_.createTransactionSigningFailedEvent(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}}class Da{constructor(e){b(this,"consumers",[]),b(this,"getWalltsInfo"),b(this,"state",$n()),this.getWalltsInfo=e.getWalltsInfo,Y((()=>{const e=$n();this.state=e,this.consumers.forEach((t=>t(e)))}))}open(e){return C(this,null,(function*(){const t=this.getWalltsInfo().find((t=>fn(t,e)));if(t)return this.openSingleWalletModal(t);throw new I(`Trying to open modal window with unknown wallet "${e}".`)}))}close(e="action-cancelled"){(e=>{setTimeout((()=>Gn({status:"closed",closeReason:e})))})(e)}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter((t=>t!==e))}}handleConnect(e,t){return C(this,null,(function*(){return new Promise(((n,r)=>{try{e(t).then((e=>{n(e),w.logDebug("TonSingleWalletModalManager  result >>>",JSON.stringify(e))})).catch((e=>{r(e),w.logDebug("TonSingleWalletModalManager  error >>>",JSON.stringify(e))}))}catch(e){r(e),w.logDebug("TonSingleWalletModalManager  catch error >>>",JSON.stringify(e))}}))}))}openSingleWalletModal(e){return C(this,null,(function*(){var t,n,r;if(Mt()&&Kt(),Sn(!1),!un.walletConnector.some((e=>e.enable)))throw new w.OKXConnectError(w.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);const o=new Promise((e=>{const t=this.onStateChange((n=>{const{status:r}=n;"opened"===r&&(t(),e())}))}));if(1!=un.walletConnector.length||(null==(t=un.walletConnector[0])?void 0:t.getTag())!==w.OKX_INJECT_WALLET||"loading"===(null==(n=un.connectRequestParameters)?void 0:n.state))return i=e,w.logDebug(`tonWidgetController : openSingleWalletModal : ${JSON.stringify(i)}`),setTimeout((()=>Gn({status:"opened",closeReason:null,walletInfo:i}))),o;var i;{let e=un.walletConnector[0];const t=un.connector;if(t){window.addEventListener("okx-ton-connect-connection-info-before-jump",(t=>{const n=t;w.logDebug("TON   :::",JSON.stringify(n.detail)),n.detail&&"connectInfo"in n.detail&&e.openWallet(n.detail.connectInfo)}));let n=null==(r=un.connectRequestParameters)?void 0:r.value.tonProof,o={openUniversalLink:!1};n&&(o.tonProof=n),yield t.connect(o)}}}))}}const xa=["en_US","ru_RU","zh_CN","zh","ar_AE","cs_CZ","de_DE","es_ES","es_LAT","fr_FR","id_ID","it_IT","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","tr_TR","uk_UA","vi_VN","zh_TW"];function Ma(e){return xa.includes(e)}class Ka{constructor(e){if(b(this,"walletInfoStorage",new Jn("okx-wallet-connect-ui-ton_wallet-info")),b(this,"tracker"),b(this,"walletInfo",null),b(this,"systemThemeChangeUnsubscribe",null),b(this,"actionsConfiguration"),b(this,"walletsList"),b(this,"connectRequestParametersCallback"),b(this,"connector"),b(this,"singleWalletModal"),b(this,"transactionModal"),b(this,"connectionRestored",Promise.resolve(!1)),b(this,"defaultConnector",function(){let e=[];return Dn()||e.push(new w.AppwalletConnector),gn()&&e.push(new w.TgwalletConnector),An()&&e.push(new w.OkxwalletInjectTonsdkConnector),e}()),b(this,"dispose"),w.logDebug("OKXTonConnectUI constructor() option:",JSON.stringify(e)),!(e&&"dappMetaData"in e&&e.dappMetaData))throw new I("You have to specify a `dappMetaData`in the options.");var t;this.connector=new _.OKXTonConnect({metaData:e.dappMetaData,connectors:this.defaultConnector}),e.language&&!Ma(e.language.toString())&&(e.language="en_US"),this.tracker=new Ia({eventDispatcher:null,tonConnectUiVersion:"1"}),this.singleWalletModal=new Da({getWalltsInfo:()=>_.OKXTonConnect.getWallets()}),this.transactionModal=new Pa,this.walletsList=this.getWallets(),Wn((t=this.walletsList.map((e=>e.imageUrl)),[...new Set(t)]));const n=this.normalizeWidgetRoot(void 0);var r,o;this.subscribeToWalletChange(),!1!==(null==e?void 0:e.restoreConnection)&&(this.connectionRestored=function(e){return C(this,null,(function*(){return yield new Promise((e=>requestAnimationFrame(e))),e()}))}((()=>C(this,null,(function*(){return this.tracker.trackConnectionRestoringStarted(),yield this.connector.restoreConnection(),this.connector.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):(this.tracker.trackConnectionRestoringError("Connection was not restored"),this.walletInfoStorage.removeWalletInfo()),this.connector.connected}))))),this.uiOptions=ka(e,{uiPreferences:{theme:"SYSTEM"}}),hn({connector:this.connector,preferredWalletAppName:void 0,walletConnector:this.defaultConnector,dappMetaData:e.dappMetaData}),this.dispose=(r=n,o=this,Je((()=>Se(Sa,{connectUI:o})),document.getElementById(r)))}static getWallets(){return _.OKXTonConnect.getWallets()}get connected(){return this.connector.connected}get account(){return this.connector.account}get wallet(){return this.connector.wallet?y(y({},this.connector.wallet),this.walletInfo):null}get walletName(){if(this.wallet&&"name"in this.wallet)return this.wallet.name}set uiOptions(e){var t,n,r;w.logDebug("OKXTonConnectUI uiOptions() called"),this.checkButtonRootExist(e.buttonRootId),this.actionsConfiguration=e.actionsConfiguration,(null==(t=e.uiPreferences)?void 0:t.theme)&&("SYSTEM"!==(null==(n=e.uiPreferences)?void 0:n.theme)?(null==(r=this.systemThemeChangeUnsubscribe)||r.call(this),Ea(e.uiPreferences.theme)):(Ea(Kn()),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=Un(Ea)))),hn((t=>{var n,r;const o=ka(y(y(y({},e.language&&{language:e.language}),!!(null==(n=e.actionsConfiguration)?void 0:n.returnStrategy)&&{returnStrategy:e.actionsConfiguration.returnStrategy}),(null==(r=e.actionsConfiguration)?void 0:r.tmaReturnUrl)&&{tmaReturnUrl:e.actionsConfiguration.tmaReturnUrl}),Qt(t));return void 0!==e.buttonRootId&&(o.buttonRootId=e.buttonRootId),o}))}destory(){this.dispose&&this.dispose()}setConnectRequestParameters(e){var t;hn({connectRequestParameters:e}),"ready"!==(null==e?void 0:e.state)&&e||null==(t=this.connectRequestParametersCallback)||t.call(this,{tonProof:e.value.tonProof})}getWallets(){return[w.creatOKXWalletInfo(),w.creatOKXMiniAppWalletInfo()]}onStatusChange(e,t){return this.connector.onStatusChange((t=>C(this,null,(function*(){if(t){yield this.getSelectedWalletInfo(t);let n=this.getWalletInfo(t);w.logDebug("OKXTonConnectUI onStatusChange info :",JSON.stringify(n)),w.logDebug("OKXTonConnectUI onStatusChange wallet :",JSON.stringify(t)),e(y(y({},t),n||this.getWallets()[0]))}else e(t)}))),t)}handleConnect(e){return C(this,null,(function*(){return this.singleWalletModal.handleConnect(e,this.actionsConfiguration)}))}openModal(){return C(this,null,(function*(){return w.logDebug("OKXTonConnectUI openModal() called"),new Promise(((e,t)=>C(this,null,(function*(){yield Promise.all([this.waitForWalletConnection({}),this.openSingleWalletModal("okxAppWallet")]).catch((e=>{t(e)}))}))))}))}closeModal(e){this.closeSingleWalletModal(e)}waitForWalletConnection(e){return C(this,null,(function*(){return new Promise(((e,t)=>{const n=n=>C(this,null,(function*(){n?(this.tracker.trackConnectionCompleted(n),o(),e(n)):(this.tracker.trackConnectionError("Connection was cancelled"),o(),t(new I("Wallet was not connected")))})),r=e=>{this.tracker.trackConnectionError(e.message),o(),t(e)},o=this.onStatusChange((e=>n(e)),(e=>r(e)))}))}))}onModalStateChange(e){return this.onSingleWalletModalStateChange(e)}get modalState(){return this.singleWalletModalState}openSingleWalletModal(e){return C(this,null,(function*(){this.tracker.trackConnectionStarted();try{return this.singleWalletModal.open(e)}catch(e){throw this.tracker.trackConnectionError(e.message),e}}))}closeSingleWalletModal(e){"action-cancelled"===e&&this.tracker.trackConnectionError("Connection was cancelled"),this.singleWalletModal.close(e)}onSingleWalletModalStateChange(e){return this.singleWalletModal.onStateChange(e)}get singleWalletModalState(){return this.singleWalletModal.state}disconnect(){return w.logDebug("OKXTonConnectUI disconnect() called"),this.tracker.trackDisconnection(this.wallet,"dapp"),setTimeout((()=>{console.log("clearAction"),or(null)})),nr(null),this.walletInfoStorage.removeWalletInfo(),this.connector.disconnect()}sendTransaction(e,t){return C(this,null,(function*(){return w.logDebug("OKXTonConnectUI sendTransaction() called"),this.sendTransactionInner(e,{returnStrategy:null==t?void 0:t.returnStrategy,modals:null==t?void 0:t.modals})}))}sendTransactionInner(e,t){return C(this,null,(function*(){var n,r;if(this.tracker.trackTransactionSentForSignature(this.wallet,e),!this.connected)throw this.tracker.trackTransactionSigningFailed(this.wallet,e,"Wallet was not connected"),new I("Connect wallet to send a transaction.");Mt()&&Kt();const o={returnStrategy:Bt("mobile")&&"qrcode"!==(null==(n=er())?void 0:n.openMethod)?null==t?void 0:t.returnStrategy:"none",modals:null==t?void 0:t.modals,tmaReturnUrl:null!=(r=null==t?void 0:t.tmaReturnUrl)?r:"back"},{modals:i,returnStrategy:s,tmaReturnUrl:a}=this.getModalsAndNotificationsConfiguration(o);Na({name:"confirm-transaction",openModal:i.includes("before"),sent:!1});const c=()=>{var e,t,n;l.signal.aborted||(!this.connector.openUniversalLink&&kn(this.walletInfo,null==(e=er())?void 0:e.openMethod)&&(t=this.walletInfo,n=a,w.logDebug("wallets openTonWallet"),pn()&&Rn(t,n)),Na({name:"confirm-transaction",openModal:i.includes("before"),sent:!0}))},l=new AbortController,d=this.onTransactionModalStateChange((e=>{(null==e?void 0:e.openModal)||d()})),u=v(y({},e),{redirect:s});try{const t=yield this.waitForSendTransaction({transaction:u,signal:l.signal},c);return this.tracker.trackTransactionSigned(this.wallet,e,t),Na({name:"transaction-sent",openModal:i.includes("success")}),t}catch(e){throw e instanceof w.OKXConnectError?(e.code===w.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR?Na({name:"transaction-canceled",openModal:i.includes("error")}):Na({name:"transaction-error",openModal:i.includes("error")}),e):(Na({name:"transaction-error",openModal:i.includes("error")}),new I("Unhandled error:"+e))}finally{d()}}))}waitForSendTransaction(e,t){return C(this,null,(function*(){return new Promise(((n,r)=>{var o;const{transaction:i,signal:s}=e;if(s.aborted)return this.tracker.trackTransactionSigningFailed(this.wallet,i,"Transaction was cancelled"),r(new I("Transaction was not sent"));const a=e=>C(this,null,(function*(){n(e)})),c=()=>{this.tracker.trackTransactionSigningFailed(this.wallet,i,"Transaction was cancelled"),r(new I("Transaction was not sent"))};s.addEventListener("abort",c,{once:!0}),this.connector.sendTransaction(i,{doNotOpenWallet:!(zt()&&"qrcode"!==(null==(o=er())?void 0:o.openMethod)),onRequestSent:t}).then((e=>(s.removeEventListener("abort",c),a(e)))).catch((e=>(this.tracker.trackTransactionSigningFailed(this.wallet,i,e.message),s.removeEventListener("abort",c),(e=>{r(e)})(e))))}))}))}onTransactionModalStateChange(e){return this.transactionModal.onStateChange(e)}subscribeToWalletChange(){this.connector.onStatusChange((e=>C(this,null,(function*(){var t;e?(yield this.updateWalletInfo(e),this.setPreferredWalletAppName((null==(t=this.walletInfo)?void 0:t.appName)||e.device.appName)):this.walletInfoStorage.removeWalletInfo()}))))}setPreferredWalletAppName(e){hn({preferredWalletAppName:e})}getSelectedWalletInfo(e){return C(this,null,(function*(){let t,n=er();if(!n)return null;if("name"in n)t=n;else{const r=this.walletsList.find((t=>fn(t,e.device.appName)));if(!r)throw new I(`Cannot find WalletInfo for the '${e.device.appName}' wallet`);t=y(y({},r),n)}return t}))}updateWalletInfo(e){return C(this,null,(function*(){this.walletInfo=this.getWalletInfo(e),w.logDebug("updateWalletInfo ---this.walletInfo -",JSON.stringify(this.walletInfo))}))}getWalletInfo(e){w.logDebug("getWalletInfo ----",JSON.stringify(e));let t=this.walletsList.find((t=>fn(t,e.device.appName)))||null;return w.logDebug("getWalletInfo ---info -",JSON.stringify(t)),t}normalizeWidgetRoot(e){if(!e||!document.getElementById(e)){e="okxton-widget-root";const t=document.createElement("div");t.id=e,document.body.appendChild(t)}return e}checkButtonRootExist(e){if(null!=e&&!document.getElementById(e))throw new I(`${e} element not found in the document.`)}getModalsAndNotificationsConfiguration(e){var t,n,r;const o=["before","success","error"];let i=["before"];(null==(t=this.actionsConfiguration)?void 0:t.modals)&&(i="all"===this.actionsConfiguration.modals?o:this.actionsConfiguration.modals),(null==e?void 0:e.modals)&&(i="all"===e.modals?o:e.modals);const s=(null==e?void 0:e.returnStrategy)||(null==(n=this.actionsConfiguration)?void 0:n.returnStrategy)||"back";return{modals:i,tmaReturnUrl:(null==e?void 0:e.tmaReturnUrl)||(null==(r=this.actionsConfiguration)?void 0:r.tmaReturnUrl)||"back",returnStrategy:s}}showActionButton(){return Mn(this.walletInfo)}openWallet(e,t){var n;null==(n=this.connector.provider)||n.connectorOpenWallet()}}const[Ua,ja]=G({status:"closed",closeReason:null});Q((()=>"opened"===Ua().status));const[La,Ba]=G({status:"closed",closeReason:null}),Wa=Q((()=>"opened"===La().status)),Xa=Q((()=>{const e=La();return"opened"===e.status?e.walletInfo:null}));let Ha="undefined"!=typeof window?new Fn:void 0;const[za,Ja]=G((null==Ha?void 0:Ha.getLastSelectedWalletInfo())||null),Fa=e=>{Ha||(Ha=new Fn),e?(At(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(e)}`),Ha.setLastSelectedWalletInfo(e)):(At("modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo"),Ha.removeLastSelectedWalletInfo()),Ja(e)},[qa,Va]=G(null),$a=()=>{const e=ae(Ho),t=ae(Ji),[n,r]=G(null),[o,i]=G(!1),[s,a]=G(!1),c=t=>{e.closeModal(t)};return null==t||t.on("okx_engine_connect_params",(e=>{w.logDebug(`UniversalSigneWalletModal  okx_engine_connect_params  ${JSON.stringify(e)}`),r(e)})),null==t||t.on("session_connecting",(()=>{w.logDebug("UniversalSigneWalletModal  session_connecting  }"),a(!0)})),Y((()=>{Wa()||(i(!1),r(null),a(!1))})),Se(ra,{get opened(){return Wa()},get walletInfo(){return Xa()},loadingBeforeConnect:()=>!1,connect:()=>new Promise(((n,o)=>{var s,l;ln.connectRequestParameters&&new I("connect params is nil");let d=y({},JSON.parse(JSON.stringify(ln.connectRequestParameters)));var u,h;d.sessionConfig={},d.sessionConfig.openUniversalUrl=(u=null==(s=ln.connectRequestParameters)?void 0:s.namespaces,h=null==(l=ln.connectRequestParameters)?void 0:l.optionalNamespaces,!An()&&!_n(u,h)&&zt()),i(!1),r(null),a(!1),e.handleConnect((e=>(d.sessionConfig.tmaReturnUrl=null==e?void 0:e.tmaReturnUrl,d.sessionConfig.redirect=null==e?void 0:e.returnStrategy,t.connect(d)))).then((e=>{e?(c("wallet-selected"),n(e)):(i(!0),c("action-cancelled"))})).catch((e=>{i(!0),w.logDebug("UniversalSingleWalletModal connect  error",JSON.stringify(e)),o(e)}))})),onClose:c,universalLinkParams:n,get lastSelectedWalletInfo(){return za()},setLastSelectedWalletInfo:Fa,connectError:o,showRetry:!1,walletConnector:()=>(Sn(),ln.walletConnector.filter((e=>e.enable))),get language(){return ln.language},sessionConnecting:s})},[Ga,Za]=cn({theme:A.LIGHT,colors:ba,borderRadius:"m"}),Ya={[A.LIGHT]:ba,[A.DARK]:Ca};function Qa(e){Za({theme:e,colors:Ya[e]})}A.LIGHT,A.DARK;const ec=e=>{const t=po(sa,ln.language);return Ln(),jn(),Se(mo.Provider,{value:t,get children(){return Se(Ho.Provider,{get value(){return e.connectUI},get children(){return Se(Ji.Provider,{get value(){return ln.connector},get children(){return[Se(Nt,{}),Se(vt,{theme:Ga,get children(){return Se(at,{component:Ot,style:{position:"relative","z-index":3001},get children(){return[Se($a,{}),Se(va,{get action(){return qa()},setAction:Va})]}})}})]}})}})}})},tc=e=>{setTimeout((()=>Va(e)))};class nc{constructor(){b(this,"listeners",[])}listen(e){this.listeners.push(e)}trigger(e){this.listeners.forEach((t=>t(e)))}}class rc{constructor(e){b(this,"consumers",[]),b(this,"getWalltsInfo"),b(this,"connectSignal",new nc),b(this,"state",La()),this.getWalltsInfo=e.getWalltsInfo,Y((()=>{const e=La();this.state=e,this.consumers.forEach((t=>t(e)))}))}open(e,t){return C(this,null,(function*(){w.logDebug(`UniversalSingleWalletModalManager : open : ${JSON.stringify(t)}`);const n=this.getWalltsInfo().find((t=>fn(t,e)));if(n)return this.openSingleWalletModal(n,t);throw new I(`Trying to open modal window with unknown wallet "${e}".`)}))}close(e="action-cancelled"){(e=>{setTimeout((()=>Ba({status:"closed",closeReason:e})))})(e)}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter((t=>t!==e))}}handleConnect(e,t){return C(this,null,(function*(){return new Promise(((n,r)=>{try{e(t).then((e=>{n(e),w.logDebug("UniversalSingleWalletModalManager  result >>>",JSON.stringify(e)),this.connectSignal.trigger(e)})).catch((e=>{r(e),w.logDebug("UniversalSingleWalletModalManager  error >>>",JSON.stringify(e)),this.connectSignal.trigger(e)}))}catch(e){r(e),w.logDebug("UniversalSingleWalletModalManager  catch error >>>",JSON.stringify(e)),this.connectSignal.trigger(e)}}))}))}openSingleWalletModal(e,t){return C(this,null,(function*(){var n;if(w.logDebug(`UniversalSingleWalletModalManager : openSingleWalletModal : ${JSON.stringify(t)}`),Mt()&&Kt(),dn({connectRequestParameters:t}),Sn(),!ln.walletConnector.some((e=>e.enable)))throw new w.OKXConnectError(w.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);const r=new Promise(((e,t)=>{this.connectSignal.listen((n=>{n instanceof Error?t(n):e(n)}))}));if(1!=ln.walletConnector.length||(null==(n=ln.walletConnector[0])?void 0:n.getTag())!==w.OKX_INJECT_WALLET)return o=e,w.logDebug(`universalWidgetController : openSingleWalletModal : ${JSON.stringify(o)}`),setTimeout((()=>Ba({status:"opened",closeReason:null,walletInfo:o}))),r;var o;{let e=ln.walletConnector[0];t.sessionConfig={openUniversalUrl:!1};const n=ln.connector;if(n)return null==n||n.once("okx_engine_connect_params",(t=>{e.openWallet(t)})),null==n?void 0:n.connect(t)}}))}}var oc=function(e){for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<58;r++){var o=e.charAt(r),i=o.charCodeAt(0);if(255!==t[i])throw new TypeError(o+" is ambiguous");t[i]=r}var s=58,a=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,o=0;e[n]===a;)r++,n++;for(var i=(e.length-n)*c+1>>>0,l=new Uint8Array(i);e[n];){var d=t[e.charCodeAt(n)];if(255===d)return;for(var u=0,h=i-1;(0!==d||u<o)&&-1!==h;h--,u++)d+=s*l[h]>>>0,l[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=u,n++}for(var f=i-o;f!==i&&0===l[f];)f++;for(var g=new Uint8Array(r+(i-f)),p=r;f!==i;)g[p++]=l[f++];return g}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var c=(i-o)*l+1>>>0,d=new Uint8Array(c);o!==i;){for(var u=t[o],h=0,f=c-1;(0!==u||h<r)&&-1!==f;f--,h++)u+=256*d[f]>>>0,d[f]=u%s>>>0,u=u/s>>>0;if(0!==u)throw new Error("Non-zero carry");r=h,o++}for(var g=c-r;g!==c&&0===d[g];)g++;for(var p=a.repeat(n);g<c;++g)p+=e.charAt(d[g]);return p},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base58 character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");const ic=class{constructor(e,t){b(this,"singleWalletModal"),b(this,"actionsConfiguration"),b(this,"systemThemeChangeUnsubscribe",null),b(this,"universalProvider"),w.logDebug("OKXUniversalConnectUI constructor options:",JSON.stringify(e)),this.singleWalletModal=new rc({getWalltsInfo:()=>ic.getWallets()});const n=this.normalizeWidgetRoot(void 0);var r,o;this.universalProvider=t,this.uiOptions=ka(e,{uiPreferences:{theme:"SYSTEM"},dappMetaData:e.dappMetaData}),dn({connector:t,walletConnector:e.connector,dappMetaData:e.dappMetaData}),r=n,o=this,Je((()=>Se(ec,{connectUI:o})),document.getElementById(r))}static getWallets(){return[w.creatOKXWalletInfo(),w.creatOKXMiniAppWalletInfo(),w.creatOKXInjectWalletInfo()]}set uiOptions(e){var t,n,r;w.logDebug("OKXUniversalConnectUI uiOptions() called"),this.actionsConfiguration=e.actionsConfiguration,(null==(t=e.uiPreferences)?void 0:t.theme)&&("SYSTEM"!==(null==(n=e.uiPreferences)?void 0:n.theme)?(null==(r=this.systemThemeChangeUnsubscribe)||r.call(this),Qa(e.uiPreferences.theme)):(Qa(Kn()),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=Un(Qa)))),e.language&&!Ma(e.language.toString())&&(e.language="en_US"),dn((t=>{var n;return ka(y(y({},e.language&&{language:e.language}),!!(null==(n=e.actionsConfiguration)?void 0:n.returnStrategy)&&{returnStrategy:e.actionsConfiguration.returnStrategy}),Qt(t))}))}request(e,t,n){return C(this,null,(function*(){var r,o,i,s,a;if(w.logDebug("OKXUniversalConnectUI request() called"),!this.session)throw new I("Connect wallet to send a transaction.");const c={returnStrategy:Bt("mobile")&&"qrcode"!==(null==(r=za())?void 0:r.openMethod)?null==n?void 0:n.returnStrategy:"none",modals:null==n?void 0:n.modals,tmaReturnUrl:null!=(o=null==n?void 0:n.tmaReturnUrl)?o:"back"},{modals:l,returnStrategy:d,tmaReturnUrl:u}=this.getModalsAndNotificationsConfiguration(c),h=v(y({},e),{redirect:d}),f=this.universalProvider.showRequestModal(h,t);var g,p,m;Pn(this.getConnectWallet())||tc({name:"confirm-transaction",openModal:l.includes("before")&&f,sent:!1}),!(null==(i=this.session.sessionConfig)?void 0:i.openUniversalUrl)&&f&&kn(this.getConnectWallet(),null==(s=za())?void 0:s.openMethod)&&(g=this.getConnectWallet(),p=u,m=this.session.namespaces,w.logDebug("wallets openUniversalWallet"),function(e){return!!xn()&&Nn(e)}(m)&&Rn(g,p)),this.session.sessionConfig&&(this.session.sessionConfig.openUniversalUrl=this.session.sessionConfig.openUniversalUrl&&zt()&&"qrcode"!==(null==(a=za())?void 0:a.openMethod));try{const e=yield this.universalProvider.request(h,t);return tc({name:"transaction-sent",openModal:l.includes("success")&&f}),e}catch(e){throw w.logDebug(`OKXUniversalConnectUI  request  ==>  ${typeof e} ==> is core OKXConnectError: ${e instanceof w.OKXConnectError} ==> is universal-provider OKXConnectError: ${e instanceof N.OKXConnectError} ==>  ${JSON.stringify(e)}`),e instanceof w.OKXConnectError||e instanceof N.OKXConnectError?(w.logDebug(`OKXUniversalConnectUI  request  ==> ${JSON.stringify(e)}`),e.code===w.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR?tc({name:"transaction-canceled",openModal:l.includes("error")&&f}):tc({name:"transaction-error",openModal:l.includes("error")&&f}),e):(tc({name:"transaction-error",openModal:l.includes("error")&&f}),new I("Unhandled error:"+e))}}))}getModalsAndNotificationsConfiguration(e){var t,n,r;const o=["before","success","error"];let i=["before"];(null==(t=this.actionsConfiguration)?void 0:t.modals)&&(i="all"===this.actionsConfiguration.modals?o:this.actionsConfiguration.modals),(null==e?void 0:e.modals)&&(i="all"===e.modals?o:e.modals);const s=(null==e?void 0:e.returnStrategy)||(null==(n=this.actionsConfiguration)?void 0:n.returnStrategy)||"back";return{modals:i,tmaReturnUrl:(null==e?void 0:e.tmaReturnUrl)||(null==(r=this.actionsConfiguration)?void 0:r.tmaReturnUrl)||"back",returnStrategy:s}}static init(e){return C(this,null,(function*(){if(w.logDebug("OKXUniversalConnectUI init() called"),window&&window.okxConnectUniversalUIinwindow instanceof ic)return w.logDebug("OKXUniversalConnectUI init() old called"),window.okxConnectUniversalUIinwindow;if(this.initPromise)return w.logDebug("OKXUniversalConnectUI init() is waiting for ongoing initialization"),this.initPromise;this.initPromise=(()=>C(this,null,(function*(){if(!e||!e.dappMetaData)throw new I("You have to specify a `dappMetaData` in the options.");w.logDebug("OKXUniversalConnectUI init() new called"),e.connector&&0!==e.connector.length||(e.connector=function(){let e=[];return Dn()||e.push(new w.AppwalletConnector),!xn()&&zt()||e.push(new w.TgwalletConnector),An()&&e.push(new w.OkxwalletInjectConnector),e}());const t=yield N.OKXUniversalProvider.init({dappMetaData:e.dappMetaData,connector:e.connector}),n=new ic(e,t);return window&&(window.okxConnectUniversalUIinwindow=n),n})))();try{return yield this.initPromise}finally{this.initPromise=null}}))}normalizeWidgetRoot(e){if(!e||!document.getElementById(e)){e="universal-widget-root";const t=document.createElement("div");t.id=e,document.body.appendChild(t)}return e}getWallets(){return ic.getWallets()}handleConnect(e){return C(this,null,(function*(){return this.singleWalletModal.handleConnect(e,this.actionsConfiguration)}))}checkConnectMethods(e,t){return C(this,null,(function*(){if(w.logDebug("checkConnectMethods connectParams111 >>>>",JSON.stringify(e)),w.logDebug("checkConnectMethods responseItems>>>>",JSON.stringify(t)),this.universalProvider.session&&e&&e.length>0&&(!t||0===t.length)){var n=e[0];if(n){if("sync_all_addresses"===n.method)return;let e=[];try{let t=yield N.connectMethodsAdaptOldVersion(n,this.universalProvider.session);w.logDebug("checkConnectMethods callBackParams111>>>>",JSON.stringify(t));let r={};Mt()&&(r.returnStrategy="tg://resolve"),w.logDebug("checkConnectMethods requestItem>>>>",JSON.stringify(n)),w.logDebug("checkConnectMethods callBackParams222>>>>",JSON.stringify(t)),this.request(n,n.chainId,r).then((r=>{let o=r;if(w.logDebug(`checkConnectMethods then resultItem ====> ${JSON.stringify(o)}`),"wallet_addEthereumChain"===n.method)o={method:n.method,chainId:n.chainId,result:""};else if("personal_sign"===n.method)o={method:n.method,chainId:n.chainId,result:o};else if("btc_signMessage"===n.method)o.chainId=n.chainId;else if("solana_signMessage"===n.method){let e=o.result;o.chainId=n.chainId,o.result=v(y({},t),{signature:oc.decode(e)})}else if("sui_signMessage"===n.method||"sui_signPersonalMessage"===n.method){const e=o.result;o.chainId=n.chainId,o.result=v(y({},t),{signature:e})}else if("aptos_signMessage"===n.method){let e=o.result;e.startsWith("0x")&&(e=e.slice(2,e.length)),o.chainId=n.chainId,o.result="injectResult"in o?o.injectResult:v(y({},t),{signature:e})}else"cosmos_signArbitrary"===n.method&&"string"==typeof o.result&&(o.chainId=n.chainId,o.result=JSON.parse(o.result));e.push(o),w.logDebug(`OKXUniversalConnectUI checkConnectMethods success result ====> ${JSON.stringify(e)}`),this.universalProvider.events.emit("connect_signResponse",e)})).catch((t=>{let r=N.creatNotSupportMethodItemReplay(n);e.push(r),w.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(t)}`),this.universalProvider.events.emit("connect_signResponse",e)}))}catch(t){let r=N.creatNotSupportMethodItemReplay(n);e.push(r),w.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(t)}`),this.universalProvider.events.emit("connect_signResponse",e)}}else console.log("checkConnectMethods requestItem is nil",JSON.stringify(e))}}))}openModalAndSign(e,t){return C(this,null,(function*(){w.logDebug("OKXUniversalConnectUI openModalAndSign() called");const n=v(y({},e),{signRequest:t});return w.logDebug("OKXUniversalConnectUI openModalAndSign() opts:",JSON.stringify(e)),w.reportEvent(w.OKXReportType.CLICK,w.Report_ConnectDapp_ConnectAndSign_Click,this.universalProvider.providerOpts.dappMetaData.name),yield this.openModal(n)}))}openModal(e){return C(this,null,(function*(){w.logDebug("OKXUniversalConnectUI openModal() called");try{if(this.connected())return this.session;let n=e.signRequest?JSON.parse(JSON.stringify(e.signRequest)):[];w.logDebug("OKXUniversalConnectUI openModal signRequest:",JSON.stringify(n));var t=yield this.singleWalletModal.open("okxAppWallet",e);return this.checkConnectMethods(n,null==t?void 0:t.signResponse),t}catch(e){throw e}}))}closeModal(e){this.singleWalletModal.close(e)}openWallet(e,t){this.universalProvider.openWallet(e,t)}onSingleWalletModalStateChange(e){return console.log("ui - onSingleWalletModalStateChange",e),this.singleWalletModal.onStateChange(e)}onModalStateChange(e){return console.log("ui - onModalStateChange",e),this.onSingleWalletModalStateChange(e)}showActionButton(){return Mn(this.getConnectWallet())}getUniversalProvider(){return this.universalProvider}getConnectWallet(){var e,t;return w.logDebug(`this.session?.wallet?.appName ${null==(t=null==(e=this.universalProvider.session)?void 0:e.wallet)?void 0:t.appName}`),this.getWallets().find((e=>{var t,n;return fn(e,null==(n=null==(t=this.universalProvider.session)?void 0:t.wallet)?void 0:n.appName)}))}get session(){return this.universalProvider.session}setDefaultChain(e,t){this.universalProvider.setDefaultChain(e,t)}on(e,t){this.universalProvider.on(e,t)}once(e,t){this.universalProvider.once(e,t)}removeListener(e,t){this.universalProvider.removeListener(e,t)}off(e,t){this.universalProvider.off(e,t)}get walletName(){var e,t;return w.logDebug(`this.getConnectWallet()?.walletName ${null==(e=this.getConnectWallet())?void 0:e.name}`),null==(t=this.getConnectWallet())?void 0:t.name}disconnect(){return this.universalProvider.disconnect()}connected(){return this.universalProvider.connected()}requestAccountsWithNamespace(e){return this.universalProvider.requestAccountsWithNamespace(e)}requestDefaultChainWithNamespace(e){return this.universalProvider.requestDefaultChainWithNamespace(e)}};let sc=ic;b(sc,"initPromise",null),t.OKXConnectUiError=I,t.OKXTonConnectUI=class{constructor(e){b(this,"okxTonConnectUI"),b(this,"connectionRestored",Promise.resolve(!1)),w.logDebug("okx-connect-ton-ui-wrapper constructor called"),window&&window.okxConnectTonUIinwindow&&window.okxConnectTonUIinwindow instanceof Ka?(this.okxTonConnectUI=window.okxConnectTonUIinwindow,w.logDebug("okx-connect-ton-ui-wrapper constructor old called")):(this.okxTonConnectUI=new Ka(e),w.logDebug("okx-connect-ton-ui-wrapper constructor new called"),window&&(window.okxConnectTonUIinwindow=this.okxTonConnectUI))}static getWallets(){return Ka.getWallets()}get connected(){return this.okxTonConnectUI.connected}get account(){return this.okxTonConnectUI.account}get wallet(){return this.okxTonConnectUI.wallet}get walletName(){return this.okxTonConnectUI.walletName}set uiOptions(e){this.okxTonConnectUI.uiOptions=e}setConnectRequestParameters(e){this.okxTonConnectUI.setConnectRequestParameters(e)}getWallets(){return this.okxTonConnectUI.getWallets()}onStatusChange(e,t){return this.okxTonConnectUI.onStatusChange(e,t)}handleConnect(e){return C(this,null,(function*(){return this.okxTonConnectUI.handleConnect(e)}))}openModal(){return C(this,null,(function*(){return this.okxTonConnectUI.openModal()}))}closeModal(e){return this.okxTonConnectUI.closeModal(e)}onModalStateChange(e){return this.okxTonConnectUI.onModalStateChange(e)}get modalState(){return this.okxTonConnectUI.modalState}disconnect(){return this.okxTonConnectUI.disconnect()}sendTransaction(e,t){return C(this,null,(function*(){return this.okxTonConnectUI.sendTransaction(e,t)}))}showActionButton(){return this.okxTonConnectUI.showActionButton()}openWallet(e,t){this.okxTonConnectUI.openWallet(e,t)}},t.OKXUniversalConnectUI=sc,t.OKX_UI_CONNECTION_AND_TRANSACTION_EVENT=Aa,t.THEME=A;for(const e in _)"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:()=>_[e]})},6942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},2571:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CID:()=>We,bases:()=>Qe,bytes:()=>r,codecs:()=>tt,digest:()=>g,hasher:()=>p,hashes:()=>et,varint:()=>f});var r={};n.r(r),n.d(r,{coerce:()=>E,empty:()=>C,equals:()=>O,fromHex:()=>_,fromString:()=>N,isBinary:()=>S,toHex:()=>w,toString:()=>T});var o={};n.r(o),n.d(o,{identity:()=>M});var i={};n.r(i),n.d(i,{base2:()=>K});var s={};n.r(s),n.d(s,{base8:()=>U});var a={};n.r(a),n.d(a,{base10:()=>j});var c={};n.r(c),n.d(c,{base16:()=>L,base16upper:()=>B});var l={};n.r(l),n.d(l,{base32:()=>W,base32hex:()=>J,base32hexpad:()=>q,base32hexpadupper:()=>V,base32hexupper:()=>F,base32pad:()=>H,base32padupper:()=>z,base32upper:()=>X,base32z:()=>$});var d={};n.r(d),n.d(d,{base36:()=>G,base36upper:()=>Z});var u={};n.r(u),n.d(u,{base58btc:()=>Y,base58flickr:()=>Q});var h={};n.r(h),n.d(h,{base64:()=>ee,base64pad:()=>te,base64url:()=>ne,base64urlpad:()=>re});var f={};n.r(f),n.d(f,{decode:()=>be,encodeTo:()=>Ce,encodingLength:()=>we});var g={};n.r(g),n.d(g,{Digest:()=>Se,create:()=>_e,decode:()=>Oe,equals:()=>Ee});var p={};n.r(p),n.d(p,{Hasher:()=>Te,from:()=>Ne});var m={};n.r(m),n.d(m,{sha256:()=>ke,sha512:()=>Pe});var y={};n.r(y),n.d(y,{identity:()=>Ae});var v={};n.r(v),n.d(v,{code:()=>xe,decode:()=>Ke,encode:()=>Me,name:()=>De});var b={};n.r(b),n.d(b,{code:()=>je,decode:()=>Be,encode:()=>Le,name:()=>Ue});const C=new Uint8Array(0),w=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),_=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):C},O=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},E=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},S=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),N=e=>(new TextEncoder).encode(e),T=e=>(new TextDecoder).decode(e);class R{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class k{constructor(e,t,n){this.name=e,this.prefix=t,this.baseDecode=n}decode(e){if("string"==typeof e){if(e[0]===this.prefix)return this.baseDecode(e.slice(1));throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}throw Error("Can only multibase decode strings")}or(e){const t={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new P(t)}}class P{constructor(e){this.decoders=e}or(e){const t=e.decoders||{[e.prefix]:e};return new P({...this.decoders,...t})}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class A{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new R(e,t,n),this.decoder=new k(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const I=({name:e,prefix:t,encode:n,decode:r})=>new A(e,t,n,r),D=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*l+1>>>0,s=new Uint8Array(i);e[t];){var d=n[e.charCodeAt(t)];if(255===d)return;for(var u=0,h=i-1;(0!==d||u<o)&&-1!==h;h--,u++)d+=a*s[h]>>>0,s[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=u,t++}if(" "!==e[t]){for(var f=i-o;f!==i&&0===s[f];)f++;for(var g=new Uint8Array(r+(i-f)),p=r;f!==i;)g[p++]=s[f++];return g}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*d+1>>>0,l=new Uint8Array(s);o!==i;){for(var u=t[o],h=0,f=s-1;(0!==u||h<r)&&-1!==f;f--,h++)u+=256*l[f]>>>0,l[f]=u%a>>>0,u=u/a>>>0;if(0!==u)throw new Error("Non-zero carry");r=h,o++}for(var g=s-r;g!==s&&0===l[g];)g++;for(var p=c.repeat(n);g<s;++g)p+=e.charAt(l[g]);return p},decodeUnsafe:u,decode:function(e){var n=u(e);if(n)return n;throw new Error(`Non-${t} character`)}}}(n,t);return I({prefix:e,name:t,encode:r,decode:e=>E(o(e))})},x=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>I({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let e=0;e<t.length;++e)o[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let t=0;t<i;++t){const i=o[e[t]];if(void 0===i)throw new SyntaxError(`Non-${r} character`);c=c<<n|i,a+=n,a>=8&&(a-=8,s[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),M=I({prefix:"\0",name:"identity",encode:e=>T(e),decode:e=>N(e)}),K=x({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),U=x({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),j=D({prefix:"9",name:"base10",alphabet:"0123456789"}),L=x({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),B=x({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),W=x({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),X=x({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),H=x({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),z=x({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),J=x({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),F=x({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),q=x({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),V=x({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$=x({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),G=D({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Z=D({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Y=D({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Q=D({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ee=x({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),te=x({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ne=x({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),re=x({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var oe=128,ie=-128,se=Math.pow(2,31),ae=128,ce=127,le=Math.pow(2,7),de=Math.pow(2,14),ue=Math.pow(2,21),he=Math.pow(2,28),fe=Math.pow(2,35),ge=Math.pow(2,42),pe=Math.pow(2,49),me=Math.pow(2,56),ye=Math.pow(2,63);const ve={encode:function e(t,n,r){n=n||[];for(var o=r=r||0;t>=se;)n[r++]=255&t|oe,t/=128;for(;t&ie;)n[r++]=255&t|oe,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},decode:function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(r&ce)<<i:(r&ce)*Math.pow(2,i),i+=7}while(r>=ae);return e.bytes=s-n,o},encodingLength:function(e){return e<le?1:e<de?2:e<ue?3:e<he?4:e<fe?5:e<ge?6:e<pe?7:e<me?8:e<ye?9:10}},be=e=>[ve.decode(e),ve.decode.bytes],Ce=(e,t,n=0)=>(ve.encode(e,t,n),t),we=e=>ve.encodingLength(e),_e=(e,t)=>{const n=t.byteLength,r=we(e),o=r+we(n),i=new Uint8Array(o+n);return Ce(e,i,0),Ce(n,i,r),i.set(t,o),new Se(e,n,t,i)},Oe=e=>{const t=E(e),[n,r]=be(t),[o,i]=be(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Se(n,o,s,t)},Ee=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&O(e.bytes,t.bytes);class Se{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Ne=({name:e,code:t,encode:n})=>new Te(e,t,n);class Te{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}async digest(e){if(e instanceof Uint8Array){const t=await this.encode(e);return _e(this.code,t)}throw Error("Unknown type, must be binary type")}}const Re=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ke=Ne({name:"sha2-256",code:18,encode:Re("SHA-256")}),Pe=Ne({name:"sha2-512",code:19,encode:Re("SHA-512")}),Ae=Ne({name:"identity",code:0,encode:e=>E(e)}),Ie=e=>E(e),{name:De,code:xe,encode:Me,decode:Ke}={name:"raw",code:85,decode:Ie,encode:Ie},{name:Ue,code:je,encode:Le,decode:Be}={name:"json",code:512,encode:e=>(new TextEncoder).encode(JSON.stringify(e)),decode:e=>JSON.parse((new TextDecoder).decode(e))};class We{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Ge,byteLength:Ge,code:$e,version:$e,multihash:$e,bytes:$e,_baseCache:Ge,asCID:Ge})}toV0(){if(0===this.version)return this;{const{code:e,multihash:t}=this;if(e!==Je)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Fe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return We.createV0(t)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=_e(e,t);return We.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Ee(this.multihash,e.multihash)}toString(e){const{bytes:t,version:n,_baseCache:r}=this;return 0===n?He(t,r,e||Y.encoder):ze(t,r,e||W.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Ze(/^0\.0/,Ye),!(!e||!e[Ve]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof We)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:o}=e;return new We(t,n,r,o||qe(t,n,r.bytes))}if(null!=e&&!0===e[Ve]){const{version:t,multihash:n,code:r}=e,o=Oe(n);return We.create(t,r,o)}return null}static create(e,t,n){if("number"!=typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==Je)throw new Error(`Version 0 CID must use dag-pb (code: ${Je}) block encoding`);return new We(e,t,n,n.bytes);case 1:{const r=qe(e,t,n.bytes);return new We(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return We.create(0,Je,e)}static createV1(e,t){return We.create(1,e,t)}static decode(e){const[t,n]=We.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=We.inspectBytes(e),n=t.size-t.multihashSize,r=E(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new Se(t.multihashCode,t.digestSize,o,r);return[0===t.version?We.createV0(i):We.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=be(e.subarray(t));return t+=r,n};let r=n(),o=Je;if(18===r?(r=0,t=0):1===r&&(o=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=Xe(e,t),o=We.decode(r);return o._baseCache.set(n,e),o}}const Xe=(e,t)=>{switch(e[0]){case"Q":{const n=t||Y;return[Y.prefix,n.decode(`${Y.prefix}${e}`)]}case Y.prefix:{const n=t||Y;return[Y.prefix,n.decode(e)]}case W.prefix:{const n=t||W;return[W.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},He=(e,t,n)=>{const{prefix:r}=n;if(r!==Y.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},ze=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},Je=112,Fe=18,qe=(e,t,n)=>{const r=we(e),o=r+we(t),i=new Uint8Array(o+n.byteLength);return Ce(e,i,0),Ce(t,i,r),i.set(n,o),i},Ve=Symbol.for("@ipld/js-cid/CID"),$e={writable:!1,configurable:!1,enumerable:!0},Ge={writable:!1,enumerable:!1,configurable:!1},Ze=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},Ye="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",Qe={...o,...i,...s,...a,...c,...l,...d,...u,...h},et={...m,...y},tt={raw:v,json:b}},9609:(e,t,n)=>{"use strict";n.r(t),n.d(t,{toString:()=>c});var r=n(2571);function o(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const i=o("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),s=o("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),a={utf8:i,"utf-8":i,hex:r.bases.base16,latin1:s,ascii:s,binary:s,...r.bases};function c(e,t="utf8"){const n=a[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},9346:e=>{"use strict";e.exports=JSON.parse('{"name":"@okxconnect/core","version":"1.7.3","description":"OKX Connect core","main":"./src/index.js","keywords":["OKXConnect","OKX Connect"],"scripts":{"build":"npx tsc","local":"yarn install && npx tsc","remove":"rm -rf ./src  && rm -rf ./node_modules"},"author":"OKX Wallet","license":"MIT","dependencies":{"@stablelib/ed25519":"^1.0.2","@stablelib/random":"^1.0.1","@stablelib/sha256":"1.0.1","bs58":"^5.0.0","core-js":"2.6.12","cross-fetch":"^4.0.0","crypto-js":"^4.2.0","eventemitter3":"^5.0.1","isutf8":"^4.0.0","localforage":"^1.10.0","multiformats":"9.4.2","process":"^0.11.10","tweetnacl":"^1.0.3","tweetnacl-util":"^0.15.1","ua-parser-js":"^1.0.35","uint8arrays":"3.1.0"},"devDependencies":{"@types/crypto-js":"^4.2.2","@types/ua-parser-js":"^0.7.36","assert":"^2.1.0","eslint":"^9.7.0","events":"^3.3.0","jest":"^29.7.0","ts-loader":"^9.5.1","typescript":"^5.5.2"},"peerDependencies":{"@solana/web3.js":"^1.78.4"}}')},2211:e=>{"use strict";e.exports=JSON.parse('{"name":"@okxconnect/core","version":"1.7.3","description":"OKX Connect core","main":"./src/index.js","keywords":["OKXConnect","OKX Connect"],"scripts":{"build":"npx tsc","local":"yarn install && npx tsc","remove":"rm -rf ./src  && rm -rf ./node_modules"},"author":"OKX Wallet","license":"MIT","dependencies":{"@stablelib/ed25519":"^1.0.2","@stablelib/random":"^1.0.1","@stablelib/sha256":"1.0.1","bs58":"^5.0.0","core-js":"2.6.12","cross-fetch":"^4.0.0","crypto-js":"^4.2.0","eventemitter3":"^5.0.1","isutf8":"^4.0.0","localforage":"^1.10.0","multiformats":"9.4.2","process":"^0.11.10","tweetnacl":"^1.0.3","tweetnacl-util":"^0.15.1","ua-parser-js":"^1.0.35","uint8arrays":"3.1.0"},"devDependencies":{"@types/crypto-js":"^4.2.2","@types/ua-parser-js":"^0.7.36","assert":"^2.1.0","eslint":"^9.7.0","events":"^3.3.0","jest":"^29.7.0","ts-loader":"^9.5.1","typescript":"^5.5.2"},"peerDependencies":{"@solana/web3.js":"^1.78.4"}}')},628:e=>{"use strict";e.exports=JSON.parse('{"name":"@okxconnect/core","version":"1.7.3","description":"OKX Connect core","main":"./src/index.js","keywords":["OKXConnect","OKX Connect"],"scripts":{"build":"npx tsc","local":"yarn install && npx tsc","remove":"rm -rf ./src  && rm -rf ./node_modules"},"author":"OKX Wallet","license":"MIT","dependencies":{"@stablelib/ed25519":"^1.0.2","@stablelib/random":"^1.0.1","@stablelib/sha256":"1.0.1","bs58":"^5.0.0","core-js":"2.6.12","cross-fetch":"^4.0.0","crypto-js":"^4.2.0","eventemitter3":"^5.0.1","isutf8":"^4.0.0","localforage":"^1.10.0","multiformats":"9.4.2","process":"^0.11.10","tweetnacl":"^1.0.3","tweetnacl-util":"^0.15.1","ua-parser-js":"^1.0.35","uint8arrays":"3.1.0"},"devDependencies":{"@types/crypto-js":"^4.2.2","@types/ua-parser-js":"^0.7.36","assert":"^2.1.0","eslint":"^9.7.0","events":"^3.3.0","jest":"^29.7.0","ts-loader":"^9.5.1","typescript":"^5.5.2"},"peerDependencies":{"@solana/web3.js":"^1.78.4"}}')},9661:e=>{"use strict";e.exports={rE:"13.9.0"}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.amdO={},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};const r=n(210).OKXUniversalConnectUI,o=n(5312).OKXTonProvider,i=n(5312).OKXConnectError,s=n(8087);window.OKXUniversalConnectUI=r,window.OKXTonProvider=o,window.OKXConnectError=i,window.Address=s,OKXWallet={}})();